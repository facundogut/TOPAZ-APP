<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<map>
    <class>
        <class-name>topsystems.automaticprocess.activofijo.objectsdomain.Definicion</class-name>
        <entity-name>core.vo_DefinicionActivoFijo</entity-name>
        <table-name>acf_definiciones</table-name>
        <database-name>TOP/CLIENTES</database-name>
        <attribute>
            <attribute-name>tz_lock</attribute-name>
            <column-name>tz_lock</column-name>
        </attribute>
        <attribute>
            <attribute-name>norma</attribute-name>
            <column-name>Norma</column-name>
            <key>primary</key>
        </attribute>
        <attribute>
            <attribute-name>codigoGrupo</attribute-name>
            <column-name>Grupo</column-name>
            <key>primary</key>
        </attribute>
        <attribute>
            <attribute-name>subGrupo</attribute-name>
            <column-name>SubGrupo</column-name>
            <key>primary</key>
        </attribute>
        <attribute>
            <attribute-name>unidadAmortizacion</attribute-name>
            <column-name>Porc_Amortiz_Anual</column-name>
        </attribute>
        <attribute>
            <attribute-name>amortiza</attribute-name>
            <column-name>Amortiza</column-name>
        </attribute>
        <attribute>
            <attribute-name>rubroAmortizacion</attribute-name>
            <column-name>RubroAmort</column-name>
        </attribute>
        <attribute>
            <attribute-name>rubroFinAmortizacion</attribute-name>
            <column-name>Rubro_Fin_Amortizacion</column-name>
        </attribute>
        <attribute>
            <attribute-name>valorResidual</attribute-name>
            <column-name>valor_residual</column-name>
        </attribute>
        <attribute>
            <attribute-name>rubroAcumuladoRevaluacionEjAnt</attribute-name>
            <column-name>rbo_acu_revaluacion_ejer_ant</column-name>
        </attribute>
        <attribute>
            <attribute-name>rubroAcumuladoAmortizacionEjAnt</attribute-name>
            <column-name>rbo_acu_amortizacion_ejer_ant</column-name>
        </attribute>
        <attribute>
            <attribute-name>rubroAcumuladoRevaluacionEjAct</attribute-name>
            <column-name>rbo_acu_revaluacion_ejercicio</column-name>
        </attribute>
        <attribute>
            <attribute-name>rubroAcumuladoAmortizacionEjAct</attribute-name>
            <column-name>rbo_acu_amortizacion_ejerc</column-name>
        </attribute>
        <attribute>
            <attribute-name>rubroInicial</attribute-name>
            <column-name>rubro_inicial</column-name>
        </attribute>
        <attribute>
            <attribute-name>rubroFinal</attribute-name>
            <column-name>rubro_final</column-name>
        </attribute>
        <attribute>
            <attribute-name>rubroFinRevaluacion</attribute-name>
            <column-name>RUBRO_FIN_REVALUACION</column-name>
        </attribute>
        <attribute>
            <attribute-name>rubroContaCuentaRevaluacion</attribute-name>
            <column-name>RUBRO_CONT_CUEN_REVAL</column-name>
        </attribute>
        <attribute>
            <attribute-name>rubroFinal</attribute-name>
            <column-name>RUBRO_REVALUACION</column-name>
        </attribute>
        <attribute>
            <attribute-name>rubroRevaluacionFinal</attribute-name>
            <column-name>RUBRO_REVALUACION_FINAL</column-name>
        </attribute>
        <attribute>
            <attribute-name>rubroRevaluacion</attribute-name>
            <column-name>RUBRO_REVALUACION</column-name>
        </attribute>
    </class>
    <class>
        <class-name>topsystems.automaticprocess.activofijo.objectsdomain.BienActivoFijo</class-name>
        <entity-name>core.vo_BienActivoFijo</entity-name>
        <table-name>acf_bienes</table-name>
        <database-name>TOP/CLIENTES</database-name>
        <attribute>
            <attribute-name>tz_lock</attribute-name>
            <column-name>tz_lock</column-name>
        </attribute>
        <attribute>
            <attribute-name>numeroBien</attribute-name>
            <column-name>NroBien</column-name>
            <key>primary</key>
        </attribute>
        <attribute>
            <attribute-name>sucursal</attribute-name>
            <column-name>Sucursal</column-name>
        </attribute>
        <attribute>
            <attribute-name>grupo</attribute-name>
            <column-name>Grupo</column-name>
        </attribute>
        <attribute>
            <attribute-name>subGrupo</attribute-name>
            <column-name>SubGrupo</column-name>
        </attribute>
        <attribute>
            <attribute-name>monedaOrigen</attribute-name>
            <column-name>MdaOrigen</column-name>
        </attribute>
        <attribute>
            <attribute-name>valorMonedaOrigen</attribute-name>
            <column-name>ValorMdaOrigen</column-name>
        </attribute>
        <attribute>
            <attribute-name>fechaCompra</attribute-name>
            <column-name>FechaCompra</column-name>
        </attribute>
        <attribute>
            <attribute-name>fechaBaja</attribute-name>
            <column-name>FechadeBaja</column-name>
        </attribute>
        <attribute>
            <attribute-name>codigoBaja</attribute-name>
            <column-name>CodigodeBaja</column-name>
        </attribute>
        <attribute>
            <attribute-name>valorMonedaNacional</attribute-name>
            <column-name>ValorMdaNacional</column-name>
        </attribute>
    </class>
    <query>
        <class-name>topsystems.automaticprocess.activofijo.objectsdomain.ImporteCalculado</class-name>
        <query-name>query.vo_ImporteCalculado</query-name>
        <database-name>TOP/CLIENTES</database-name>
        <sentence>
		SELECT tz_lock,
		        sucursal,
		        NroBien,
		        Norma,
		        AnioMes
		 FROM   acf_importes_calculados aic
		 WHERE  (totalmenteAmortizado = 'T') AND
		        tz_lock = 0 AND
		        aniomes = (SELECT min(aniomes)
		                   FROM   acf_importes_calculados aic2
		                   WHERE  aic.nrobien = aic2.nrobien AND
		                          aic.sucursal = aic2.sucursal AND
        tz_lock = 0 and totalmenteAmortizado = 'T')
	</sentence>
        <attribute>
            <attribute-name>tz_lock</attribute-name>
            <column-name>tz_lock</column-name>
            <column-type>long</column-type>
        </attribute>
        <attribute>
            <attribute-name>sucursal</attribute-name>
            <column-name>Sucursal</column-name>
            <column-type>long</column-type>
        </attribute>
        <attribute>
            <attribute-name>numeroBien</attribute-name>
            <column-name>NroBien</column-name>
            <column-type>long</column-type>
        </attribute>
        <attribute>
            <attribute-name>norma</attribute-name>
            <column-name>Norma</column-name>
            <column-type>long</column-type>
        </attribute>
        <attribute>
            <attribute-name>anioMes</attribute-name>
            <column-name>AnioMes</column-name>
            <column-type>long</column-type>
        </attribute>
    </query>
    <class>
        <class-name>topsystems.automaticprocess.activofijo.objectsdomain.ImporteCalculado</class-name>
        <entity-name>core.vo_ImporteCalculado</entity-name>
        <table-name>acf_importes_calculados</table-name>
        <database-name>TOP/CLIENTES</database-name>
        <attribute>
            <attribute-name>tz_lock</attribute-name>
            <column-name>tz_lock</column-name>
        </attribute>
        <attribute>
            <attribute-name>sucursal</attribute-name>
            <column-name>Sucursal</column-name>
            <key>primary</key>
        </attribute>
        <attribute>
            <attribute-name>numeroBien</attribute-name>
            <column-name>NroBien</column-name>
            <key>primary</key>
        </attribute>
        <attribute>
            <attribute-name>norma</attribute-name>
            <column-name>Norma</column-name>
            <key>primary</key>
        </attribute>
        <attribute>
            <attribute-name>anioMes</attribute-name>
            <column-name>AnioMes</column-name>
            <key>primary</key>
        </attribute>
        <attribute>
            <attribute-name>fechaCalculoAnterior</attribute-name>
            <column-name>FechaCalculoAnterior</column-name>
        </attribute>
        <attribute>
            <attribute-name>coeficienteRevaluacion</attribute-name>
            <column-name>CoeficienteRevaluacion</column-name>
        </attribute>
        <attribute>
            <attribute-name>fechaUltimoCalculo</attribute-name>
            <column-name>FechaUltimoCalculo</column-name>
        </attribute>
        <attribute>
            <attribute-name>unidadesAmortizacionAcumulada</attribute-name>
            <column-name>CANT_MESES_AMORT</column-name>
        </attribute>
        <attribute>
            <attribute-name>mesesAmortizadosEjercicio</attribute-name>
            <column-name>MesesAmortizEjerc</column-name>
        </attribute>
        <attribute>
            <attribute-name>mesesAmortizadosEjercicioAnterior</attribute-name>
            <column-name>MesesAmortizEjercAnteriores</column-name>
        </attribute>
        <attribute>
            <attribute-name>totalmenteAmortizado</attribute-name>
            <column-name>TotalmenteAmortizado</column-name>
        </attribute>
        <attribute>
            <attribute-name>valorRevaluacionMdaCalculo</attribute-name>
            <column-name>VALOR_REVAL_MDA_ORIGEN</column-name>
        </attribute>
        <attribute>
            <attribute-name>importeContabRevalMdaCalculo</attribute-name>
            <column-name>IMP_CONT_REVAL_MDA_ORIGEN</column-name>
        </attribute>
        <attribute>
            <attribute-name>importeContabRevalMdaNacional</attribute-name>
            <column-name>IMP_CONT_REVAL_MDA_NACIONAL</column-name>
        </attribute>
        <attribute>
            <attribute-name>valorAmortizacionMesCostoCompra</attribute-name>
            <column-name>VALOR_AM_MES_COSTO_COMPRA</column-name>
        </attribute>
        <attribute>
            <attribute-name>importeContAmortMesCompraMonNac</attribute-name>
            <column-name>IMP_CON_AM_MES_COMP_MDA_NAC</column-name>
        </attribute>
        <attribute>
            <attribute-name>importeContAmortMesCompraMonCalculo</attribute-name>
            <column-name>IMP_CON_AM_MES_COMP_MDA_ORIG</column-name>
        </attribute>
        <attribute>
            <attribute-name>valorAmortizacionMesCostoReval</attribute-name>
            <column-name>VALOR_AM_MES_COSTO_REVAL</column-name>
        </attribute>
        <attribute>
            <attribute-name>importeContAmortMesRevalMonNac</attribute-name>
            <column-name>IMP_CON_AM_MES_REVAL_MDA_NAC</column-name>
        </attribute>
        <attribute>
            <attribute-name>importeContAmortMesRevalMonCalculo</attribute-name>
            <column-name>IMP_CON_AM_MES_REVAL_MDA_ORIG</column-name>
        </attribute>
        <attribute>
            <attribute-name>valorAmortizacionAcumuladaRevaluada</attribute-name>
            <column-name>VALOR_AM_ACUM_REVALUADA</column-name>
        </attribute>
        <attribute>
            <attribute-name>valorAmortizacionAcumuladaCostoCompra</attribute-name>
            <column-name>VALOR_AM_ACUM_COSTO_COMPRA</column-name>
        </attribute>
        <attribute>
            <attribute-name>importeAmortizacionAcumuladaRevaluadaMdaCalculo</attribute-name>
            <column-name>IMP_AM_ACUM_REVAL_MDA_ORIGEN</column-name>
        </attribute>
        <attribute>
            <attribute-name>importeAmortizacionAcumuladaRevaluadaMdaNacional</attribute-name>
            <column-name>IMP_AM_ACUM_REVAL_MDA_NAC</column-name>
        </attribute>
        <attribute>
            <attribute-name>valorAmortizadoAcumuladaCostoCompraEjActual</attribute-name>
            <column-name>VALOR_AM_ACUM_COSTO_EJ_ACT</column-name>
        </attribute>
        <attribute>
            <attribute-name>valorAmortizadoAcumuladaRevaluadaEjActual</attribute-name>
            <column-name>VALOR_AM_ACUM_REVAL_EJ_ACT</column-name>
        </attribute>
        <attribute>
            <attribute-name>fechaProceso</attribute-name>
            <column-name>FECHA_PROCESO</column-name>
        </attribute>
        <attribute>
            <attribute-name>monedaCalculo</attribute-name>
            <column-name>MONEDA_CALCULO</column-name>
        </attribute>
    </class>
    <class>
        <class-name>topsystems.automaticprocess.activofijo.objectsdomain.IndiceActualizacion</class-name>
        <entity-name>core.vo_IndiceActualizacion</entity-name>
        <table-name>acf_indice_actualizacion</table-name>
        <database-name>TOP/CLIENTES</database-name>
        <attribute>
            <attribute-name>tz_lock</attribute-name>
            <column-name>tz_lock</column-name>
        </attribute>
        <attribute>
            <attribute-name>anio</attribute-name>
            <column-name>Anio</column-name>
            <key>primary</key>
        </attribute>
        <attribute>
            <attribute-name>mes</attribute-name>
            <column-name>Mes</column-name>
            <key>primary</key>
        </attribute>
        <attribute>
            <attribute-name>coeficiente</attribute-name>
            <column-name>COEFICIENTE</column-name>
        </attribute>
        <attribute>
            <attribute-name>indicePrecioMensual</attribute-name>
            <column-name>IPM</column-name>
        </attribute>
    </class>
    <class>
        <class-name>topsystems.automaticprocess.activofijo.objectsdomain.Norma</class-name>
        <entity-name>core.vo_NormaActivoFijo</entity-name>
        <table-name>acf_normas</table-name>
        <database-name>TOP/CLIENTES</database-name>
        <attribute>
            <attribute-name>tz_lock</attribute-name>
            <column-name>tz_lock</column-name>
        </attribute>
        <attribute>
            <attribute-name>norma</attribute-name>
            <column-name>Norma</column-name>
            <key>primary</key>
        </attribute>
        <attribute>
            <attribute-name>denominacion</attribute-name>
            <column-name>Denominacion</column-name>
        </attribute>
        <attribute>
            <attribute-name>criterioRevaluacion</attribute-name>
            <column-name>criterioRevaluacion</column-name>
        </attribute>
        <attribute>
            <attribute-name>criterioAmortizacion</attribute-name>
            <column-name>criterioAmortizacion</column-name>
        </attribute>
    </class>
    <query>
        <class-name>topsystems.automaticprocess.activofijo.objectsdomain.BienActivoFijo</class-name>
        <query-name>query.vo_activofijo_bienes</query-name>
        <database-name>TOP/CLIENTES</database-name>
        <sentence>
		           SELECT afb.nroBien,
				          afb.Sucursal
				   FROM   acf_bienes              afb,
				          acf_definiciones        afd
				   WHERE  (afb.fechadebaja IS NULL AND
				          afb.fechaCompra &lt;= ?) 
				          AND
				          afb.tz_lock = 0 AND
				          afd.tz_lock = 0 AND
				          afd.grupo = afb.grupo AND
				          afd.subgrupo = afb.subgrupo AND
	                                  afd.amortiza = 'S'									  
	                   order by sucursal,nrobien
			</sentence>
        <attribute>
            <attribute-name>numeroBien</attribute-name>
            <column-name>nroBien</column-name>
            <column-type>long</column-type>
        </attribute>
        <attribute>
            <attribute-name>sucursal</attribute-name>
            <column-name>Sucursal</column-name>
            <column-type>long</column-type>
        </attribute>
    </query>
    <query>
        <class-name>topsystems.automaticprocess.activofijo.objectsdomain.BienActivoFijo</class-name>
        <query-name>query.vo_activofijo_Amortizacion</query-name>
        <database-name>TOP/CLIENTES</database-name>
        <sentence>
				select afb.nroBien,afb.Sucursal from acf_bienes afb, acf_importes_calculados afic ,acf_definiciones afd where 
				(afb.fechadebaja is null  and afb.fechaCompra &lt;= ? ) 
				and afic.fechaultimocalculo=(select fechaproceso from parametros)  and afb.nrobien=afic.nrobien 
				and afb.tz_lock=0 and afic.tz_lock=0  and afd.grupo=afb.grupo and afd.subgrupo=afb.subgrupo and afd.norma=afic.norma and afd.amortiza = 'S'
				order by afb.sucursal, afb.nroBien		
			</sentence>
        <attribute>
            <attribute-name>numeroBien</attribute-name>
            <column-name>nroBien</column-name>
            <column-type>long</column-type>
        </attribute>
        <attribute>
            <attribute-name>sucursal</attribute-name>
            <column-name>Sucursal</column-name>
            <column-type>long</column-type>
        </attribute>
    </query>
    <query>
        <class-name>topsystems.automaticprocess.activofijo.objectsdomain.ImporteCalculado</class-name>
        <query-name>query.vo_ActivoFijoCierreEjercicio</query-name>
        <database-name>TOP/CLIENTES</database-name>
        <sentence>
				select afb.Sucursal,afb.NroBien, afic.Norma, afic.AnioMes from acf_bienes afb, acf_importes_calculados afic ,acf_definiciones afd where 
				(afb.fechadebaja is null  and afb.fechaCompra &lt;= ? ) 
				and afic.fechaultimocalculo=(SELECT FECHAULTIMOBALANCE FROM CO_PARAMETROSCONTABLES)  and afb.nrobien=afic.nrobien 
				and afb.tz_lock=0 and afic.tz_lock=0  and afd.grupo=afb.grupo and afd.subgrupo=afb.subgrupo and afd.norma=afic.norma
				order by afb.sucursal, afb.nroBien		
			</sentence>
        <attribute>
            <attribute-name>sucursal</attribute-name>
            <column-name>Sucursal</column-name>
            <column-type>long</column-type>
        </attribute>
        <attribute>
            <attribute-name>numeroBien</attribute-name>
            <column-name>NroBien</column-name>
            <column-type>long</column-type>
        </attribute>
        <attribute>
            <attribute-name>norma</attribute-name>
            <column-name>Norma</column-name>
            <column-type>long</column-type>
        </attribute>
        <attribute>
            <attribute-name>anioMes</attribute-name>
            <column-name>AnioMes</column-name>
            <column-type>long</column-type>
        </attribute>
    </query>
</map>
