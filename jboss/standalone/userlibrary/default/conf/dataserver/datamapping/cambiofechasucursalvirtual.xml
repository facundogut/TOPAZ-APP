<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<map>
    <query>
        <class-name>topsystems.automaticprocess.cambiofechasucvirtual.SucursalVirtual</class-name>
        <query-name>query.vo.SucursalVirtualCanal</query-name>
        <database-name>TOP/CLIENTES</database-name>
        <sentence>
					SELECT SPC.EMPRESA, SPC.CANAL,SPC.SUCURSAL,SC.FECHAPROCESOACTUAL,SC.FECHAPROCESOPROXIMO
					FROM SUCURSALESSC SC
					INNER JOIN SUCURSALES_POR_CANAL SPC ON (SC.SUCURSAL= SPC.SUCURSAL AND SC.EMPRESA=SPC.EMPRESA)
					WHERE SC.ACTIVA=1 AND SC.VIRTUAL=1 AND SC.TZ_Lock=0
            </sentence>
        <attribute>
            <attribute-name>empresa</attribute-name>
            <column-name>EMPRESA</column-name>
            <column-type>long</column-type>
        </attribute>
        <attribute>
            <attribute-name>canal</attribute-name>
            <column-name>CANAL</column-name>
            <column-type>long</column-type>
        </attribute>
        <attribute>
            <attribute-name>sucursal</attribute-name>
            <column-name>SUCURSAL</column-name>
            <column-type>long</column-type>
        </attribute>
        <attribute>
            <attribute-name>fechaProcesoActual</attribute-name>
            <column-name>FECHAPROCESOACTUAL</column-name>
            <column-type>date</column-type>
        </attribute>
        <attribute>
            <attribute-name>fechaProximoProceso</attribute-name>
            <column-name>FECHAPROCESOPROXIMO</column-name>
            <column-type>date</column-type>
        </attribute>
    </query>
    <query>
        <class-name>topsystems.automaticprocess.cambiofechasucvirtual.SucursalVirtual</class-name>
        <query-name>query.vo.SucursalVirtual</query-name>
        <database-name>TOP/CLIENTES</database-name>
        <sentence>
					SELECT SC.SUCURSAL,SC.EMPRESA,0 AS CANAL,SC.FECHAPROCESOACTUAL,SC.FECHAPROCESOPROXIMO
					FROM SUCURSALESSC SC WHERE SC.ACTIVA=1 AND SC.VIRTUAL=1 AND SC.TZ_LOCK=0
	        </sentence>
        <attribute>
            <attribute-name>empresa</attribute-name>
            <column-name>EMPRESA</column-name>
            <column-type>long</column-type>
        </attribute>
        <attribute>
            <attribute-name>canal</attribute-name>
            <column-name>CANAL</column-name>
            <column-type>long</column-type>
        </attribute>
        <attribute>
            <attribute-name>sucursal</attribute-name>
            <column-name>SUCURSAL</column-name>
            <column-type>long</column-type>
        </attribute>
        <attribute>
            <attribute-name>fechaProcesoActual</attribute-name>
            <column-name>FECHAPROCESOACTUAL</column-name>
            <column-type>date</column-type>
        </attribute>
        <attribute>
            <attribute-name>fechaProximoProceso</attribute-name>
            <column-name>FECHAPROCESOPROXIMO</column-name>
            <column-type>date</column-type>
        </attribute>
    </query>
</map>
