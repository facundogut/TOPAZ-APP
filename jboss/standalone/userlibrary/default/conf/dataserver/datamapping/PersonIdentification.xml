<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<map>
    <class>
        <class-name>topsystems.personidentification.app.persistence.valueobjects.PersonaFisicaVO</class-name>
        <entity-name>pi_PersonaFisica</entity-name>
        <table-name>CLI_PERSONASFISICAS</table-name>
        <database-name>TOP/CLIENTES</database-name>
        <attribute>
            <attribute-name>tz_lock</attribute-name>
            <column-name>TZ_LOCK</column-name>
        </attribute>
        <attribute>
            <attribute-name>numeroPersona</attribute-name>
            <column-name>NUMEROPERSONAFISICA</column-name>
            <key>primary</key>
        </attribute>
        <attribute>
            <attribute-name>primerNombre</attribute-name>
            <column-name>PRIMERNOMBRE</column-name>
        </attribute>
        <attribute>
            <attribute-name>segundoNombre</attribute-name>
            <column-name>SEGUNDONOMBRE</column-name>
        </attribute>
        <attribute>
            <attribute-name>apellidoPaterno</attribute-name>
            <column-name>APELLIDOPATERNO</column-name>
        </attribute>
        <attribute>
            <attribute-name>apellidoMaterno</attribute-name>
            <column-name>APELLIDOMATERNO</column-name>
        </attribute>
    </class>
    <class>
        <class-name>topsystems.personidentification.app.persistence.valueobjects.PersonSignatureVO</class-name>
        <entity-name>pi_PersonSignature</entity-name>
        <table-name>CLI_PERSONAS_FIRMAS</table-name>
        <database-name>TOP/CLIENTES</database-name>
        <attribute>
            <attribute-name>tz_lock</attribute-name>
            <column-name>TZ_LOCK</column-name>
        </attribute>
        <attribute>
            <attribute-name>numeroPersonaFisica</attribute-name>
            <column-name>NUMEROPERSONAFISICA</column-name>
            <key>primary</key>
        </attribute>
        <attribute>
            <attribute-name>numeroFirma</attribute-name>
            <column-name>NUMERO_FIRMA</column-name>
            <key>primary</key>
        </attribute>
        <attribute>
            <attribute-name>firma</attribute-name>
            <column-name>FIRMA</column-name>
        </attribute>
        <attribute>
            <attribute-name>vencimiento</attribute-name>
            <column-name>VENCIMIENTO</column-name>
        </attribute>
        <attribute>
            <attribute-name>autorizador</attribute-name>
            <column-name>AUTORIZADOR</column-name>
        </attribute>
    </class>
    <class>
        <class-name>topsystems.personidentification.app.persistence.valueobjects.PersonPictureVO</class-name>
        <entity-name>core.vo_PersonPicture</entity-name>
        <table-name>CLI_PERSONAS_FOTOS</table-name>
        <database-name>TOP/CLIENTES</database-name>
        <attribute>
            <attribute-name>numeroPersonaFisica</attribute-name>
            <column-name>NUMEROPERSONAFISICA</column-name>
            <key>primary</key>
        </attribute>
        <attribute>
            <attribute-name>numeroFoto</attribute-name>
            <column-name>NUMEROFOTO</column-name>
            <key>primary</key>
        </attribute>
        <attribute>
            <attribute-name>imagen</attribute-name>
            <column-name>IMAGEN</column-name>
        </attribute>
        <attribute>
            <attribute-name>tz_lock</attribute-name>
            <column-name>TZ_LOCK</column-name>
        </attribute>
    </class>
    <class>
        <class-name>topsystems.personidentification.app.persistence.valueobjects.BitacoraPersonSignatureVO</class-name>
        <entity-name>pi_BitacoraPersonSignature</entity-name>
        <table-name>CLI_BIT_PERSONAS_FIRMAS</table-name>
        <database-name>TOP/CLIENTES</database-name>
        <attribute>
            <attribute-name>bitFechaHora</attribute-name>
            <column-name>BIT_FECHA_HORA</column-name>
            <key>primary</key>
        </attribute>
        <attribute>
            <attribute-name>bitUsuario</attribute-name>
            <column-name>BIT_USUARIO</column-name>
        </attribute>
        <attribute>
            <attribute-name>bitAccion</attribute-name>
            <column-name>BIT_ACCION</column-name>
            <key>primary</key>
        </attribute>
        <attribute>
            <attribute-name>numeroPersonaFisica</attribute-name>
            <column-name>NUMEROPERSONAFISICA</column-name>
            <key>primary</key>
        </attribute>
        <attribute>
            <attribute-name>numeroFirma</attribute-name>
            <column-name>NUMERO_FIRMA</column-name>
            <key>primary</key>
        </attribute>
        <attribute>
            <attribute-name>firma</attribute-name>
            <column-name>FIRMA</column-name>
        </attribute>
        <attribute>
            <attribute-name>vencimiento</attribute-name>
            <column-name>VENCIMIENTO</column-name>
        </attribute>
        <attribute>
            <attribute-name>autorizador</attribute-name>
            <column-name>AUTORIZADOR</column-name>
        </attribute>
    </class>
    <class>
        <class-name>topsystems.personidentification.app.persistence.valueobjects.BitacoraPersonPictureVO</class-name>
        <entity-name>pi_BitacoraPersonPicture</entity-name>
        <table-name>CLI_BIT_PERSONAS_FOTOS</table-name>
        <database-name>TOP/CLIENTES</database-name>
        <attribute>
            <attribute-name>bitFechaHora</attribute-name>
            <column-name>BIT_FECHA_HORA</column-name>
            <key>primary</key>
        </attribute>
        <attribute>
            <attribute-name>bitUsuario</attribute-name>
            <column-name>BIT_USUARIO</column-name>
        </attribute>
        <attribute>
            <attribute-name>bitAccion</attribute-name>
            <column-name>BIT_ACCION</column-name>
            <key>primary</key>
        </attribute>
        <attribute>
            <attribute-name>numeroPersonaFisica</attribute-name>
            <column-name>NUMEROPERSONAFISICA</column-name>
            <key>primary</key>
        </attribute>
        <attribute>
            <attribute-name>numeroFoto</attribute-name>
            <column-name>NUMEROFOTO</column-name>
            <key>primary</key>
        </attribute>
        <attribute>
            <attribute-name>imagen</attribute-name>
            <column-name>IMAGEN</column-name>
        </attribute>
    </class>
    <class>
        <class-name>topsystems.personidentification.app.persistence.valueobjects.DocumentImageVO</class-name>
        <entity-name>core.vo_DocumentImageVO</entity-name>
        <table-name>CLI_PERSONAS_IMAGEN_DOC</table-name>
        <database-name>TOP/CLIENTES</database-name>
        <attribute>
            <attribute-name>numeroPersonaFisica</attribute-name>
            <column-name>NUMEROPERSONAFISICA</column-name>
            <key>primary</key>
        </attribute>
        <attribute>
            <attribute-name>numeroDocumento</attribute-name>
            <column-name>NUMERO_DOCUMENTO</column-name>
            <key>primary</key>
        </attribute>
        <attribute>
            <attribute-name>codigoDocumento</attribute-name>
            <column-name>CODIGO_DOCUMENTO</column-name>
            <key>primary</key>
        </attribute>
        <attribute>
            <attribute-name>numeroImagen</attribute-name>
            <column-name>NUMERO_IMAGEN</column-name>
            <key>primary</key>
        </attribute>
        <attribute>
            <attribute-name>imagen</attribute-name>
            <column-name>IMAGEN</column-name>
        </attribute>
        <attribute>
            <attribute-name>tz_lock</attribute-name>
            <column-name>TZ_LOCK</column-name>
        </attribute>
    </class>
    <class>
        <class-name>topsystems.personidentification.app.persistence.valueobjects.BitacoraDocumentImageVO</class-name>
        <entity-name>pi_BitacoraDocumentImage</entity-name>
        <table-name>CLI_BIT_PERSONAS_IMAGEN_DOC</table-name>
        <database-name>TOP/CLIENTES</database-name>
        <attribute>
            <attribute-name>bitFechaHora</attribute-name>
            <column-name>BIT_FECHA_HORA</column-name>
            <key>primary</key>
        </attribute>
        <attribute>
            <attribute-name>bitUsuario</attribute-name>
            <column-name>BIT_USUARIO</column-name>
        </attribute>
        <attribute>
            <attribute-name>bitAccion</attribute-name>
            <column-name>BIT_ACCION</column-name>
            <key>primary</key>
        </attribute>
        <attribute>
            <attribute-name>numeroPersonaFisica</attribute-name>
            <column-name>NUMEROPERSONAFISICA</column-name>
            <key>primary</key>
        </attribute>
        <attribute>
            <attribute-name>numeroDocumento</attribute-name>
            <column-name>NUMERO_DOCUMENTO</column-name>
            <key>primary</key>
        </attribute>
        <attribute>
            <attribute-name>codigoDocumento</attribute-name>
            <column-name>CODIGO_DOCUMENTO</column-name>
            <key>primary</key>
        </attribute>
        <attribute>
            <attribute-name>numeroImagen</attribute-name>
            <column-name>NUMERO_IMAGEN</column-name>
            <key>primary</key>
        </attribute>
        <attribute>
            <attribute-name>imagen</attribute-name>
            <column-name>IMAGEN</column-name>
        </attribute>
    </class>
    <query>
        <class-name>topsystems.personidentification.app.persistence.valueobjects.PersonaFisicaVO</class-name>
        <query-name>query_PersonasFisicas</query-name>
        <database-name>TOP/CLIENTES</database-name>
        <sentence>
		SELECT 
		   TZ_LOCK, 
		   NUMEROPERSONAFISICA, 
		   PRIMERNOMBRE, 
		   SEGUNDONOMBRE, 
		   APELLIDOPATERNO, 
		   APELLIDOMATERNO 
		FROM CLI_PERSONASFISICAS
        WHERE (0 = ? OR NUMEROPERSONAFISICA = ?) 
		AND   (0 = ? OR PRIMERNOMBRE LIKE '%' + ? + '%')        
		AND   (0 = ? OR SEGUNDONOMBRE LIKE '%' + ? + '%')
		AND   (0 = ? OR APELLIDOPATERNO LIKE '%' + ? + '%')
		AND   (0 = ? OR APELLIDOMATERNO LIKE '%' + ? + '%')
        AND   TZ_LOCK = 0
	</sentence>
        <attribute>
            <attribute-name>tz_lock</attribute-name>
            <column-name>TZ_LOCK</column-name>
            <column-type>long</column-type>
        </attribute>
        <attribute>
            <attribute-name>numeroPersona</attribute-name>
            <column-name>NUMEROPERSONAFISICA</column-name>
            <column-type>long</column-type>
        </attribute>
        <attribute>
            <attribute-name>primerNombre</attribute-name>
            <column-name>PRIMERNOMBRE</column-name>
            <column-type>String</column-type>
        </attribute>
        <attribute>
            <attribute-name>segundoNombre</attribute-name>
            <column-name>SEGUNDONOMBRE</column-name>
            <column-type>String</column-type>
        </attribute>
        <attribute>
            <attribute-name>apellidoPaterno</attribute-name>
            <column-name>APELLIDOPATERNO</column-name>
            <column-type>String</column-type>
        </attribute>
        <attribute>
            <attribute-name>apellidoMaterno</attribute-name>
            <column-name>APELLIDOMATERNO</column-name>
            <column-type>String</column-type>
        </attribute>
    </query>
    <query>
        <class-name>topsystems.personidentification.app.persistence.valueobjects.PersonSignatureVO</class-name>
        <query-name>query_UltimoNumeroFirma</query-name>
        <database-name>TOP/CLIENTES</database-name>
        <sentence>
		SELECT 
		   NUMEROPERSONAFISICA, 
		   MAX(NUMERO_FIRMA) NUMERO_FIRMA 
		FROM CLI_PERSONAS_FIRMAS
        WHERE NUMEROPERSONAFISICA = ? 
        AND   TZ_LOCK = 0
		GROUP BY NUMEROPERSONAFISICA 
	</sentence>
        <attribute>
            <attribute-name>numeroPersonaFisica</attribute-name>
            <column-name>NUMEROPERSONAFISICA</column-name>
            <column-type>long</column-type>
        </attribute>
        <attribute>
            <attribute-name>numeroFirma</attribute-name>
            <column-name>NUMERO_FIRMA</column-name>
            <column-type>long</column-type>
        </attribute>
    </query>
    <query>
        <class-name>topsystems.personidentification.app.persistence.valueobjects.PersonPictureVO</class-name>
        <query-name>query_UltimoNumeroFoto</query-name>
        <database-name>TOP/CLIENTES</database-name>
        <sentence>
		SELECT 
		   NUMEROPERSONAFISICA, 
		   MAX(NUMEROFOTO) NUMEROFOTO 
		FROM CLI_PERSONAS_FOTOS
        WHERE NUMEROPERSONAFISICA = ? 
        AND   TZ_LOCK = 0
		GROUP BY NUMEROPERSONAFISICA 
	</sentence>
        <attribute>
            <attribute-name>numeroPersonaFisica</attribute-name>
            <column-name>NUMEROPERSONAFISICA</column-name>
            <column-type>long</column-type>
        </attribute>
        <attribute>
            <attribute-name>numeroFoto</attribute-name>
            <column-name>NUMEROFOTO</column-name>
            <column-type>long</column-type>
        </attribute>
    </query>
    <query>
        <class-name>topsystems.personidentification.app.persistence.valueobjects.DocumentImageVO</class-name>
        <query-name>query_UltimoNumeroImagenDocumento</query-name>
        <database-name>TOP/CLIENTES</database-name>
        <sentence>
		SELECT 
		   NUMEROPERSONAFISICA, 
		   MAX(NUMERO_IMAGEN) NUMERO_IMAGEN 
		FROM CLI_PERSONAS_IMAGEN_DOC
        WHERE NUMEROPERSONAFISICA = ? 
        AND   NUMERO_DOCUMENTO = ?
        AND   CODIGO_DOCUMENTO = ?
        AND   TZ_LOCK = 0
		GROUP BY NUMEROPERSONAFISICA 
	</sentence>
        <attribute>
            <attribute-name>numeroPersonaFisica</attribute-name>
            <column-name>NUMEROPERSONAFISICA</column-name>
            <column-type>long</column-type>
        </attribute>
        <attribute>
            <attribute-name>numeroImagen</attribute-name>
            <column-name>NUMERO_IMAGEN</column-name>
            <column-type>long</column-type>
        </attribute>
    </query>
</map>
