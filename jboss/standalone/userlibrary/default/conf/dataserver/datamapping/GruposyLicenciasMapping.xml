<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<map>
    <class>
        <class-name>topsystems.automaticprocess.seguridad.valueobjects.AsignacionGrupos</class-name>
        <entity-name>core.vo_AsignacionGrupos</entity-name>
        <table-name>ASIGNACION_GRUPOS</table-name>
        <database-name>TOP/CLIENTES</database-name>
        <attribute>
            <attribute-name>usuario</attribute-name>
            <column-name>USUARIO</column-name>
            <key>primary</key>
        </attribute>
        <attribute>
            <attribute-name>fechaInicial</attribute-name>
            <column-name>FECHA_INICIAL</column-name>
            <key>primary</key>
        </attribute>
        <attribute>
            <attribute-name>fechaFinal</attribute-name>
            <column-name>FECHA_FINAL</column-name>
        </attribute>
        <attribute>
            <attribute-name>grupo</attribute-name>
            <column-name>GRUPO</column-name>
        </attribute>
        <attribute>
            <attribute-name>grupoTemporal</attribute-name>
            <column-name>GRUPO_TEMPORAL</column-name>
        </attribute>
        <attribute>
            <attribute-name>estado</attribute-name>
            <column-name>ESTADO</column-name>
        </attribute>
        <attribute>
            <attribute-name>TZ_LOCK</attribute-name>
            <column-name>TZ_LOCK</column-name>
        </attribute>
    </class>
    <query>
        <class-name>topsystems.automaticprocess.seguridad.valueobjects.AsignacionGrupos</class-name>
        <query-name>query.AsignacionTemporalGrupo</query-name>
        <database-name>TOP/CLIENTES</database-name>
        <sentence>
					SELECT * FROM ASIGNACION_GRUPOS WHERE ((ESTADO NOT IN ('F', 'I') OR ESTADO IS NULL) OR
					(ESTADO LIKE 'I' AND FECHA_FINAL &lt; (SELECT FECHAPROCESO FROM PARAMETROS) )) AND TZ_LOCK = 0
				</sentence>
        <attribute>
            <attribute-name>usuario</attribute-name>
            <column-name>USUARIO</column-name>
            <column-type>String</column-type>
        </attribute>
        <attribute>
            <attribute-name>fechaInicial</attribute-name>
            <column-name>FECHA_INICIAL</column-name>
            <column-type>Date</column-type>
        </attribute>
        <attribute>
            <attribute-name>fechaFinal</attribute-name>
            <column-name>FECHA_FINAL</column-name>
            <column-type>Date</column-type>
        </attribute>
        <attribute>
            <attribute-name>grupo</attribute-name>
            <column-name>GRUPO</column-name>
            <column-type>String</column-type>
        </attribute>
        <attribute>
            <attribute-name>grupoTemporal</attribute-name>
            <column-name>GRUPO_TEMPORAL</column-name>
            <column-type>String</column-type>
        </attribute>
        <attribute>
            <attribute-name>estado</attribute-name>
            <column-name>ESTADO</column-name>
            <column-type>String</column-type>
        </attribute>
    </query>
    <class>
        <class-name>topsystems.automaticprocess.seguridad.valueobjects.Licencias</class-name>
        <entity-name>core.vo_LicenciasUsuarios</entity-name>
        <table-name>LICENCIAS</table-name>
        <database-name>TOP/CLIENTES</database-name>
        <attribute>
            <attribute-name>clave</attribute-name>
            <column-name>CLAVE</column-name>
            <key>primary</key>
        </attribute>
        <attribute>
            <attribute-name>fechaInicio</attribute-name>
            <column-name>FECHA_INICIO</column-name>
            <key>primary</key>
        </attribute>
        <attribute>
            <attribute-name>fechaFin</attribute-name>
            <column-name>FECHA_FIN</column-name>
        </attribute>
        <attribute>
            <attribute-name>tipo</attribute-name>
            <column-name>TIPO</column-name>
        </attribute>
        <attribute>
            <attribute-name>TZ_LOCK</attribute-name>
            <column-name>TZ_LOCK</column-name>
        </attribute>
    </class>
    <query>
        <class-name>topsystems.automaticprocess.seguridad.valueobjects.Licencias</class-name>
        <query-name>query.AsignacionLicencias</query-name>
        <database-name>TOP/CLIENTES</database-name>
        <sentence>
					SELECT * FROM LICENCIAS WHERE TIPO &lt;&gt; 2 AND TZ_LOCK = 0
				</sentence>
        <attribute>
            <attribute-name>clave</attribute-name>
            <column-name>CLAVE</column-name>
            <column-type>String</column-type>
        </attribute>
        <attribute>
            <attribute-name>fechaInicio</attribute-name>
            <column-name>FECHA_INICIO</column-name>
            <column-type>Date</column-type>
        </attribute>
        <attribute>
            <attribute-name>fechaFin</attribute-name>
            <column-name>FECHA_FIN</column-name>
            <column-type>Date</column-type>
        </attribute>
        <attribute>
            <attribute-name>tipo</attribute-name>
            <column-name>TIPO</column-name>
            <column-type>long</column-type>
        </attribute>
    </query>
</map>
