<?xml version="1.0" encoding="UTF-8"?>
<!-- edited with XML Spy v4.3 U (http://www.xmlspy.com) by Paula (Top Systems) -->
<map>
	<query>
		<class-name>topsystems.automaticprocess.objectdomain.CustodioValores</class-name>
		<query-name>query.vo_Custodio_Valores</query-name>
		<database-name>TOP/CLIENTES</database-name>
		<sentence>select codTitulo, custodios, valorNominal from VAL_CUSTODIO_VALORES where codTitulo = ? and fechaVencimiento = ? and tz_lock = 0
			    </sentence>
		<attribute>
			<attribute-name>codTitulo</attribute-name>
			<column-name>CODTITULO</column-name>
			<column-type>long</column-type>
		</attribute>
		<attribute>
			<attribute-name>custodio</attribute-name>
			<column-name>CUSTODIOS</column-name>
			<column-type>long</column-type>
		</attribute>
		<attribute>
			<attribute-name>valorNominal</attribute-name>
			<column-name>VALORNOMINAL</column-name>
			<column-type>double</column-type>
		</attribute>
		<attribute>
			<attribute-name>fechaVencimiento</attribute-name>
			<column-name>FECHAVENCIMIENTO</column-name>
			<column-type>Timestamp</column-type>
		</attribute>
	</query>
	<query>
		<class-name>topsystems.automaticprocess.objectsdomain.JtsOidGenericObject</class-name>
		<query-name>query.ValoresDevengamiento</query-name>
		<database-name>TOP/CLIENTES</database-name>
		<sentence> 
		select distinct JTS_OID
		from saldos, planctas, PRODUCTOS,val_titulos 
		where 
		c1621 &lt;= (select FechaProceso from parametros) and 
		(c1604 &lt; 0 and C1785 = 7) and
		saldos.Tz_lock = 0 and PRODUCTOS.TZ_LOCK=0 AND PLANCTAS.TZ_LOCK=0 AND
		(C1756 &lt; (select FechaProceso from parametros) or
		 C1756 is null) AND
		c6326 = c1730 AND 
		PRODUCTOS.C6250=SALDOS.PRODUCTO AND  saldos.cod_titulo = val_titulos.codtitulo AND
		(PRODUCTOS.C8175=1 OR   (PRODUCTOS.C8175=3 and val_titulos.preciotasa = 'T') )--Bonos TIPO ESPECIE 1  / letra TIPO ESPECIE 3
		AND devenga &lt;&gt; 'N' 
		AND val_titulos.tz_lock = 0
		</sentence>
		<attribute>
			<attribute-name>jts_oid</attribute-name>
			<column-name>JTS_OID</column-name>
			<column-type>long</column-type>
		</attribute>
	</query>
	<class>
		<class-name>topsystems.automaticprocess.objectdomain.CustodioValores</class-name>
		<entity-name>core.vo_Custodio_Valores</entity-name>
		<table-name>VAL_CUSTODIO_VALORES</table-name>
		<database-name>TOP/CLIENTES</database-name>
		<attribute>
			<attribute-name>codTitulo</attribute-name>
			<column-name>CODTITULO</column-name>
			<key>PRIMARY</key>
		</attribute>
		<attribute>
			<attribute-name>custodio</attribute-name>
			<column-name>CUSTODIOS</column-name>
			<key>PRIMARY</key>
		</attribute>
		<attribute>
			<attribute-name>valorNominal</attribute-name>
			<column-name>VALORNOMINAL</column-name>
		</attribute>
		<attribute>
			<attribute-name>fechaVencimiento</attribute-name>
			<column-name>FECHAVENCIMIENTO</column-name>
			<key>PRIMARY</key>
		</attribute>
	</class>
	<class>
		<class-name>topsystems.automaticprocess.objectdomain.SaldoDevengarValores</class-name>
		<entity-name>core.vo_SaldoDevengarValores</entity-name>
		<table-name>SALDOS</table-name>
		<database-name>TOP/CLIENTES</database-name>
		<attribute>
			<attribute-name>JTS_OID</attribute-name>
			<column-name>JTS_OID</column-name>
			<key>primary</key>
		</attribute>
		<attribute>
			<attribute-name>SAL_INT_CONTABILIZADOS</attribute-name>
			<column-name>C1609</column-name>
		</attribute>
		<attribute>
			<attribute-name>SAL_INT_CONTABILIZADOS_ANT</attribute-name>
			<column-name>C1812</column-name>
		</attribute>
		<attribute>
			<attribute-name>SAL_INT_DEVENGADO_VIGENTE</attribute-name>
			<column-name>C1814</column-name>
		</attribute>
		<attribute>
			<attribute-name>SAL_FECHA_DEVENGAMIENTO</attribute-name>
			<column-name>C1813</column-name>
		</attribute>
	</class>
	<class>
		<class-name>topsystems.topaz.products.trade.api.objectsdomain.HistoriaTradeImpl</class-name>
		<entity-name>core.vo_HistoriaTrade</entity-name>
		<table-name>HISTORIA_TRADE</table-name>
		<database-name>TOP/CLIENTES</database-name>
		<attribute>
			<attribute-name>asiento</attribute-name>
			<column-name>ASIENTO</column-name>
			<key>primary</key>
		</attribute>
		<attribute>
			<attribute-name>trReal</attribute-name>
			<column-name>TRREAL</column-name>
			<key>primary</key>
		</attribute>
		<attribute>
			<attribute-name>ordinal</attribute-name>
			<column-name>ORDINAL</column-name>
			<key>primary</key>
		</attribute>
		<attribute>
			<attribute-name>trVirtual</attribute-name>
			<column-name>TRVIRTUAL</column-name>
			<key>primary</key>
		</attribute>
		<attribute>
			<attribute-name>trTipo</attribute-name>
			<column-name>TRTIPO</column-name>
			<key>primary</key>
		</attribute>
		<attribute>
			<attribute-name>sucursal</attribute-name>
			<column-name>SUCURSAL</column-name>
			<key>primary</key>
		</attribute>
		<attribute>
			<attribute-name>fechaProceso</attribute-name>
			<column-name>FECHA_PROCESO</column-name>
			<key>primary</key>
		</attribute>
		<attribute>
			<attribute-name>saldoJtsOid</attribute-name>
			<column-name>SALDO_JTS_OID</column-name>
		</attribute>
		<attribute>
			<attribute-name>debitoCredito</attribute-name>
			<column-name>DEBITO_CREDITO</column-name>
		</attribute>
		<attribute>
			<attribute-name>fechaValor</attribute-name>
			<column-name>FECHA_VALOR</column-name>
		</attribute>
		<attribute>
			<attribute-name>evento</attribute-name>
			<column-name>EVENTO</column-name>
		</attribute>
		<attribute>
			<attribute-name>cajaDiario</attribute-name>
			<column-name>CAJA_DIARIO</column-name>
		</attribute>
		<attribute>
			<attribute-name>ajuste</attribute-name>
			<column-name>AJUSTE</column-name>
		</attribute>
		<attribute>
			<attribute-name>monto</attribute-name>
			<column-name>MONTO</column-name>
		</attribute>	
		<attribute>
			<attribute-name>montoNominal</attribute-name>
			<column-name>MONTO_NOMINAL</column-name>
		</attribute>
		<attribute>
			<attribute-name>equivalenteMN</attribute-name>
			<column-name>EQUIVALENTEMN</column-name>
		</attribute>		
		<attribute>
			<attribute-name>tz_lock</attribute-name>
			<column-name>TZ_LOCK</column-name>
		</attribute>
		<attribute>
			<attribute-name>ganancia</attribute-name>
			<column-name>GANANCIA</column-name>
		</attribute>
		<attribute>
			<attribute-name>perdida</attribute-name>
			<column-name>PERDIDA</column-name>
		</attribute>
		<attribute>
			<attribute-name>rubroAnterior</attribute-name>
			<column-name>RUBRO_ANTERIOR</column-name>
		</attribute>
		<attribute>
			<attribute-name>rubroAsignado</attribute-name>
			<column-name>RUBRO_ASIGNADO</column-name>
		</attribute>
		<attribute>
			<attribute-name>interesPagado</attribute-name>
			<column-name>INTERES_PAGADO</column-name>
		</attribute>
		<attribute>
			<attribute-name>interesNoGanado</attribute-name>
			<column-name>INTERES_NO_GANADO</column-name>
		</attribute>
	</class>
	<class>
		<class-name>topsystems.automaticprocess.objectdomain.CuponesPagarImpl</class-name>
		<entity-name>core.vo_CuponesPagar</entity-name>
		<table-name>VAL_CUPONES_PROYECCION</table-name>
		<database-name>TOP/CLIENTES</database-name>
		<attribute>
			<attribute-name>saldoJtsOid</attribute-name>
			<column-name>SALDO_JTS_OID</column-name>
			<key>primary</key>
		</attribute>
		<attribute>
		        <attribute-name>origen</attribute-name>
		        <column-name>ORIGEN</column-name>
		        <key>primary</key>
    		</attribute>
		<attribute>
			<attribute-name>numeroCupon</attribute-name>
			<column-name>NUMERO_CUPON</column-name>
			<key>primary</key>
		</attribute>
		<attribute>
			<attribute-name>codigoTitulo</attribute-name>
			<column-name>CODIGOTITULO</column-name>
			<key>primary</key>
		</attribute>
		<attribute>
			<attribute-name>fecha</attribute-name>
			<column-name>FECHA</column-name>
		</attribute>
		<attribute>
			<attribute-name>valorNominal</attribute-name>
			<column-name>VALORNOMINAL</column-name>
		</attribute>
		<attribute>
			<attribute-name>saldoJtsOidContraCuenta</attribute-name>
			<column-name>SALDO_JTS_OID_CONTRACUENTA</column-name>
		</attribute>
		<attribute>
			<attribute-name>estado</attribute-name>
			<column-name>ESTADO</column-name>
		</attribute>
		<attribute>
			<attribute-name>porcentajeResidual</attribute-name>
			<column-name>PORCENTAJERESIDUAL</column-name>
		</attribute>
		<attribute>
			<attribute-name>valorActual</attribute-name>
			<column-name>VALORACTUAL</column-name>
		</attribute>
		<attribute>
			<attribute-name>tasaPago</attribute-name>
			<column-name>TASAPAGO</column-name>
		</attribute>
		<attribute>
			<attribute-name>porcentajeAmortizacion</attribute-name>
			<column-name>PORCENTAJEAMORTIZACION</column-name>
		</attribute>
		<attribute>
			<attribute-name>porcentajeCapitalizacion</attribute-name>
			<column-name>PORCENTAJECAPITALIZACION</column-name>
		</attribute>
		<attribute>
			<attribute-name>interesPagar</attribute-name>
			<column-name>INTERESESAPAGAR</column-name>
		</attribute>	
		<attribute>
			<attribute-name>importeAmortizar</attribute-name>
			<column-name>IMPORTEAAMORTIZAR</column-name>
		</attribute>
		<attribute>
			<attribute-name>valorNominalCapitalizar</attribute-name>
			<column-name>VALORNOMINALACAPITALIZAR</column-name>
		</attribute>		
		<attribute>
			<attribute-name>tz_lock</attribute-name>
			<column-name>TZ_LOCK</column-name>
		</attribute>
		<attribute>
			<attribute-name>saldoContabiliza</attribute-name>
			<column-name>SALDOCONTABILIZA</column-name>
		</attribute>

	</class>
	<query>
		<class-name>topsystems.automaticprocess.objectdomain.Cupones</class-name>
		<query-name>query.ValoresCancelacion</query-name>
		<database-name>TOP/CLIENTES</database-name>
		<sentence>    
		       select vca.TZ_LOCK,vca.CODTITULO,vca.NROCUPON,vca.MARCAPAGO,vca.MARCAAMORTIZACION,
		       vca.PORCENTAJEAMORTIZACION,vca.FECHAAMORTIZACION,vca.TASAPAGAR
		       from val_cupones_amortizaciones vca, val_titulos vt  where vt.codtitulo = vca.codtitulo
		       AND vca.codtitulo = ? and nrocupon &lt;= ? 
		       AND (((vca.tasapagar &gt; 0 and (vca.marcapago &lt;&gt; 'S' or vca.marcapago is null)) OR
		       (vca.porcentajeAmortizacion &gt; 0 and (vca.marcaamortizacion &lt;&gt; 'S' or vca.marcaamortizacion is null))))
		</sentence>
		<attribute>
			<attribute-name>TZ_LOCK</attribute-name>
			<column-name>TZ_LOCK</column-name>
			<column-type>long</column-type>
		</attribute>
		<attribute>
			<attribute-name>CODTITULO</attribute-name>
			<column-name>CODTITULO</column-name>
			<column-type>long</column-type>
		</attribute>
		<attribute>
			<attribute-name>NROCUPON</attribute-name>
			<column-name>NROCUPON</column-name>
			<column-type>double</column-type>
		</attribute>
		<attribute>
			<attribute-name>marcaPago</attribute-name>
			<column-name>MARCAPAGO</column-name>
			<column-type>String</column-type>
		</attribute>
		<attribute>
			<attribute-name>marcaAmortizacion</attribute-name>
			<column-name>MARCAPAGO</column-name>
			<column-type>String</column-type>
		</attribute>
		<attribute>
			<attribute-name>PORCENTAJE_AMORTIZACION</attribute-name>
			<column-name>PORCENTAJEAMORTIZACION</column-name>
			<column-type>double</column-type>
		</attribute>
		<attribute>
			<attribute-name>FECHA_AMORTIZACION</attribute-name>
			<column-name>FECHAAMORTIZACION</column-name>
			<column-type>Timestamp</column-type>
		</attribute>
		<attribute>
			<attribute-name>TASA_PAGAR</attribute-name>
			<column-name>TASAPAGAR</column-name>
			<column-type>double</column-type>
		</attribute>
	</query>
	<query>
		<class-name>topsystems.topaz.server.objectsdomain.RubroIncremento</class-name>
		<query-name>query.RubroIncremento</query-name>
		<database-name>TOP/CLIENTES</database-name>
		<sentence> select rubactsimple, rubpassimple, rubactgarantia, rubpasgarantia
		from val_titulos t, val_esquemasrubros e
		where t.codtitulo = ? and t.esquemarubro = e.codigo</sentence>
		<attribute>
			<attribute-name>rubactsimple</attribute-name>
			<column-name>rubactsimple</column-name>
			<column-type>long</column-type>
		</attribute>	
		<attribute>
			<attribute-name>rubpassimple</attribute-name>
			<column-name>rubactsimple</column-name>
			<column-type>long</column-type>
		</attribute>	
		<attribute>
			<attribute-name>rubactgarantia</attribute-name>
			<column-name>rubactsimple</column-name>
			<column-type>long</column-type>
		</attribute>	
		<attribute>
			<attribute-name>rubpasgarantia</attribute-name>
			<column-name>rubpasgarantia</column-name>
			<column-type>long</column-type>
		</attribute>
	</query>
	<query>
		<class-name>topsystems.topaz.server.objectsdomain.SumatoriaSaldos</class-name>
		<query-name>query.vo_SumatoriaSaldos</query-name>
		<database-name>TOP/CLIENTES</database-name>
		<sentence> select sum(C6674) as sumatoriaSaldos from saldos where   (Saldos.C2777=? AND ((Saldos.C1785=7) OR ((Saldos.C1785=1 AND Saldos.C8128='2')))) AND Saldos.C6674!=0.00 AND Saldos.C8127 &lt;= ? </sentence>
		<attribute>
			<attribute-name>sumatoriaSaldos</attribute-name>
			<column-name>sumatoriaSaldos</column-name>
			<column-type>double</column-type>
		</attribute>		
	</query>
	<query>
		<class-name>topsystems.topaz.server.objectsdomain.SumatoriaNominalCustodios</class-name>
		<query-name>query.sumatoriaVNcustodios</query-name>
		<database-name>TOP/CLIENTES</database-name>
		<sentence>select sum(valornominal) as sumatoriaVNcustodios from VAL_CUSTODIO_VALORES where codTitulo = ?  and fechaVencimiento = ? and tz_lock = 0
		</sentence>
		<attribute>
			<attribute-name>sumatoriaVNcustodios</attribute-name>
			<column-name>sumatoriaVNcustodios</column-name>
			<column-type>double</column-type>
		</attribute>	
	</query>
	<query>
		<class-name>topsystems.topaz.server.objectsdomain.TradeEspecie</class-name>
		<query-name>query.TradeEspecie</query-name>
		<database-name>TOP/CLIENTES</database-name>
		<sentence>select codespecietipo,descripcionespecie,tipodevalor,tipo from Val_Especietipo where codespecietipo=?
		</sentence>
		<attribute>
			<attribute-name>codEspecieTipo</attribute-name>
			<column-name>CODESPECIETIPO</column-name>
			<column-type>String</column-type>
		</attribute>	
		<attribute>
			<attribute-name>descripcionEspecie</attribute-name>
			<column-name>DESCRIPCIONESPECIE</column-name>
			<column-type>String</column-type>
		</attribute>
		<attribute>
			<attribute-name>tipoDeValor</attribute-name>
			<column-name>TIPODEVALOR</column-name>
			<column-type>String</column-type>
		</attribute>	
		<attribute>
			<attribute-name>tipo</attribute-name>
			<column-name>TIPO</column-name>
			<column-type>String</column-type>
		</attribute>	
	</query>
	<class>
		<class-name>topsystems.automaticprocess.objectdomain.HistoricoValuacion</class-name>
		<entity-name>core.vo_HistoricoValuacion</entity-name>
		<table-name>VAL_HIST_VALUACION</table-name>
		<database-name>TOP/CLIENTES</database-name>
		<attribute>
			<attribute-name>sequenciador</attribute-name>
			<column-name>SECUENCIADOR</column-name>
			<key>primary</key>
		</attribute>
		<attribute>
			<attribute-name>fechaProceso</attribute-name>
			<column-name>FECHAPROCESO</column-name>
		</attribute>
		<attribute>
			<attribute-name>saldoJtsOid</attribute-name>
			<column-name>SALDO_JTS_OID</column-name>
		</attribute>
		<attribute>
			<attribute-name>valorNominal</attribute-name>
			<column-name>VALOR_NOMINAL</column-name>
		</attribute>
		<attribute>
			<attribute-name>cotizacion</attribute-name>
			<column-name>COTIZACION</column-name>
		</attribute>
		<attribute>
			<attribute-name>porcentajeResidual</attribute-name>
			<column-name>PORCENTAJE_RESIDUAL</column-name>
		</attribute>
		<attribute>
			<attribute-name>valuacionAnterior</attribute-name>
			<column-name>VALUACION_ANTERIOR</column-name>
		</attribute>
		<attribute>
			<attribute-name>valuacionActual</attribute-name>
			<column-name>VALUACION_ACTUAL</column-name>
		</attribute>
		<attribute>
			<attribute-name>valuacionContabilizada</attribute-name>
			<column-name>VALUACION_CONTABILIZADA</column-name>
		</attribute>
	</class>
	<query>
        <class-name>topsystems.automaticprocess.objectdomain.BonoCotizacion</class-name>
        <query-name>query.ValuacionPorCotizacion</query-name>
        <database-name>TOP/CLIENTES</database-name>
        <sentence>
		select s.jts_oid,
		v.codtitulo,
		s.c1604,
		s.C6674 as VALOR_NOMINAL, -- Concepto 1050
		v.formaDePrecio,
		v.FORMADEPRECIODIVISOR as ValorTitulo, 
		v.porcentajeValorResidual,
		s.moneda,
		c.tipo_ajuste_valuacion,
		p.C8175, 
		s.c1627, -- Concepto 66
		s.c1657,
		v.formadepreciodivisor 
		from saldos s
		join val_titulos v on s.C2777 = v.codtitulo
		join planctas c on c.c6326 = s.c1730
		join productos p on p.c6250 = s.producto
		where s.C1785 = 7 -- Concepto 615
		and s.C6674 &lt; 0 -- Concepto 1050
		and v.PRECIOTASA='P'
		and s.C8128 = '1' -- Concepto 954
		and p.C8175  in  (1,3) -- Concepto 959
		and v.Categoria = 'PP' 
		and p.tz_lock = 0
		and s.tz_lock = 0
		and v.tz_lock = 0
		and c.tz_lock = 0  
	</sentence>
        <attribute>
            <attribute-name>jtsOid</attribute-name>
            <column-name>jts_oid</column-name>
            <column-type>long</column-type>
        </attribute>
        <attribute>
            <attribute-name>codTitulo</attribute-name>
            <column-name>codTitulo</column-name>
            <column-type>long</column-type>
        </attribute>
        <attribute>
            <attribute-name>valorActual</attribute-name>
            <column-name>c1604</column-name>
            <column-type>double</column-type>
        </attribute>
        <attribute>
            <attribute-name>valorNominal</attribute-name>
            <column-name>VALOR_NOMINAL</column-name>
            <column-type>double</column-type>
        </attribute>
        <attribute>
            <attribute-name>formaDePrecio</attribute-name>
            <column-name>formaDePrecio</column-name>
            <column-type>int</column-type>
        </attribute>
        <attribute>
            <attribute-name>ValorTitulo</attribute-name>
            <column-name>ValorTitulo</column-name>
            <column-type>int</column-type>
        </attribute>
        <attribute>
            <attribute-name>porcentajeResidual</attribute-name>
            <column-name>porcentajeValorResidual </column-name>
            <column-type>double</column-type>
        </attribute>
        <attribute>
            <attribute-name>moneda</attribute-name>
            <column-name>moneda</column-name>
            <column-type>long</column-type>
        </attribute>
        <attribute>
            <attribute-name>tipoAjusteValuacion</attribute-name>
            <column-name>tipo_ajuste_valuacion</column-name>
            <column-type>int</column-type>
        </attribute>
        <attribute>
            <attribute-name>tipoEspecie</attribute-name>
            <column-name>C8175</column-name>
            <column-type>long</column-type>
        </attribute>
        <attribute>
            <attribute-name>fechaVencimiento</attribute-name>
            <column-name>c1627</column-name>
            <column-type>Timestamp</column-type>
        </attribute>
        <attribute>
            <attribute-name>objetivoOrgControl</attribute-name>
            <column-name>c1657</column-name>
            <column-type>long</column-type>
        </attribute>
    	<attribute>
			<attribute-name>formaDePrecioDivisor</attribute-name>
			<column-name>formadepreciodivisor</column-name>
			<column-type>long</column-type>
        </attribute>    
    </query>
</map>
