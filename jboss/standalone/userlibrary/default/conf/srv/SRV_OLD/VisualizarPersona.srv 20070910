service VisualizarPersona; 
description "Parámetros de SALIDA al servicio VisualizarPersona"; 

action:	SQLQuery VisualizoPersona ( 
	IDCLIENTE: numeric
): [	
   	IDCLIENTE: numeric,
   	FECHANACIMIENTO: date,
   	ESTADOCIVIL:string,
   	SEXO: string,
   	APELLIDOPATERNO: string,
   	APELLIDOMATERNO: string,
   	PRIMERNOMBRE: string,
   	SEGUNDONOMBRE: string,
   	CODIGOPAISNAC: numeric,
   	CORREOELECTRONICO: string,
   	TIPOVIVIENDA: string,
   	CIIU: numeric,
   	TIPOPERSONA: string, 
   	TIPODOCUMENTO: string,
   	NUMERODOCUMENTO: string,
    CODIGOPAISDOC: numeric,
    CODIGOSWIFT: string,
    FECHAPRESENTACION: date,
    FECHAVENCIMIENTO: date,
    EMPRESATRABAJA: string,
    DIRECCIONEMPRESA: string,
    CARGO: string,
    FECHAINGRESO: date,
    SALARIO: numeric,
    RAZONSOCIAL: string,
    TELEFONO: string,
    TELEFONOCELULAR: string,
    TELEFONOFAX: string,
    TELEFONOPREFERIDO: string
]
{ 
  	properties {  
		("statement", "SELECT NUMEROPERSONAFISICA AS IDCLIENTE,FECHANACIMIENTO,ESTADOCIVIL,SEXO,APELLIDOPATERNO,APELLIDOMATERNO,PRIMERNOMBRE,SEGUNDONOMBRE,PAISNACIMIENTO AS CODIGOPAISNAC,PF.EMAIL AS CORREOELECTRONICO,TIPOVIVIENDA,PF.CODACTIVIDADCIIU AS CIIU,'F' AS TIPOPERSONA,PF.TIPODOCUMENTO,PF.NUMERODOCUMENTO AS NUMERODOCUMENTO,PF.CODIGOPAISDOCUMENTO AS CODIGOPAISDOC,P.CODIGOSWIFT AS CODIGOSWIFT,PF.FECHAPRESENTACIONDOCUMENTO AS FECHAPRESENTACION,PF.FECHAVENCIMIENTODOCUMENTO AS FECHAVENCIMIENTO,'' AS EMPRESATRABAJA,'' AS DIRECCIONEMPRESA,'' AS CARGO,'' AS FECHAINGRESO,0 AS SALARIO,'' AS RAZONSOCIAL,PF.TELEFONOS AS TELEFONO,PF.CELULAR AS TELEFONOCELULAR,PF.FAX AS TELEFONOFAX,PF.TELEFONOPREFERIDO AS TELEFONOPREFERIDO FROM JF_PERSONASFISICAS PF,JF_PAISES P WHERE  PF.CODIGOPAISDOCUMENTO=P.CODIGOPAIS AND PF.NUMEROPERSONAFISICA=? UNION SELECT PJ.NUMEROPERSONAJURIDICA AS IDCLIENTE,NULL AS FECHANACIMIENTO,'' AS ESTADOCIVIL,'' AS SEXO,'' AS APELLIDOPATERNO,'' AS APELLIDOMATERNO,'' AS PRIMERNOMBRE,'' AS SEGUNDONOMBRE, NULL AS CODIGOPAISNAC,PJ.EMAIL AS CORREOELECTRONICO,'' AS TIPOVIVIENDA,0 AS CIIU,'J' AS TIPOPERSONA,PJ.TIPODOCUMENTO,PJ.NUMERODOCUMENTO AS NUMERODOCUMENTO,PJ.CODIGOPAISDOCUMENTO AS CODIGOPAISDOC,P.CODIGOSWIFT AS CODIGOSWIFT,PJ.FECHAALTA AS FECHAPRESENTACION,PJ.FECHACIERREBALANCE AS FECHAVENCIMIENTO,'' AS EMPRESATRABAJA,'' AS DIRECCIONEMPRESA,'' AS CARGO,'' AS FECHAINGRESO,0 AS SALARIO,PJ.RAZONSOCIAL AS RAZONSOCIAL,PJ.TELEFONOS AS TELEFONO,'' AS TELEFONOCELULAR,PJ.FAX AS TELEFONOFAX, PJ.TELEFONOPREFERIDO AS TELEFONOPREFERIDO FROM JF_PERSONASJURIDICAS PJ, JF_PAISES P WHERE PJ.CODIGOPAISDOCUMENTO=P.CODIGOPAIS AND PJ.NUMEROPERSONAJURIDICA=?"),
		("0", "IDCLIENTE"), 
		("1", "IDCLIENTE")
	};
	
	action:	SQLQuery VisualizoDirecciones (
	): [IDCLIENTE: numeric,
	    TIPODOMICILIO: numeric,
	    CALLE: string,
	    NUMEROPUERTA: string,
	    APARTAMENTO: string,
	    PISO: numeric,
	    CIUDAD: string,
	    DEPARTAMENTO: numeric,
	    BARRIOZONA: string
	] 
	{ 
		properties { 
			("statement", "SELECT PF.NUMEROPERSONAFISICA AS IDCLIENTE,2 AS TIPODOMICILIO,CALLE,NUMEROPUERTA,APARTAMENTO,PISO,CIUDAD,DEPARTAMENTO,BARRIOZONA FROM JF_PERSONASFISICAS PF WHERE  PF.NUMEROPERSONAFISICA=? UNION SELECT PJ.NUMEROPERSONAJURIDICA AS IDCLIENTE,2 AS TIPODOMICILIO,CALLE,NUMEROPUERTA,APARTAMENTO,PISO,CIUDAD,DEPARTAMENTO,BARRIOZONA FROM JF_PERSONASJURIDICAS PJ WHERE PJ.NUMEROPERSONAJURIDICA=?"),
			("0", "IDCLIENTE"), 
			("1", "IDCLIENTE")
		}
	}	
}