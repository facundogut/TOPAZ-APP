<?xml version="1.0" encoding="UTF-8"?>
<transformation>
  <info>
    <name>ITF_LK_CBU_BASE</name>
    <description/>
    <extended_description/>
    <trans_version/>
    <trans_type>Normal</trans_type>
    <trans_status>0</trans_status>
    <directory>/</directory>
    <parameters>
      <parameter>
        <name>REFRESH_TOTAL</name>
        <default_value/>
        <description>Valor 'S' para indicar un full refresh. Valor 'N' para indicar que no se realiza full refresh.</description>
      </parameter>
    </parameters>
    <log>
      <trans-log-table>
        <connection/>
        <schema/>
        <table/>
        <size_limit_lines/>
        <interval/>
        <timeout_days/>
        <field>
          <id>ID_BATCH</id>
          <enabled>Y</enabled>
          <name>ID_BATCH</name>
        </field>
        <field>
          <id>CHANNEL_ID</id>
          <enabled>Y</enabled>
          <name>CHANNEL_ID</name>
        </field>
        <field>
          <id>TRANSNAME</id>
          <enabled>Y</enabled>
          <name>TRANSNAME</name>
        </field>
        <field>
          <id>STATUS</id>
          <enabled>Y</enabled>
          <name>STATUS</name>
        </field>
        <field>
          <id>LINES_READ</id>
          <enabled>Y</enabled>
          <name>LINES_READ</name>
          <subject/>
        </field>
        <field>
          <id>LINES_WRITTEN</id>
          <enabled>Y</enabled>
          <name>LINES_WRITTEN</name>
          <subject/>
        </field>
        <field>
          <id>LINES_UPDATED</id>
          <enabled>Y</enabled>
          <name>LINES_UPDATED</name>
          <subject/>
        </field>
        <field>
          <id>LINES_INPUT</id>
          <enabled>Y</enabled>
          <name>LINES_INPUT</name>
          <subject/>
        </field>
        <field>
          <id>LINES_OUTPUT</id>
          <enabled>Y</enabled>
          <name>LINES_OUTPUT</name>
          <subject/>
        </field>
        <field>
          <id>LINES_REJECTED</id>
          <enabled>Y</enabled>
          <name>LINES_REJECTED</name>
          <subject/>
        </field>
        <field>
          <id>ERRORS</id>
          <enabled>Y</enabled>
          <name>ERRORS</name>
        </field>
        <field>
          <id>STARTDATE</id>
          <enabled>Y</enabled>
          <name>STARTDATE</name>
        </field>
        <field>
          <id>ENDDATE</id>
          <enabled>Y</enabled>
          <name>ENDDATE</name>
        </field>
        <field>
          <id>LOGDATE</id>
          <enabled>Y</enabled>
          <name>LOGDATE</name>
        </field>
        <field>
          <id>DEPDATE</id>
          <enabled>Y</enabled>
          <name>DEPDATE</name>
        </field>
        <field>
          <id>REPLAYDATE</id>
          <enabled>Y</enabled>
          <name>REPLAYDATE</name>
        </field>
        <field>
          <id>LOG_FIELD</id>
          <enabled>Y</enabled>
          <name>LOG_FIELD</name>
        </field>
        <field>
          <id>EXECUTING_SERVER</id>
          <enabled>N</enabled>
          <name>EXECUTING_SERVER</name>
        </field>
        <field>
          <id>EXECUTING_USER</id>
          <enabled>N</enabled>
          <name>EXECUTING_USER</name>
        </field>
        <field>
          <id>CLIENT</id>
          <enabled>N</enabled>
          <name>CLIENT</name>
        </field>
      </trans-log-table>
      <perf-log-table>
        <connection/>
        <schema/>
        <table/>
        <interval/>
        <timeout_days/>
        <field>
          <id>ID_BATCH</id>
          <enabled>Y</enabled>
          <name>ID_BATCH</name>
        </field>
        <field>
          <id>SEQ_NR</id>
          <enabled>Y</enabled>
          <name>SEQ_NR</name>
        </field>
        <field>
          <id>LOGDATE</id>
          <enabled>Y</enabled>
          <name>LOGDATE</name>
        </field>
        <field>
          <id>TRANSNAME</id>
          <enabled>Y</enabled>
          <name>TRANSNAME</name>
        </field>
        <field>
          <id>STEPNAME</id>
          <enabled>Y</enabled>
          <name>STEPNAME</name>
        </field>
        <field>
          <id>STEP_COPY</id>
          <enabled>Y</enabled>
          <name>STEP_COPY</name>
        </field>
        <field>
          <id>LINES_READ</id>
          <enabled>Y</enabled>
          <name>LINES_READ</name>
        </field>
        <field>
          <id>LINES_WRITTEN</id>
          <enabled>Y</enabled>
          <name>LINES_WRITTEN</name>
        </field>
        <field>
          <id>LINES_UPDATED</id>
          <enabled>Y</enabled>
          <name>LINES_UPDATED</name>
        </field>
        <field>
          <id>LINES_INPUT</id>
          <enabled>Y</enabled>
          <name>LINES_INPUT</name>
        </field>
        <field>
          <id>LINES_OUTPUT</id>
          <enabled>Y</enabled>
          <name>LINES_OUTPUT</name>
        </field>
        <field>
          <id>LINES_REJECTED</id>
          <enabled>Y</enabled>
          <name>LINES_REJECTED</name>
        </field>
        <field>
          <id>ERRORS</id>
          <enabled>Y</enabled>
          <name>ERRORS</name>
        </field>
        <field>
          <id>INPUT_BUFFER_ROWS</id>
          <enabled>Y</enabled>
          <name>INPUT_BUFFER_ROWS</name>
        </field>
        <field>
          <id>OUTPUT_BUFFER_ROWS</id>
          <enabled>Y</enabled>
          <name>OUTPUT_BUFFER_ROWS</name>
        </field>
      </perf-log-table>
      <channel-log-table>
        <connection/>
        <schema/>
        <table/>
        <timeout_days/>
        <field>
          <id>ID_BATCH</id>
          <enabled>Y</enabled>
          <name>ID_BATCH</name>
        </field>
        <field>
          <id>CHANNEL_ID</id>
          <enabled>Y</enabled>
          <name>CHANNEL_ID</name>
        </field>
        <field>
          <id>LOG_DATE</id>
          <enabled>Y</enabled>
          <name>LOG_DATE</name>
        </field>
        <field>
          <id>LOGGING_OBJECT_TYPE</id>
          <enabled>Y</enabled>
          <name>LOGGING_OBJECT_TYPE</name>
        </field>
        <field>
          <id>OBJECT_NAME</id>
          <enabled>Y</enabled>
          <name>OBJECT_NAME</name>
        </field>
        <field>
          <id>OBJECT_COPY</id>
          <enabled>Y</enabled>
          <name>OBJECT_COPY</name>
        </field>
        <field>
          <id>REPOSITORY_DIRECTORY</id>
          <enabled>Y</enabled>
          <name>REPOSITORY_DIRECTORY</name>
        </field>
        <field>
          <id>FILENAME</id>
          <enabled>Y</enabled>
          <name>FILENAME</name>
        </field>
        <field>
          <id>OBJECT_ID</id>
          <enabled>Y</enabled>
          <name>OBJECT_ID</name>
        </field>
        <field>
          <id>OBJECT_REVISION</id>
          <enabled>Y</enabled>
          <name>OBJECT_REVISION</name>
        </field>
        <field>
          <id>PARENT_CHANNEL_ID</id>
          <enabled>Y</enabled>
          <name>PARENT_CHANNEL_ID</name>
        </field>
        <field>
          <id>ROOT_CHANNEL_ID</id>
          <enabled>Y</enabled>
          <name>ROOT_CHANNEL_ID</name>
        </field>
      </channel-log-table>
      <step-log-table>
        <connection/>
        <schema/>
        <table/>
        <timeout_days/>
        <field>
          <id>ID_BATCH</id>
          <enabled>Y</enabled>
          <name>ID_BATCH</name>
        </field>
        <field>
          <id>CHANNEL_ID</id>
          <enabled>Y</enabled>
          <name>CHANNEL_ID</name>
        </field>
        <field>
          <id>LOG_DATE</id>
          <enabled>Y</enabled>
          <name>LOG_DATE</name>
        </field>
        <field>
          <id>TRANSNAME</id>
          <enabled>Y</enabled>
          <name>TRANSNAME</name>
        </field>
        <field>
          <id>STEPNAME</id>
          <enabled>Y</enabled>
          <name>STEPNAME</name>
        </field>
        <field>
          <id>STEP_COPY</id>
          <enabled>Y</enabled>
          <name>STEP_COPY</name>
        </field>
        <field>
          <id>LINES_READ</id>
          <enabled>Y</enabled>
          <name>LINES_READ</name>
        </field>
        <field>
          <id>LINES_WRITTEN</id>
          <enabled>Y</enabled>
          <name>LINES_WRITTEN</name>
        </field>
        <field>
          <id>LINES_UPDATED</id>
          <enabled>Y</enabled>
          <name>LINES_UPDATED</name>
        </field>
        <field>
          <id>LINES_INPUT</id>
          <enabled>Y</enabled>
          <name>LINES_INPUT</name>
        </field>
        <field>
          <id>LINES_OUTPUT</id>
          <enabled>Y</enabled>
          <name>LINES_OUTPUT</name>
        </field>
        <field>
          <id>LINES_REJECTED</id>
          <enabled>Y</enabled>
          <name>LINES_REJECTED</name>
        </field>
        <field>
          <id>ERRORS</id>
          <enabled>Y</enabled>
          <name>ERRORS</name>
        </field>
        <field>
          <id>LOG_FIELD</id>
          <enabled>N</enabled>
          <name>LOG_FIELD</name>
        </field>
      </step-log-table>
      <metrics-log-table>
        <connection/>
        <schema/>
        <table/>
        <timeout_days/>
        <field>
          <id>ID_BATCH</id>
          <enabled>Y</enabled>
          <name>ID_BATCH</name>
        </field>
        <field>
          <id>CHANNEL_ID</id>
          <enabled>Y</enabled>
          <name>CHANNEL_ID</name>
        </field>
        <field>
          <id>LOG_DATE</id>
          <enabled>Y</enabled>
          <name>LOG_DATE</name>
        </field>
        <field>
          <id>METRICS_DATE</id>
          <enabled>Y</enabled>
          <name>METRICS_DATE</name>
        </field>
        <field>
          <id>METRICS_CODE</id>
          <enabled>Y</enabled>
          <name>METRICS_CODE</name>
        </field>
        <field>
          <id>METRICS_DESCRIPTION</id>
          <enabled>Y</enabled>
          <name>METRICS_DESCRIPTION</name>
        </field>
        <field>
          <id>METRICS_SUBJECT</id>
          <enabled>Y</enabled>
          <name>METRICS_SUBJECT</name>
        </field>
        <field>
          <id>METRICS_TYPE</id>
          <enabled>Y</enabled>
          <name>METRICS_TYPE</name>
        </field>
        <field>
          <id>METRICS_VALUE</id>
          <enabled>Y</enabled>
          <name>METRICS_VALUE</name>
        </field>
      </metrics-log-table>
    </log>
    <maxdate>
      <connection/>
      <table/>
      <field/>
      <offset>0.0</offset>
      <maxdiff>0.0</maxdiff>
    </maxdate>
    <size_rowset>10000</size_rowset>
    <sleep_time_empty>50</sleep_time_empty>
    <sleep_time_full>50</sleep_time_full>
    <unique_connections>N</unique_connections>
    <feedback_shown>Y</feedback_shown>
    <feedback_size>50000</feedback_size>
    <using_thread_priorities>Y</using_thread_priorities>
    <shared_objects_file/>
    <capture_step_performance>N</capture_step_performance>
    <step_performance_capturing_delay>1000</step_performance_capturing_delay>
    <step_performance_capturing_size_limit>100</step_performance_capturing_size_limit>
    <dependencies>
    </dependencies>
    <partitionschemas>
    </partitionschemas>
    <slaveservers>
    </slaveservers>
    <clusterschemas>
    </clusterschemas>
    <created_user>-</created_user>
    <created_date>2023/09/28 07:33:12.142</created_date>
    <modified_user>-</modified_user>
    <modified_date>2023/09/28 07:33:12.142</modified_date>
    <key_for_session_key>H4sIAAAAAAAAAAMAAAAAAAAAAAA=</key_for_session_key>
    <is_key_private>N</is_key_private>
  </info>
  <notepads>
    <notepad>
      <note>Obtencion de data set crudo</note>
      <xloc>704</xloc>
      <yloc>400</yloc>
      <width>199</width>
      <heigth>30</heigth>
      <fontname>Segoe UI</fontname>
      <fontsize>9</fontsize>
      <fontbold>N</fontbold>
      <fontitalic>N</fontitalic>
      <fontcolorred>0</fontcolorred>
      <fontcolorgreen>0</fontcolorgreen>
      <fontcolorblue>0</fontcolorblue>
      <backgroundcolorred>255</backgroundcolorred>
      <backgroundcolorgreen>205</backgroundcolorgreen>
      <backgroundcolorblue>112</backgroundcolorblue>
      <bordercolorred>100</bordercolorred>
      <bordercolorgreen>100</bordercolorgreen>
      <bordercolorblue>100</bordercolorblue>
      <drawshadow>Y</drawshadow>
    </notepad>
    <notepad>
      <note>Construccion del registro con sus cotitulares</note>
      <xloc>1376</xloc>
      <yloc>128</yloc>
      <width>301</width>
      <heigth>30</heigth>
      <fontname>Segoe UI</fontname>
      <fontsize>9</fontsize>
      <fontbold>N</fontbold>
      <fontitalic>N</fontitalic>
      <fontcolorred>0</fontcolorred>
      <fontcolorgreen>0</fontcolorgreen>
      <fontcolorblue>0</fontcolorblue>
      <backgroundcolorred>255</backgroundcolorred>
      <backgroundcolorgreen>205</backgroundcolorgreen>
      <backgroundcolorblue>112</backgroundcolorblue>
      <bordercolorred>100</bordercolorred>
      <bordercolorgreen>100</bordercolorgreen>
      <bordercolorblue>100</bordercolorblue>
      <drawshadow>Y</drawshadow>
    </notepad>
    <notepad>
      <note>Descarta no parametrizados</note>
      <xloc>3312</xloc>
      <yloc>432</yloc>
      <width>198</width>
      <heigth>30</heigth>
      <fontname>Segoe UI</fontname>
      <fontsize>9</fontsize>
      <fontbold>N</fontbold>
      <fontitalic>N</fontitalic>
      <fontcolorred>0</fontcolorred>
      <fontcolorgreen>0</fontcolorgreen>
      <fontcolorblue>0</fontcolorblue>
      <backgroundcolorred>255</backgroundcolorred>
      <backgroundcolorgreen>205</backgroundcolorgreen>
      <backgroundcolorblue>112</backgroundcolorblue>
      <bordercolorred>100</bordercolorred>
      <bordercolorgreen>100</bordercolorgreen>
      <bordercolorblue>100</bordercolorblue>
      <drawshadow>Y</drawshadow>
    </notepad>
    <notepad>
      <note>Mapeo de valores segun parametria</note>
      <xloc>2224</xloc>
      <yloc>208</yloc>
      <width>249</width>
      <heigth>30</heigth>
      <fontname>Segoe UI</fontname>
      <fontsize>9</fontsize>
      <fontbold>N</fontbold>
      <fontitalic>N</fontitalic>
      <fontcolorred>0</fontcolorred>
      <fontcolorgreen>0</fontcolorgreen>
      <fontcolorblue>0</fontcolorblue>
      <backgroundcolorred>255</backgroundcolorred>
      <backgroundcolorgreen>205</backgroundcolorgreen>
      <backgroundcolorblue>112</backgroundcolorblue>
      <bordercolorred>100</bordercolorred>
      <bordercolorgreen>100</bordercolorgreen>
      <bordercolorblue>100</bordercolorblue>
      <drawshadow>Y</drawshadow>
    </notepad>
    <notepad>
      <note>Determinar evento y modo de registro en bd</note>
      <xloc>4352</xloc>
      <yloc>416</yloc>
      <width>307</width>
      <heigth>30</heigth>
      <fontname>Segoe UI</fontname>
      <fontsize>9</fontsize>
      <fontbold>N</fontbold>
      <fontitalic>N</fontitalic>
      <fontcolorred>0</fontcolorred>
      <fontcolorgreen>0</fontcolorgreen>
      <fontcolorblue>0</fontcolorblue>
      <backgroundcolorred>255</backgroundcolorred>
      <backgroundcolorgreen>205</backgroundcolorgreen>
      <backgroundcolorblue>112</backgroundcolorblue>
      <bordercolorred>100</bordercolorred>
      <bordercolorgreen>100</bordercolorgreen>
      <bordercolorblue>100</bordercolorblue>
      <drawshadow>Y</drawshadow>
    </notepad>
    <notepad>
      <note>Adecuaciones varias pre-grabación en tablas</note>
      <xloc>3936</xloc>
      <yloc>416</yloc>
      <width>308</width>
      <heigth>30</heigth>
      <fontname>Segoe UI</fontname>
      <fontsize>9</fontsize>
      <fontbold>N</fontbold>
      <fontitalic>N</fontitalic>
      <fontcolorred>0</fontcolorred>
      <fontcolorgreen>0</fontcolorgreen>
      <fontcolorblue>0</fontcolorblue>
      <backgroundcolorred>255</backgroundcolorred>
      <backgroundcolorgreen>205</backgroundcolorgreen>
      <backgroundcolorblue>112</backgroundcolorblue>
      <bordercolorred>100</bordercolorred>
      <bordercolorgreen>100</bordercolorgreen>
      <bordercolorblue>100</bordercolorblue>
      <drawshadow>Y</drawshadow>
    </notepad>
    <notepad>
      <note>Solamente se mappean los campos que requieran ser comparados y persistidos.</note>
      <xloc>4256</xloc>
      <yloc>736</yloc>
      <width>430</width>
      <heigth>26</heigth>
      <fontname>Segoe UI</fontname>
      <fontsize>9</fontsize>
      <fontbold>N</fontbold>
      <fontitalic>N</fontitalic>
      <fontcolorred>0</fontcolorred>
      <fontcolorgreen>0</fontcolorgreen>
      <fontcolorblue>0</fontcolorblue>
      <backgroundcolorred>255</backgroundcolorred>
      <backgroundcolorgreen>205</backgroundcolorgreen>
      <backgroundcolorblue>112</backgroundcolorblue>
      <bordercolorred>100</bordercolorred>
      <bordercolorgreen>100</bordercolorgreen>
      <bordercolorblue>100</bordercolorblue>
      <drawshadow>Y</drawshadow>
    </notepad>
  </notepads>
  <connection>
    <name>TopazDS</name>
    <server/>
    <type>MSSQL</type>
    <access>JNDI</access>
    <database>TopazDS</database>
    <port>1521</port>
    <username/>
    <password>Encrypted </password>
    <servername/>
    <data_tablespace/>
    <index_tablespace/>
    <attributes>
      <attribute>
        <code>FORCE_IDENTIFIERS_TO_LOWERCASE</code>
        <attribute>N</attribute>
      </attribute>
      <attribute>
        <code>FORCE_IDENTIFIERS_TO_UPPERCASE</code>
        <attribute>N</attribute>
      </attribute>
      <attribute>
        <code>IS_CLUSTERED</code>
        <attribute>N</attribute>
      </attribute>
      <attribute>
        <code>MSSQL_DOUBLE_DECIMAL_SEPARATOR</code>
        <attribute>N</attribute>
      </attribute>
      <attribute>
        <code>PORT_NUMBER</code>
        <attribute>1521</attribute>
      </attribute>
      <attribute>
        <code>PRESERVE_RESERVED_WORD_CASE</code>
        <attribute>Y</attribute>
      </attribute>
      <attribute>
        <code>QUOTE_ALL_FIELDS</code>
        <attribute>N</attribute>
      </attribute>
      <attribute>
        <code>SUPPORTS_BOOLEAN_DATA_TYPE</code>
        <attribute>Y</attribute>
      </attribute>
      <attribute>
        <code>SUPPORTS_TIMESTAMP_DATA_TYPE</code>
        <attribute>Y</attribute>
      </attribute>
      <attribute>
        <code>USE_POOLING</code>
        <attribute>N</attribute>
      </attribute>
    </attributes>
  </connection>
  <order>
    <hop>
      <from>Get Parametros TIPOCUENTA</from>
      <to>Parse Parametros TIPOCUENTA</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Parse Parametros TIPOCUENTA</from>
      <to>MAP TIPOCUENTA</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Cuenta Unica</from>
      <to>Parse CBUS</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Get Parametros TIPO DOC FISICO</from>
      <to>Parse Parametros TIPODOC</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>MAP TIPOCUENTA</from>
      <to>MAP TIPO DOC</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Parse Parametros TIPODOC</from>
      <to>MAP TIPO DOC</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>MAP TIPO DOC</from>
      <to>MAP TIPO DOC COT1</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>MAP TIPO DOC COT1</from>
      <to>MAP TIPO DOC COT2</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Parse Parametros TIPODOC</from>
      <to>MAP TIPO DOC COT1</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Parse Parametros TIPODOC</from>
      <to>MAP TIPO DOC COT2</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Hasta 2 cotitulares</from>
      <to>Construye Cotitulares</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Parse Cotitulares</from>
      <to>Hasta 2 cotitulares</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Get Parametros Producto Bloqueo</from>
      <to>Parse Parametros PROD_BLOQUEO</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Parse Parametros PROD_BLOQUEO</from>
      <to>GET PRODUCTO BLOQUEO</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>MAP TIPO DOC COT2</from>
      <to>GET PRODUCTO BLOQUEO</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Get Parametros Producto Bloqueo Echeq</from>
      <to>Parse Parametros PROD_BLOQUEO 2</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Parse Parametros PROD_BLOQUEO 2</from>
      <to>GET PRODUCTO ACEPTA ECHEQ</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>GET PRODUCTO BLOQUEO</from>
      <to>GET PRODUCTO ACEPTA ECHEQ</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Truncar</from>
      <to>Trim cuentas</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Copia</from>
      <to>Descarta campos extras</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Descarta campos extras</from>
      <to>Crea registros detalle y adicional</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Crea registros detalle y adicional</from>
      <to>Escribe archivo</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Elaboración de cabecera y set contador</from>
      <to>Graba Cabecera</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Crea datos cabecera</from>
      <to>Elaboración de cabecera y set contador</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Parse CBUS</from>
      <to>Cant REG_IN</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Escribe archivo</from>
      <to>Ultimo registro</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Ultimo registro</from>
      <to>Construye pie</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Construye pie</from>
      <to>Solo PIE</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Solo PIE</from>
      <to>Escribe Pie</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Ultimo registro</from>
      <to>Detecta detalle vacío</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Detecta detalle vacío</from>
      <to>CONTADOR = 0</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>CONTADOR = 0</from>
      <to>Construye pie</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Copia</from>
      <to>Inserta en histórico</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Adecua campos</from>
      <to>Truncar</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>GET PRODUCTO ACEPTA ECHEQ</from>
      <to>Get variables</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Cant REG_IN</from>
      <to>Une cotitulares de la cuenta</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Construye Cotitulares</from>
      <to>Une cotitulares de la cuenta</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Une cotitulares de la cuenta</from>
      <to>MAP TIPOCUENTA</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Trim cuentas</from>
      <to>Campos a Mappear</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Campos a Mappear</from>
      <to>Aplica Charset Link</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Trim cuentas</from>
      <to>Campos sin mappeo</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Campos sin mappeo</from>
      <to>Une filas nuevamente</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Aplica Charset Link</from>
      <to>Une filas nuevamente</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Número de Cuenta formateado</from>
      <to>Adecua campos</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Configura valores de parametria</from>
      <to>Enjuaga número de documento</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Enjuaga número de documento</from>
      <to>Número de Cuenta formateado</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Graba Cabecera</from>
      <to>Fila sin campos</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Fila sin campos</from>
      <to>Obtiene CBUs Topaz</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Trae Cotitulares</from>
      <to>NRO_COTITULAR</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>NRO_COTITULAR</from>
      <to>Parse Cotitulares</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Get variables</from>
      <to>Configura valores de parametria</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Une filas nuevamente</from>
      <to>Tratar nulos</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Tratar nulos</from>
      <to>Define Accion</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Esperar fin de lectura bd</from>
      <to>Inserta/Actualiza/Elimina registro en maestro</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Define Accion</from>
      <to>Mappea Prioridades</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Mappea Prioridades</from>
      <to>Ordena por prioridad</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Ordena por prioridad</from>
      <to>Unica novedad por prioridad</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Unica novedad por prioridad</from>
      <to>Copia</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Unica novedad por prioridad</from>
      <to>Novedad descartada</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Obtiene CBUs Topaz</from>
      <to>Outer Join</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Outer Join</from>
      <to>Acomoda CBU</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Acomoda CBU</from>
      <to>Cuenta Unica</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Lee maestro</from>
      <to>Outer Join</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Inserta en histórico</from>
      <to>Hay acción?</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Hay acción?</from>
      <to>Esperar fin de lectura bd</to>
      <enabled>Y</enabled>
    </hop>
  </order>
  <step>
    <name>Acomoda CBU</name>
    <type>ScriptValueMod</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <compatible>N</compatible>
    <optimizationLevel>9</optimizationLevel>
    <jsScripts>
      <jsScript>
        <jsScript_type>0</jsScript_type>
        <jsScript_name>Script 1</jsScript_name>
        <jsScript_script>//Script here

if (CBU == null)
	CBU = M_CBU;</jsScript_script>
      </jsScript>
    </jsScripts>
    <fields>
      <field>
        <name>CBU</name>
        <rename>CBU</rename>
        <type>String</type>
        <length>22</length>
        <precision>-1</precision>
        <replace>Y</replace>
      </field>
    </fields>
    <attributes/>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>1184</xloc>
      <yloc>528</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>Adecua campos</name>
    <type>SelectValues</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <fields>
      <field>
        <name>ENCONTRADO_TOPAZ</name>
      </field>
      <field>
        <name>CBU</name>
      </field>
      <field>
        <name>CODIGO_BANCO</name>
      </field>
      <field>
        <name>MONEDA</name>
      </field>
      <field>
        <name>TIPO_CUENTA</name>
      </field>
      <field>
        <name>NUM_CUENTA_PBF</name>
      </field>
      <field>
        <name>NUM_CUENTA_TOPAZ</name>
      </field>
      <field>
        <name>NUM_CUENTA_BANCARIA</name>
      </field>
      <field>
        <name>SUCURSAL_CUENTA</name>
      </field>
      <field>
        <name>TIPO_PERSONA_TITULAR</name>
      </field>
      <field>
        <name>TIPO_DOC_TITULAR</name>
      </field>
      <field>
        <name>DOCUMENTO_TITULAR</name>
      </field>
      <field>
        <name>CUIL_CDI_CUIT_TITULAR</name>
      </field>
      <field>
        <name>NOMBRE_TITULAR</name>
      </field>
      <field>
        <name>TIPO_PERSONA_COTITULAR1</name>
      </field>
      <field>
        <name>TIPO_DOC_COTITULAR1</name>
      </field>
      <field>
        <name>DOCUMENTO_COTITULAR1</name>
      </field>
      <field>
        <name>CUIL_CDI_CUIT_COTITULAR1</name>
      </field>
      <field>
        <name>NOMBRE_COTITULAR1</name>
      </field>
      <field>
        <name>TIPO_PERSONA_COTITULAR2</name>
      </field>
      <field>
        <name>TIPO_DOC_COTITULAR2</name>
      </field>
      <field>
        <name>DOCUMENTO_COTITULAR2</name>
      </field>
      <field>
        <name>CUIL_CDI_CUIT_COTITULAR2</name>
      </field>
      <field>
        <name>NOMBRE_COTITULAR2</name>
      </field>
      <field>
        <name>MAESTRO_EVENTO</name>
      </field>
      <field>
        <name>MAESTRO_REPROCESO</name>
      </field>
      <field>
        <name>CUENTA_CANCELADA</name>
      </field>
      <field>
        <name>ESTADO_CUENTA</name>
      </field>
      <field>
        <name>REFRESH_TOTAL</name>
      </field>
      <field>
        <name>FYHACTTOP</name>
      </field>
      <field>
        <name>FYHACTRELOJ</name>
      </field>
      <field>
        <name>VERSION_NUEVA</name>
      </field>
      <field>
        <name>ID_EJECUCION</name>
      </field>
      <field>
        <name>ENCONTRADO_MAESTRO</name>
      </field>
      <field>
        <name>M_CODIGO_BANCO</name>
      </field>
      <field>
        <name>M_MONEDA</name>
      </field>
      <field>
        <name>M_TIPO_CUENTA</name>
      </field>
      <field>
        <name>M_NUM_CUENTA_PBF</name>
      </field>
      <field>
        <name>M_NUM_CUENTA_BANCARIA</name>
      </field>
      <field>
        <name>M_SUCURSAL_CUENTA</name>
      </field>
      <field>
        <name>M_ESTADO_CUENTA</name>
      </field>
      <field>
        <name>M_TIPO_PERSONA_TITULAR</name>
      </field>
      <field>
        <name>M_TIPO_DOC_TITULAR</name>
      </field>
      <field>
        <name>M_DOCUMENTO_TITULAR</name>
      </field>
      <field>
        <name>M_CUIL_CDI_CUIT_TITULAR</name>
      </field>
      <field>
        <name>M_NOMBRE_TITULAR</name>
      </field>
      <field>
        <name>M_TIPO_PERSONA_COTITULAR1</name>
      </field>
      <field>
        <name>M_TIPO_DOC_COTITULAR1</name>
      </field>
      <field>
        <name>M_DOCUMENTO_COTITULAR1</name>
      </field>
      <field>
        <name>M_CUIL_CDI_CUIT_COTITULAR1</name>
      </field>
      <field>
        <name>M_NOMBRE_COTITULAR1</name>
      </field>
      <field>
        <name>M_TIPO_PERSONA_COTITULAR2</name>
      </field>
      <field>
        <name>M_TIPO_DOC_COTITULAR2</name>
      </field>
      <field>
        <name>M_DOCUMENTO_COTITULAR2</name>
      </field>
      <field>
        <name>M_CUIL_CDI_CUIT_COTITULAR2</name>
      </field>
      <field>
        <name>M_NOMBRE_COTITULAR2</name>
      </field>
      <select_unspecified>N</select_unspecified>
      <meta>
        <name>CBU</name>
        <rename>CBU</rename>
        <type>String</type>
        <length>-2</length>
        <precision>-2</precision>
        <conversion_mask>#</conversion_mask>
        <date_format_lenient>false</date_format_lenient>
        <date_format_locale/>
        <date_format_timezone/>
        <lenient_string_to_number>false</lenient_string_to_number>
        <encoding/>
        <decimal_symbol/>
        <grouping_symbol/>
        <currency_symbol/>
        <storage_type/>
      </meta>
      <meta>
        <name>CODIGO_BANCO</name>
        <rename>CODIGO_BANCO</rename>
        <type>String</type>
        <length>-2</length>
        <precision>-2</precision>
        <conversion_mask>#</conversion_mask>
        <date_format_lenient>false</date_format_lenient>
        <date_format_locale/>
        <date_format_timezone/>
        <lenient_string_to_number>false</lenient_string_to_number>
        <encoding/>
        <decimal_symbol/>
        <grouping_symbol/>
        <currency_symbol/>
        <storage_type/>
      </meta>
      <meta>
        <name>MONEDA</name>
        <rename>MONEDA</rename>
        <type>String</type>
        <length>-2</length>
        <precision>-2</precision>
        <conversion_mask>#</conversion_mask>
        <date_format_lenient>false</date_format_lenient>
        <date_format_locale/>
        <date_format_timezone/>
        <lenient_string_to_number>false</lenient_string_to_number>
        <encoding/>
        <decimal_symbol/>
        <grouping_symbol/>
        <currency_symbol/>
        <storage_type/>
      </meta>
      <meta>
        <name>TIPO_CUENTA</name>
        <rename>TIPO_CUENTA</rename>
        <type>String</type>
        <length>-2</length>
        <precision>-2</precision>
        <conversion_mask>#</conversion_mask>
        <date_format_lenient>false</date_format_lenient>
        <date_format_locale/>
        <date_format_timezone/>
        <lenient_string_to_number>false</lenient_string_to_number>
        <encoding/>
        <decimal_symbol/>
        <grouping_symbol/>
        <currency_symbol/>
        <storage_type/>
      </meta>
      <meta>
        <name>NUM_CUENTA_PBF</name>
        <rename>NUM_CUENTA_PBF</rename>
        <type>String</type>
        <length>-2</length>
        <precision>-2</precision>
        <conversion_mask>#</conversion_mask>
        <date_format_lenient>false</date_format_lenient>
        <date_format_locale/>
        <date_format_timezone/>
        <lenient_string_to_number>false</lenient_string_to_number>
        <encoding/>
        <decimal_symbol/>
        <grouping_symbol/>
        <currency_symbol/>
        <storage_type/>
      </meta>
      <meta>
        <name>NUM_CUENTA_TOPAZ</name>
        <rename>NUM_CUENTA_TOPAZ</rename>
        <type>String</type>
        <length>-2</length>
        <precision>-2</precision>
        <conversion_mask>#</conversion_mask>
        <date_format_lenient>false</date_format_lenient>
        <date_format_locale/>
        <date_format_timezone/>
        <lenient_string_to_number>false</lenient_string_to_number>
        <encoding/>
        <decimal_symbol/>
        <grouping_symbol/>
        <currency_symbol/>
        <storage_type/>
      </meta>
      <meta>
        <name>NUM_CUENTA_BANCARIA</name>
        <rename>NUM_CUENTA_BANCARIA</rename>
        <type>String</type>
        <length>-2</length>
        <precision>-2</precision>
        <conversion_mask>#</conversion_mask>
        <date_format_lenient>false</date_format_lenient>
        <date_format_locale/>
        <date_format_timezone/>
        <lenient_string_to_number>false</lenient_string_to_number>
        <encoding/>
        <decimal_symbol/>
        <grouping_symbol/>
        <currency_symbol/>
        <storage_type/>
      </meta>
      <meta>
        <name>SUCURSAL_CUENTA</name>
        <rename>SUCURSAL_CUENTA</rename>
        <type>String</type>
        <length>-2</length>
        <precision>-2</precision>
        <conversion_mask>#</conversion_mask>
        <date_format_lenient>false</date_format_lenient>
        <date_format_locale/>
        <date_format_timezone/>
        <lenient_string_to_number>false</lenient_string_to_number>
        <encoding/>
        <decimal_symbol/>
        <grouping_symbol/>
        <currency_symbol/>
        <storage_type/>
      </meta>
      <meta>
        <name>ESTADO_CUENTA</name>
        <rename>ESTADO_CUENTA</rename>
        <type>String</type>
        <length>-2</length>
        <precision>-2</precision>
        <conversion_mask>#</conversion_mask>
        <date_format_lenient>false</date_format_lenient>
        <date_format_locale/>
        <date_format_timezone/>
        <lenient_string_to_number>false</lenient_string_to_number>
        <encoding/>
        <decimal_symbol/>
        <grouping_symbol/>
        <currency_symbol/>
        <storage_type/>
      </meta>
      <meta>
        <name>TIPO_PERSONA_TITULAR</name>
        <rename>TIPO_PERSONA_TITULAR</rename>
        <type>String</type>
        <length>-2</length>
        <precision>-2</precision>
        <conversion_mask>#</conversion_mask>
        <date_format_lenient>false</date_format_lenient>
        <date_format_locale/>
        <date_format_timezone/>
        <lenient_string_to_number>false</lenient_string_to_number>
        <encoding/>
        <decimal_symbol/>
        <grouping_symbol/>
        <currency_symbol/>
        <storage_type/>
      </meta>
      <meta>
        <name>TIPO_DOC_TITULAR</name>
        <rename>TIPO_DOC_TITULAR</rename>
        <type>String</type>
        <length>-2</length>
        <precision>-2</precision>
        <conversion_mask>#</conversion_mask>
        <date_format_lenient>false</date_format_lenient>
        <date_format_locale/>
        <date_format_timezone/>
        <lenient_string_to_number>false</lenient_string_to_number>
        <encoding/>
        <decimal_symbol/>
        <grouping_symbol/>
        <currency_symbol/>
        <storage_type/>
      </meta>
      <meta>
        <name>DOCUMENTO_TITULAR</name>
        <rename>DOCUMENTO_TITULAR</rename>
        <type>String</type>
        <length>-2</length>
        <precision>-2</precision>
        <conversion_mask>#</conversion_mask>
        <date_format_lenient>false</date_format_lenient>
        <date_format_locale/>
        <date_format_timezone/>
        <lenient_string_to_number>false</lenient_string_to_number>
        <encoding/>
        <decimal_symbol/>
        <grouping_symbol/>
        <currency_symbol/>
        <storage_type/>
      </meta>
      <meta>
        <name>CUIL_CDI_CUIT_TITULAR</name>
        <rename>CUIL_CDI_CUIT_TITULAR</rename>
        <type>String</type>
        <length>-2</length>
        <precision>-2</precision>
        <conversion_mask>#</conversion_mask>
        <date_format_lenient>false</date_format_lenient>
        <date_format_locale/>
        <date_format_timezone/>
        <lenient_string_to_number>false</lenient_string_to_number>
        <encoding/>
        <decimal_symbol/>
        <grouping_symbol/>
        <currency_symbol/>
        <storage_type/>
      </meta>
      <meta>
        <name>NOMBRE_TITULAR</name>
        <rename>NOMBRE_TITULAR</rename>
        <type>String</type>
        <length>-2</length>
        <precision>-2</precision>
        <conversion_mask>#</conversion_mask>
        <date_format_lenient>false</date_format_lenient>
        <date_format_locale/>
        <date_format_timezone/>
        <lenient_string_to_number>false</lenient_string_to_number>
        <encoding/>
        <decimal_symbol/>
        <grouping_symbol/>
        <currency_symbol/>
        <storage_type/>
      </meta>
      <meta>
        <name>TIPO_PERSONA_COTITULAR1</name>
        <rename>TIPO_PERSONA_COTITULAR1</rename>
        <type>String</type>
        <length>-2</length>
        <precision>-2</precision>
        <conversion_mask>#</conversion_mask>
        <date_format_lenient>false</date_format_lenient>
        <date_format_locale/>
        <date_format_timezone/>
        <lenient_string_to_number>false</lenient_string_to_number>
        <encoding/>
        <decimal_symbol/>
        <grouping_symbol/>
        <currency_symbol/>
        <storage_type/>
      </meta>
      <meta>
        <name>TIPO_DOC_COTITULAR1</name>
        <rename>TIPO_DOC_COTITULAR1</rename>
        <type>String</type>
        <length>-2</length>
        <precision>-2</precision>
        <conversion_mask>#</conversion_mask>
        <date_format_lenient>false</date_format_lenient>
        <date_format_locale/>
        <date_format_timezone/>
        <lenient_string_to_number>false</lenient_string_to_number>
        <encoding/>
        <decimal_symbol/>
        <grouping_symbol/>
        <currency_symbol/>
        <storage_type/>
      </meta>
      <meta>
        <name>DOCUMENTO_COTITULAR1</name>
        <rename>DOCUMENTO_COTITULAR1</rename>
        <type>String</type>
        <length>-2</length>
        <precision>-2</precision>
        <conversion_mask>#</conversion_mask>
        <date_format_lenient>false</date_format_lenient>
        <date_format_locale/>
        <date_format_timezone/>
        <lenient_string_to_number>false</lenient_string_to_number>
        <encoding/>
        <decimal_symbol/>
        <grouping_symbol/>
        <currency_symbol/>
        <storage_type/>
      </meta>
      <meta>
        <name>CUIL_CDI_CUIT_COTITULAR1</name>
        <rename>CUIL_CDI_CUIT_COTITULAR1</rename>
        <type>String</type>
        <length>-2</length>
        <precision>-2</precision>
        <conversion_mask>#</conversion_mask>
        <date_format_lenient>false</date_format_lenient>
        <date_format_locale/>
        <date_format_timezone/>
        <lenient_string_to_number>false</lenient_string_to_number>
        <encoding/>
        <decimal_symbol/>
        <grouping_symbol/>
        <currency_symbol/>
        <storage_type/>
      </meta>
      <meta>
        <name>NOMBRE_COTITULAR1</name>
        <rename>NOMBRE_COTITULAR1</rename>
        <type>String</type>
        <length>-2</length>
        <precision>-2</precision>
        <conversion_mask>#</conversion_mask>
        <date_format_lenient>false</date_format_lenient>
        <date_format_locale/>
        <date_format_timezone/>
        <lenient_string_to_number>false</lenient_string_to_number>
        <encoding/>
        <decimal_symbol/>
        <grouping_symbol/>
        <currency_symbol/>
        <storage_type/>
      </meta>
      <meta>
        <name>TIPO_PERSONA_COTITULAR2</name>
        <rename>TIPO_PERSONA_COTITULAR2</rename>
        <type>String</type>
        <length>-2</length>
        <precision>-2</precision>
        <conversion_mask>#</conversion_mask>
        <date_format_lenient>false</date_format_lenient>
        <date_format_locale/>
        <date_format_timezone/>
        <lenient_string_to_number>false</lenient_string_to_number>
        <encoding/>
        <decimal_symbol/>
        <grouping_symbol/>
        <currency_symbol/>
        <storage_type/>
      </meta>
      <meta>
        <name>TIPO_DOC_COTITULAR2</name>
        <rename>TIPO_DOC_COTITULAR2</rename>
        <type>String</type>
        <length>-2</length>
        <precision>-2</precision>
        <conversion_mask>#</conversion_mask>
        <date_format_lenient>false</date_format_lenient>
        <date_format_locale/>
        <date_format_timezone/>
        <lenient_string_to_number>false</lenient_string_to_number>
        <encoding/>
        <decimal_symbol/>
        <grouping_symbol/>
        <currency_symbol/>
        <storage_type/>
      </meta>
      <meta>
        <name>DOCUMENTO_COTITULAR2</name>
        <rename>DOCUMENTO_COTITULAR2</rename>
        <type>String</type>
        <length>-2</length>
        <precision>-2</precision>
        <conversion_mask>#</conversion_mask>
        <date_format_lenient>false</date_format_lenient>
        <date_format_locale/>
        <date_format_timezone/>
        <lenient_string_to_number>false</lenient_string_to_number>
        <encoding/>
        <decimal_symbol/>
        <grouping_symbol/>
        <currency_symbol/>
        <storage_type/>
      </meta>
      <meta>
        <name>CUIL_CDI_CUIT_COTITULAR2</name>
        <rename>CUIL_CDI_CUIT_COTITULAR2</rename>
        <type>String</type>
        <length>-2</length>
        <precision>-2</precision>
        <conversion_mask>#</conversion_mask>
        <date_format_lenient>false</date_format_lenient>
        <date_format_locale/>
        <date_format_timezone/>
        <lenient_string_to_number>false</lenient_string_to_number>
        <encoding/>
        <decimal_symbol/>
        <grouping_symbol/>
        <currency_symbol/>
        <storage_type/>
      </meta>
      <meta>
        <name>NOMBRE_COTITULAR2</name>
        <rename>NOMBRE_COTITULAR2</rename>
        <type>String</type>
        <length>-2</length>
        <precision>-2</precision>
        <conversion_mask>#</conversion_mask>
        <date_format_lenient>false</date_format_lenient>
        <date_format_locale/>
        <date_format_timezone/>
        <lenient_string_to_number>false</lenient_string_to_number>
        <encoding/>
        <decimal_symbol/>
        <grouping_symbol/>
        <currency_symbol/>
        <storage_type/>
      </meta>
    </fields>
    <attributes/>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>4000</xloc>
      <yloc>528</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>Aplica Charset Link</name>
    <type>SimpleMapping</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <specification_method>filename</specification_method>
    <trans_object_id/>
    <trans_name/>
    <filename>${Top.Repository}ITF_LK_GENERICO_APLICA_CHARSET.ktr</filename>
    <directory_path/>
    <mappings>
      <input>
        <mapping>
          <input_step/>
          <output_step/>
          <main_path>Y</main_path>
          <rename_on_output>Y</rename_on_output>
          <description/>
        </mapping>
      </input>
      <output>
        <mapping>
          <input_step/>
          <output_step/>
          <main_path>Y</main_path>
          <rename_on_output>N</rename_on_output>
          <description/>
        </mapping>
      </output>
      <parameters>
        <inherit_all_vars>Y</inherit_all_vars>
      </parameters>
    </mappings>
    <attributes/>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>4576</xloc>
      <yloc>656</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>CONTADOR = 0</name>
    <type>SetValueConstant</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <usevar>N</usevar>
    <fields>
      <field>
        <name>CONTADOR</name>
        <value>0</value>
        <mask/>
        <set_empty_string>N</set_empty_string>
      </field>
    </fields>
    <attributes/>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>6464</xloc>
      <yloc>656</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>Campos a Mappear</name>
    <type>SelectValues</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <fields>
      <field>
        <name>CBU</name>
      </field>
      <field>
        <name>NUM_CUENTA_BANCARIA</name>
      </field>
      <field>
        <name>NOMBRE_TITULAR</name>
      </field>
      <field>
        <name>NOMBRE_COTITULAR1</name>
      </field>
      <field>
        <name>NOMBRE_COTITULAR2</name>
      </field>
      <select_unspecified>N</select_unspecified>
    </fields>
    <attributes/>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>4416</xloc>
      <yloc>656</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>Campos sin mappeo</name>
    <type>SelectValues</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <fields>
      <field>
        <name>ENCONTRADO_TOPAZ</name>
      </field>
      <field>
        <name>CBU</name>
      </field>
      <field>
        <name>CODIGO_BANCO</name>
      </field>
      <field>
        <name>MONEDA</name>
      </field>
      <field>
        <name>TIPO_CUENTA</name>
      </field>
      <field>
        <name>NUM_CUENTA_PBF</name>
      </field>
      <field>
        <name>NUM_CUENTA_TOPAZ</name>
      </field>
      <field>
        <name>SUCURSAL_CUENTA</name>
      </field>
      <field>
        <name>TIPO_PERSONA_TITULAR</name>
      </field>
      <field>
        <name>TIPO_DOC_TITULAR</name>
      </field>
      <field>
        <name>DOCUMENTO_TITULAR</name>
      </field>
      <field>
        <name>CUIL_CDI_CUIT_TITULAR</name>
      </field>
      <field>
        <name>TIPO_PERSONA_COTITULAR1</name>
      </field>
      <field>
        <name>TIPO_DOC_COTITULAR1</name>
      </field>
      <field>
        <name>DOCUMENTO_COTITULAR1</name>
      </field>
      <field>
        <name>CUIL_CDI_CUIT_COTITULAR1</name>
      </field>
      <field>
        <name>TIPO_PERSONA_COTITULAR2</name>
      </field>
      <field>
        <name>TIPO_DOC_COTITULAR2</name>
      </field>
      <field>
        <name>DOCUMENTO_COTITULAR2</name>
      </field>
      <field>
        <name>CUIL_CDI_CUIT_COTITULAR2</name>
      </field>
      <field>
        <name>MAESTRO_EVENTO</name>
      </field>
      <field>
        <name>MAESTRO_REPROCESO</name>
      </field>
      <field>
        <name>CUENTA_CANCELADA</name>
      </field>
      <field>
        <name>ESTADO_CUENTA</name>
      </field>
      <field>
        <name>REFRESH_TOTAL</name>
      </field>
      <field>
        <name>FYHACTTOP</name>
      </field>
      <field>
        <name>FYHACTRELOJ</name>
      </field>
      <field>
        <name>VERSION_NUEVA</name>
      </field>
      <field>
        <name>ID_EJECUCION</name>
      </field>
      <field>
        <name>ENCONTRADO_MAESTRO</name>
      </field>
      <field>
        <name>M_CODIGO_BANCO</name>
      </field>
      <field>
        <name>M_MONEDA</name>
      </field>
      <field>
        <name>M_TIPO_CUENTA</name>
      </field>
      <field>
        <name>M_NUM_CUENTA_PBF</name>
      </field>
      <field>
        <name>M_NUM_CUENTA_BANCARIA</name>
      </field>
      <field>
        <name>M_SUCURSAL_CUENTA</name>
      </field>
      <field>
        <name>M_ESTADO_CUENTA</name>
      </field>
      <field>
        <name>M_TIPO_PERSONA_TITULAR</name>
      </field>
      <field>
        <name>M_TIPO_DOC_TITULAR</name>
      </field>
      <field>
        <name>M_DOCUMENTO_TITULAR</name>
      </field>
      <field>
        <name>M_CUIL_CDI_CUIT_TITULAR</name>
      </field>
      <field>
        <name>M_NOMBRE_TITULAR</name>
      </field>
      <field>
        <name>M_TIPO_PERSONA_COTITULAR1</name>
      </field>
      <field>
        <name>M_TIPO_DOC_COTITULAR1</name>
      </field>
      <field>
        <name>M_DOCUMENTO_COTITULAR1</name>
      </field>
      <field>
        <name>M_CUIL_CDI_CUIT_COTITULAR1</name>
      </field>
      <field>
        <name>M_NOMBRE_COTITULAR1</name>
      </field>
      <field>
        <name>M_TIPO_PERSONA_COTITULAR2</name>
      </field>
      <field>
        <name>M_TIPO_DOC_COTITULAR2</name>
      </field>
      <field>
        <name>M_DOCUMENTO_COTITULAR2</name>
      </field>
      <field>
        <name>M_CUIL_CDI_CUIT_COTITULAR2</name>
      </field>
      <field>
        <name>M_NOMBRE_COTITULAR2</name>
      </field>
      <select_unspecified>N</select_unspecified>
    </fields>
    <attributes/>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>4416</xloc>
      <yloc>528</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>Cant REG_IN</name>
    <type>ScriptValueMod</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <compatible>N</compatible>
    <optimizationLevel>9</optimizationLevel>
    <jsScripts>
      <jsScript>
        <jsScript_type>0</jsScript_type>
        <jsScript_name>Script 1</jsScript_name>
        <jsScript_script>//Script here

count++;</jsScript_script>
      </jsScript>
      <jsScript>
        <jsScript_type>1</jsScript_type>
        <jsScript_name>Item_0</jsScript_name>
        <jsScript_script>//Script here

var count = 0;</jsScript_script>
      </jsScript>
      <jsScript>
        <jsScript_type>2</jsScript_type>
        <jsScript_name>Item_1</jsScript_name>
        <jsScript_script>//Script here

setVariable("REG_IN", count, 'r');</jsScript_script>
      </jsScript>
    </jsScripts>
    <fields>
      <field>
        <name>count</name>
        <rename>NUMERO_FILA</rename>
        <type>Integer</type>
        <length>-1</length>
        <precision>-1</precision>
        <replace>N</replace>
      </field>
    </fields>
    <attributes/>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>1568</xloc>
      <yloc>528</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>Configura valores de parametria</name>
    <type>ScriptValueMod</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <compatible>N</compatible>
    <optimizationLevel>9</optimizationLevel>
    <jsScripts>
      <jsScript>
        <jsScript_type>0</jsScript_type>
        <jsScript_name>Script 1</jsScript_name>
        <jsScript_script>trans_Status = CONTINUE_TRANSFORMATION;

if (ENCONTRADO_TOPAZ != 1) { 
	// Si no se encontró la cuenta en Topaz, no se podrá determinar el estado. 
	// Dejar pasar nomas y se reemplazará despues.
	ESTADO_CUENTA = null;
	TIPO_CUENTA = null;
} else if (TIPOCUENTA_LK != '00') {
	TIPO_CUENTA = TIPOCUENTA_LK;

	// Determina estado de la cuenta
	var ESTADO_CUENTA = ' ';

	if (E_BLOQUEO_GRAL == 1 || PROD_BLOQUEO_GENERICO != null) // Si hay algun bloqueo
		ESTADO_CUENTA = '1';
	else {

		if ( [1,988,999].includes( parseInt( MONEDA, 10) ) ) // No tiene bloqueo y es en pesos, uva o uvi
			ESTADO_CUENTA = (PROD_ACEPTA_ECHEQ == false) ? '7' : '5';

		if (MONEDA == 2) {

			if (TIPO_PERSONA_TITULAR == 'F')
				ESTADO_CUENTA = '5';
			else
				ESTADO_CUENTA = 'C';
			
		}
	}

	if (ESTADO_CUENTA != ' ') {
		// Parametría tipo documento físico del titular
		if (TIPODOC_LK != ' ')
			TIPO_DOC_TITULAR = TIPODOC_LK;

		if (TIPODOC_LK_COT1 != ' ')
			TIPO_DOC_COTITULAR1 = TIPODOC_LK_COT1;
	
		if (TIPODOC_LK_COT2 != ' ')
			TIPO_DOC_COTITULAR2 = TIPODOC_LK_COT2;
	
		// Las personas jurídicas únicamente tienen CUIT
		if (TIPO_PERSONA_TITULAR == 'J') {
			TIPO_DOC_TITULAR = ' ';
			DOCUMENTO_TITULAR = ' ';
		}
	
		if (TIPO_PERSONA_COTITULAR1 == 'J') {
			TIPO_DOC_COTITULAR1 = ' ';
			DOCUMENTO_COTITULAR1 = ' ';
		}
	
		if (TIPO_PERSONA_COTITULAR2 == 'J') {
			TIPO_DOC_COTITULAR2 = ' ';
			DOCUMENTO_COTITULAR2 = ' ';
		}

	} else
		saltearRegistro();	
} else
	saltearRegistro();
</jsScript_script>
      </jsScript>
      <jsScript>
        <jsScript_type>1</jsScript_type>
        <jsScript_name>Item_1</jsScript_name>
        <jsScript_script>//Script here

var REG_NOT_PARAM = 0;

const saltearRegistro = function() {
	REG_NOT_PARAM++
	trans_Status = SKIP_TRANSFORMATION;
}

Array.prototype.includes = function( value ) {
	return this.some( function(e) { return e === value } );
}
</jsScript_script>
      </jsScript>
      <jsScript>
        <jsScript_type>2</jsScript_type>
        <jsScript_name>Item_0</jsScript_name>
        <jsScript_script>//Script here

setVariable("REG_NOT_PARAM", REG_NOT_PARAM, 'r');</jsScript_script>
      </jsScript>
    </jsScripts>
    <fields>
      <field>
        <name>ESTADO_CUENTA</name>
        <rename>ESTADO_CUENTA</rename>
        <type>String</type>
        <length>-1</length>
        <precision>-1</precision>
        <replace>N</replace>
      </field>
      <field>
        <name>TIPO_CUENTA</name>
        <rename>TIPO_CUENTA</rename>
        <type>String</type>
        <length>-1</length>
        <precision>-1</precision>
        <replace>N</replace>
      </field>
      <field>
        <name>TIPO_DOC_TITULAR</name>
        <rename>TIPO_DOC_TITULAR</rename>
        <type>String</type>
        <length>-1</length>
        <precision>-1</precision>
        <replace>Y</replace>
      </field>
      <field>
        <name>TIPO_DOC_COTITULAR1</name>
        <rename>TIPO_DOC_COTITULAR1</rename>
        <type>String</type>
        <length>-1</length>
        <precision>-1</precision>
        <replace>Y</replace>
      </field>
      <field>
        <name>TIPO_DOC_COTITULAR2</name>
        <rename>TIPO_DOC_COTITULAR2</rename>
        <type>String</type>
        <length>-1</length>
        <precision>-1</precision>
        <replace>Y</replace>
      </field>
      <field>
        <name>TIPO_DOC_TITULAR</name>
        <rename>TIPO_DOC_TITULAR</rename>
        <type>String</type>
        <length>-1</length>
        <precision>-1</precision>
        <replace>Y</replace>
      </field>
      <field>
        <name>DOCUMENTO_TITULAR</name>
        <rename>DOCUMENTO_TITULAR</rename>
        <type>String</type>
        <length>-1</length>
        <precision>-1</precision>
        <replace>Y</replace>
      </field>
      <field>
        <name>TIPO_DOC_COTITULAR1</name>
        <rename>TIPO_DOC_COTITULAR1</rename>
        <type>String</type>
        <length>-1</length>
        <precision>-1</precision>
        <replace>Y</replace>
      </field>
      <field>
        <name>DOCUMENTO_COTITULAR1</name>
        <rename>DOCUMENTO_COTITULAR1</rename>
        <type>String</type>
        <length>-1</length>
        <precision>-1</precision>
        <replace>Y</replace>
      </field>
      <field>
        <name>TIPO_DOC_COTITULAR2</name>
        <rename>TIPO_DOC_COTITULAR2</rename>
        <type>String</type>
        <length>-1</length>
        <precision>-1</precision>
        <replace>Y</replace>
      </field>
      <field>
        <name>DOCUMENTO_COTITULAR2</name>
        <rename>DOCUMENTO_COTITULAR2</rename>
        <type>String</type>
        <length>-1</length>
        <precision>-1</precision>
        <replace>Y</replace>
      </field>
    </fields>
    <attributes/>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>3392</xloc>
      <yloc>528</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>Construye Cotitulares</name>
    <type>Denormaliser</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <key_field>NRO_COTITULAR</key_field>
    <group>
      <field>
        <name>COT_CBU</name>
      </field>
    </group>
    <fields>
      <field>
        <field_name>COT_TIPO_PERSONA</field_name>
        <key_value>1</key_value>
        <target_name>TIPO_PERSONA_COTITULAR1</target_name>
        <target_type>String</target_type>
        <target_format/>
        <target_length>-1</target_length>
        <target_precision>-1</target_precision>
        <target_decimal_symbol/>
        <target_grouping_symbol/>
        <target_currency_symbol/>
        <target_null_string/>
        <target_aggregation_type>-</target_aggregation_type>
      </field>
      <field>
        <field_name>COT_DOC_FISICO</field_name>
        <key_value>1</key_value>
        <target_name>TIPO_DOC_COTITULAR1</target_name>
        <target_type>String</target_type>
        <target_format/>
        <target_length>-1</target_length>
        <target_precision>-1</target_precision>
        <target_decimal_symbol/>
        <target_grouping_symbol/>
        <target_currency_symbol/>
        <target_null_string/>
        <target_aggregation_type>-</target_aggregation_type>
      </field>
      <field>
        <field_name>COT_NUM_DOC_FISICO</field_name>
        <key_value>1</key_value>
        <target_name>DOCUMENTO_COTITULAR1</target_name>
        <target_type>String</target_type>
        <target_format/>
        <target_length>-1</target_length>
        <target_precision>-1</target_precision>
        <target_decimal_symbol/>
        <target_grouping_symbol/>
        <target_currency_symbol/>
        <target_null_string/>
        <target_aggregation_type>-</target_aggregation_type>
      </field>
      <field>
        <field_name>COT_CUIL_CDI_CUIT</field_name>
        <key_value>1</key_value>
        <target_name>CUIL_CDI_CUIT_COTITULAR1</target_name>
        <target_type>String</target_type>
        <target_format/>
        <target_length>-1</target_length>
        <target_precision>-1</target_precision>
        <target_decimal_symbol/>
        <target_grouping_symbol/>
        <target_currency_symbol/>
        <target_null_string/>
        <target_aggregation_type>-</target_aggregation_type>
      </field>
      <field>
        <field_name>COT_NOMBRE_TITULAR</field_name>
        <key_value>1</key_value>
        <target_name>NOMBRE_COTITULAR1</target_name>
        <target_type>String</target_type>
        <target_format/>
        <target_length>-1</target_length>
        <target_precision>-1</target_precision>
        <target_decimal_symbol/>
        <target_grouping_symbol/>
        <target_currency_symbol/>
        <target_null_string/>
        <target_aggregation_type>-</target_aggregation_type>
      </field>
      <field>
        <field_name>COT_TIPO_PERSONA</field_name>
        <key_value>2</key_value>
        <target_name>TIPO_PERSONA_COTITULAR2</target_name>
        <target_type>String</target_type>
        <target_format/>
        <target_length>-1</target_length>
        <target_precision>-1</target_precision>
        <target_decimal_symbol/>
        <target_grouping_symbol/>
        <target_currency_symbol/>
        <target_null_string/>
        <target_aggregation_type>-</target_aggregation_type>
      </field>
      <field>
        <field_name>COT_DOC_FISICO</field_name>
        <key_value>2</key_value>
        <target_name>TIPO_DOC_COTITULAR2</target_name>
        <target_type>String</target_type>
        <target_format/>
        <target_length>-1</target_length>
        <target_precision>-1</target_precision>
        <target_decimal_symbol/>
        <target_grouping_symbol/>
        <target_currency_symbol/>
        <target_null_string/>
        <target_aggregation_type>-</target_aggregation_type>
      </field>
      <field>
        <field_name>COT_NUM_DOC_FISICO</field_name>
        <key_value>2</key_value>
        <target_name>DOCUMENTO_COTITULAR2</target_name>
        <target_type>String</target_type>
        <target_format/>
        <target_length>-1</target_length>
        <target_precision>-1</target_precision>
        <target_decimal_symbol/>
        <target_grouping_symbol/>
        <target_currency_symbol/>
        <target_null_string/>
        <target_aggregation_type>-</target_aggregation_type>
      </field>
      <field>
        <field_name>COT_CUIL_CDI_CUIT</field_name>
        <key_value>2</key_value>
        <target_name>CUIL_CDI_CUIT_COTITULAR2</target_name>
        <target_type>String</target_type>
        <target_format/>
        <target_length>-1</target_length>
        <target_precision>-1</target_precision>
        <target_decimal_symbol/>
        <target_grouping_symbol/>
        <target_currency_symbol/>
        <target_null_string/>
        <target_aggregation_type>-</target_aggregation_type>
      </field>
      <field>
        <field_name>COT_NOMBRE_TITULAR</field_name>
        <key_value>2</key_value>
        <target_name>NOMBRE_COTITULAR2</target_name>
        <target_type>String</target_type>
        <target_format/>
        <target_length>-1</target_length>
        <target_precision>-1</target_precision>
        <target_decimal_symbol/>
        <target_grouping_symbol/>
        <target_currency_symbol/>
        <target_null_string/>
        <target_aggregation_type>-</target_aggregation_type>
      </field>
    </fields>
    <attributes/>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>1728</xloc>
      <yloc>416</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>Construye pie</name>
    <type>ScriptValueMod</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <compatible>N</compatible>
    <optimizationLevel>9</optimizationLevel>
    <jsScripts>
      <jsScript>
        <jsScript_type>0</jsScript_type>
        <jsScript_name>Script 1</jsScript_name>
        <jsScript_script>//Script here

PIE = "TRCBU" + lpad(String(CONTADOR), '0', 9);

PIE = rpad(PIE, ' ', 251);</jsScript_script>
      </jsScript>
    </jsScripts>
    <fields>
      <field>
        <name>PIE</name>
        <rename>PIE</rename>
        <type>String</type>
        <length>-1</length>
        <precision>-1</precision>
        <replace>N</replace>
      </field>
    </fields>
    <attributes/>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>6464</xloc>
      <yloc>528</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>Copia</name>
    <type>Dummy</type>
    <description/>
    <distribute>N</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <attributes/>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>5600</xloc>
      <yloc>528</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>Crea datos cabecera</name>
    <type>DataGrid</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <fields>
      <field>
        <name>IDENTIFICADOR</name>
        <type>String</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <length>-1</length>
        <precision>-1</precision>
        <set_empty_string>N</set_empty_string>
      </field>
      <field>
        <name>VERSION</name>
        <type>String</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <length>-1</length>
        <precision>-1</precision>
        <set_empty_string>N</set_empty_string>
      </field>
      <field>
        <name>FIID</name>
        <type>String</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <length>-1</length>
        <precision>-1</precision>
        <set_empty_string>N</set_empty_string>
      </field>
    </fields>
    <data>
      <line>
        <item>HRCBU</item>
        <item>0002.0000</item>
        <item>0311</item>
      </line>
    </data>
    <attributes/>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>160</xloc>
      <yloc>528</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>Crea registros detalle y adicional</name>
    <type>ScriptValueMod</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <compatible>N</compatible>
    <optimizationLevel>9</optimizationLevel>
    <jsScripts>
      <jsScript>
        <jsScript_type>0</jsScript_type>
        <jsScript_name>Transforma</jsScript_name>
        <jsScript_script>//Script here
var REGISTRO = '';

// Incrementa contador total y de detalle
CONTADOR++;
REG_OUT++;

//Construcción d registros de tipo detalle
REGISTRO = (
	EVENTO +
    CBU +
    TIPO_CUENTA +
	rpad(NUM_CUENTA_PBF, ' ', 19) +
	rpad(NUM_CUENTA_BANCARIA, ' ',19) +
	lpad(SUCURSAL_CUENTA, '0', 3) +
	ESTADO_CUENTA +
	TIPO_PERSONA_TITULAR +
	TIPO_DOC_TITULAR +
	rpad(DOCUMENTO_TITULAR, ' ',9) +
	CUIL_CDI_CUIT_TITULAR +
	rpad(NOMBRE_TITULAR, ' ', 40) +
	TIPO_DOC_COTITULAR1 +
	rpad(DOCUMENTO_COTITULAR1, ' ',9) +
	CUIL_CDI_CUIT_COTITULAR1 +
	rpad(NOMBRE_COTITULAR1, ' ', 40) +
	TIPO_DOC_COTITULAR2 +
	rpad(DOCUMENTO_COTITULAR2, ' ',9) +
	CUIL_CDI_CUIT_COTITULAR2 +
	rpad(NOMBRE_COTITULAR2, ' ', 40)
);

//Padding del registro detalle
REGISTRO = rpad(REGISTRO, ' ', 251)</jsScript_script>
      </jsScript>
      <jsScript>
        <jsScript_type>1</jsScript_type>
        <jsScript_name>Inicio</jsScript_name>
        <jsScript_script>//Script here

var CONTADOR = 2;
var REG_OUT = 0;</jsScript_script>
      </jsScript>
      <jsScript>
        <jsScript_type>2</jsScript_type>
        <jsScript_name>Fin</jsScript_name>
        <jsScript_script>//Script here

setVariable('REG_OUT', REG_OUT, 'r');
setVariable('CONTADOR', CONTADOR, 'r');</jsScript_script>
      </jsScript>
    </jsScripts>
    <fields>
      <field>
        <name>REGISTRO</name>
        <rename>REGISTRO</rename>
        <type>String</type>
        <length>251</length>
        <precision>-1</precision>
        <replace>N</replace>
      </field>
      <field>
        <name>CONTADOR</name>
        <rename>CONTADOR</rename>
        <type>Integer</type>
        <length>-1</length>
        <precision>-1</precision>
        <replace>N</replace>
      </field>
    </fields>
    <attributes/>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>5968</xloc>
      <yloc>528</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>Cuenta Unica</name>
    <type>Unique</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <count_rows>N</count_rows>
    <count_field/>
    <reject_duplicate_row>N</reject_duplicate_row>
    <error_description>okok</error_description>
    <fields>
      <field>
        <name>CBU</name>
        <case_insensitive>N</case_insensitive>
      </field>
    </fields>
    <attributes/>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>1312</xloc>
      <yloc>528</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>Define Accion</name>
    <type>ScriptValueMod</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <compatible>N</compatible>
    <optimizationLevel>9</optimizationLevel>
    <jsScripts>
      <jsScript>
        <jsScript_type>0</jsScript_type>
        <jsScript_name>Script 1</jsScript_name>
        <jsScript_script>trans_Status = CONTINUE_TRANSFORMATION;


var REPROCESO = 'N'
var INPUTDATA = ''
EVENTO = null;
CBU_ACTUAL = CBU;
ACCION_DB = null;



// Si es full refresh y no es cuenta cancelada insertar en la bd
if (REFRESH_TOTAL == 'S') {

    if (CUENTA_CANCELADA == '1')
		EVENTO = null;
    else {
        EVENTO = 'A';
		ACCION_DB = 'A';
        REPROCESO = 'N';
    }

} 
// Si es update, concatenar la data para comparar modificaciones 
else {

	// Si es reproceso, volver a actualizar
	// Cuenta que se encuentra informada en el maestro, pero no se encuentra en Topaz, es una baja
	if (MAESTRO_EVENTO != 'B' &amp;&amp; ENCONTRADO_TOPAZ != 1) {
		EVENTO = 'B'
		ACCION_DB = 'B'; // Eliminamos fisicamente el registro del maestro
		CANT_ELIMINADOS++;
		// Debemos tomar los ultimos datos que se informaron en el maestro
		CODIGO_BANCO = M_CODIGO_BANCO;
		MONEDA = M_MONEDA;
		TIPO_CUENTA = M_TIPO_CUENTA;
		NUM_CUENTA_PBF = M_NUM_CUENTA_PBF;
		NUM_CUENTA_BANCARIA = M_NUM_CUENTA_BANCARIA;
		SUCURSAL_CUENTA = M_SUCURSAL_CUENTA;
		ESTADO_CUENTA = M_ESTADO_CUENTA;
		TIPO_PERSONA_TITULAR = M_TIPO_PERSONA_TITULAR;
		TIPO_DOC_TITULAR = M_TIPO_DOC_TITULAR;
		DOCUMENTO_TITULAR = M_DOCUMENTO_TITULAR;
		CUIL_CDI_CUIT_TITULAR = M_CUIL_CDI_CUIT_TITULAR;
		NOMBRE_TITULAR = M_NOMBRE_TITULAR;
		TIPO_PERSONA_COTITULAR1 = M_TIPO_PERSONA_COTITULAR1;
		TIPO_DOC_COTITULAR1 = M_TIPO_DOC_COTITULAR1;
		DOCUMENTO_COTITULAR1 = M_DOCUMENTO_COTITULAR1;
		NOMBRE_COTITULAR1 = M_NOMBRE_COTITULAR1;
		TIPO_PERSONA_COTITULAR2 = M_TIPO_PERSONA_COTITULAR2;
		TIPO_DOC_COTITULAR2 = M_TIPO_DOC_COTITULAR2;
		DOCUMENTO_COTITULAR2 = M_DOCUMENTO_COTITULAR2;
		CUIL_CDI_CUIT_COTITULAR2 = M_CUIL_CDI_CUIT_COTITULAR2;
		NOMBRE_COTITULAR2 = M_NOMBRE_COTITULAR2;	
	} 
	else if (MAESTRO_REPROCESO == 'S') {
        EVENTO = MAESTRO_EVENTO;
		ACCION_DB = 'M';
	}

	// Cuenta que no exista en maestro y no sea cancelada
    else if ( CUENTA_CANCELADA != '1' &amp;&amp; MAESTRO_EVENTO == null ) {
		EVENTO = 'A';
		ACCION_DB = 'A';
	} 

	// Cuenta que exista en maestro pero ya no está cancelada.
	else if ( CUENTA_CANCELADA != '1' &amp;&amp; MAESTRO_EVENTO == 'B' ) {
        EVENTO = 'A';
		ACCION_DB = 'M';
	}

	// Cuenta que no exista en maestro y esta cancelada, se ignora
    else if (CUENTA_CANCELADA == '1' &amp;&amp; MAESTRO_EVENTO == null)
        EVENTO = null;

	// Cuenta que no haya sido de baja aún en el maestro, pero que se haya cancelado, es una baja
    else if (CUENTA_CANCELADA == '1' &amp;&amp; MAESTRO_EVENTO != 'B') {
        EVENTO = 'B';
		ACCION_DB = 'M'; //Update que marca la baja
	}

	// Si hubo una modificación en los campos clave, se debe informar la baja
	else if (
		MAESTRO_EVENTO != 'B' &amp;&amp; (
			String(CODIGO_BANCO) != String(M_CODIGO_BANCO) ||
			String(TIPO_CUENTA) != String(M_TIPO_CUENTA) ||
			String(NUM_CUENTA_PBF) != String(M_NUM_CUENTA_PBF) ||
			String(SUCURSAL_CUENTA) != String(M_SUCURSAL_CUENTA)
		)
	) {
		EVENTO = 'B';
		ACCION_DB = 'M';
		CODIGO_BANCO = M_CODIGO_BANCO;
		MONEDA = M_MONEDA;
		TIPO_CUENTA = M_TIPO_CUENTA;
		NUM_CUENTA_PBF = M_NUM_CUENTA_PBF;
		NUM_CUENTA_BANCARIA = M_NUM_CUENTA_BANCARIA;
		SUCURSAL_CUENTA = M_SUCURSAL_CUENTA;
		ESTADO_CUENTA = M_ESTADO_CUENTA;
		TIPO_PERSONA_TITULAR = M_TIPO_PERSONA_TITULAR;
		TIPO_DOC_TITULAR = M_TIPO_DOC_TITULAR;
		DOCUMENTO_TITULAR = M_DOCUMENTO_TITULAR;
		CUIL_CDI_CUIT_TITULAR = M_CUIL_CDI_CUIT_TITULAR;
		NOMBRE_TITULAR = M_NOMBRE_TITULAR;
		TIPO_PERSONA_COTITULAR1 = M_TIPO_PERSONA_COTITULAR1;
		TIPO_DOC_COTITULAR1 = M_TIPO_DOC_COTITULAR1;
		DOCUMENTO_COTITULAR1 = M_DOCUMENTO_COTITULAR1;
		NOMBRE_COTITULAR1 = M_NOMBRE_COTITULAR1;
		TIPO_PERSONA_COTITULAR2 = M_TIPO_PERSONA_COTITULAR2;
		TIPO_DOC_COTITULAR2 = M_TIPO_DOC_COTITULAR2;
		DOCUMENTO_COTITULAR2 = M_DOCUMENTO_COTITULAR2;
		CUIL_CDI_CUIT_COTITULAR2 = M_CUIL_CDI_CUIT_COTITULAR2;
		NOMBRE_COTITULAR2 = M_NOMBRE_COTITULAR2;	
	}

	// Cuenta que exista en maestro, y que haya modificado algún dato será una modificación
    else {
			
		if (String(NUM_CUENTA_BANCARIA) != String(M_NUM_CUENTA_BANCARIA))
			setModificado('Número de Cuenta Bancaria');
			
		else if (String(ESTADO_CUENTA) != String(M_ESTADO_CUENTA))
			setModificado('Estado de la Cuenta');
			
		else if (String(TIPO_PERSONA_TITULAR) != String(M_TIPO_PERSONA_TITULAR))
			setModificado('Tipo de Persona Titular');
			
		else if (String(TIPO_DOC_TITULAR) != String(M_TIPO_DOC_TITULAR))
			setModificado('Tipo de Documento Titular');
			
		else if (String(DOCUMENTO_TITULAR) != String(M_DOCUMENTO_TITULAR))
			setModificado('Número de Documento Titular');
			
		else if (String(CUIL_CDI_CUIT_TITULAR) != String(M_CUIL_CDI_CUIT_TITULAR))
			setModificado('CUIT del Titular');
			
		else if (String(NOMBRE_TITULAR) != String(M_NOMBRE_TITULAR))
			setModificado('Nombre del Titular');
			
		else if (String(TIPO_PERSONA_COTITULAR1) != String(M_TIPO_PERSONA_COTITULAR1))
			setModificado('Tipo de Persona Cotitular 1');
			
		else if (String(TIPO_DOC_COTITULAR1) != String(M_TIPO_DOC_COTITULAR1))
			setModificado('Tipo de Documento Cotitular 1');
			
		else if (String(DOCUMENTO_COTITULAR1) != String(M_DOCUMENTO_COTITULAR1))
			setModificado('Número de Documento Cotitular 1');
			
		else if (String(CUIL_CDI_CUIT_COTITULAR1) != String(M_CUIL_CDI_CUIT_COTITULAR1))
			setModificado('CUIT del Cotitular 1');
			
		else if (String(NOMBRE_COTITULAR1) != String(M_NOMBRE_COTITULAR1))
			setModificado('Nombre del Cotitular 1');
		
		else if (String(TIPO_PERSONA_COTITULAR2) != String(M_TIPO_PERSONA_COTITULAR2))
			setModificado('Tipo de Persona Cotitular 2');
			
		else if (String(TIPO_DOC_COTITULAR2) != String(M_TIPO_DOC_COTITULAR2))
			setModificado('Tipo de Documento Cotitular 2');
			
		else if (String(DOCUMENTO_COTITULAR2) != String(M_DOCUMENTO_COTITULAR2))
			setModificado('Número de Documento Cotitular 2');
			
		else if (String(CUIL_CDI_CUIT_COTITULAR2) != String(M_CUIL_CDI_CUIT_COTITULAR2))
			setModificado('CUIT del Cotitular 2');
		
		else if (String(NOMBRE_COTITULAR2) != String(M_NOMBRE_COTITULAR2))
			setModificado('Nombre del Cotitular 2');

	} 
}

// Si no hay evento, no se hace nada
if (EVENTO == null)
	trans_Status = SKIP_TRANSFORMATION;</jsScript_script>
      </jsScript>
      <jsScript>
        <jsScript_type>1</jsScript_type>
        <jsScript_name>Item_0</jsScript_name>
        <jsScript_script>//Script here

var EVENTO;
var CANT_MODIFICACIONES = 0;
var CANT_ELIMINADOS = 0;
var CBU_ACTUAL;

const setModificado = function(modificacion) {
	EVENTO = 'M';
	CANT_MODIFICACIONES++;
	writeToLog('b', 'Se encontró una modificación para el CBU [' + CBU_ACTUAL + '], en el campo "' + modificacion + '"');
	ACCION_DB = 'M';
}</jsScript_script>
      </jsScript>
      <jsScript>
        <jsScript_type>2</jsScript_type>
        <jsScript_name>Item_1</jsScript_name>
        <jsScript_script>//Script here

writeToLog('b', 'Se encontraron [' + CANT_MODIFICACIONES + '] modificaciones');
writeToLog('b', 'Se encontraron [' + CANT_ELIMINADOS + '] cuentas eliminadas');</jsScript_script>
      </jsScript>
    </jsScripts>
    <fields>
      <field>
        <name>EVENTO</name>
        <rename>EVENTO</rename>
        <type>String</type>
        <length>1</length>
        <precision>-1</precision>
        <replace>N</replace>
      </field>
      <field>
        <name>REPROCESO</name>
        <rename>REPROCESO</rename>
        <type>String</type>
        <length>1</length>
        <precision>-1</precision>
        <replace>N</replace>
      </field>
      <field>
        <name>ACCION_DB</name>
        <rename>ACCION_DB</rename>
        <type>String</type>
        <length>1</length>
        <precision>-1</precision>
        <replace>N</replace>
      </field>
      <field>
        <name>CODIGO_BANCO</name>
        <rename>CODIGO_BANCO</rename>
        <type>String</type>
        <length>-1</length>
        <precision>-1</precision>
        <replace>Y</replace>
      </field>
      <field>
        <name>MONEDA</name>
        <rename>MONEDA</rename>
        <type>String</type>
        <length>-1</length>
        <precision>-1</precision>
        <replace>Y</replace>
      </field>
      <field>
        <name>TIPO_CUENTA</name>
        <rename>TIPO_CUENTA</rename>
        <type>String</type>
        <length>-1</length>
        <precision>-1</precision>
        <replace>Y</replace>
      </field>
      <field>
        <name>NUM_CUENTA_PBF</name>
        <rename>NUM_CUENTA_PBF</rename>
        <type>String</type>
        <length>-1</length>
        <precision>-1</precision>
        <replace>Y</replace>
      </field>
      <field>
        <name>NUM_CUENTA_BANCARIA</name>
        <rename>NUM_CUENTA_BANCARIA</rename>
        <type>String</type>
        <length>-1</length>
        <precision>-1</precision>
        <replace>Y</replace>
      </field>
      <field>
        <name>SUCURSAL_CUENTA</name>
        <rename>SUCURSAL_CUENTA</rename>
        <type>String</type>
        <length>-1</length>
        <precision>-1</precision>
        <replace>Y</replace>
      </field>
      <field>
        <name>ESTADO_CUENTA</name>
        <rename>ESTADO_CUENTA</rename>
        <type>String</type>
        <length>-1</length>
        <precision>-1</precision>
        <replace>Y</replace>
      </field>
      <field>
        <name>TIPO_PERSONA_TITULAR</name>
        <rename>TIPO_PERSONA_TITULAR</rename>
        <type>String</type>
        <length>-1</length>
        <precision>-1</precision>
        <replace>Y</replace>
      </field>
      <field>
        <name>TIPO_DOC_TITULAR</name>
        <rename>TIPO_DOC_TITULAR</rename>
        <type>String</type>
        <length>-1</length>
        <precision>-1</precision>
        <replace>Y</replace>
      </field>
      <field>
        <name>DOCUMENTO_TITULAR</name>
        <rename>DOCUMENTO_TITULAR</rename>
        <type>String</type>
        <length>-1</length>
        <precision>-1</precision>
        <replace>Y</replace>
      </field>
      <field>
        <name>CUIL_CDI_CUIT_TITULAR</name>
        <rename>CUIL_CDI_CUIT_TITULAR</rename>
        <type>String</type>
        <length>-1</length>
        <precision>-1</precision>
        <replace>Y</replace>
      </field>
      <field>
        <name>NOMBRE_TITULAR</name>
        <rename>NOMBRE_TITULAR</rename>
        <type>String</type>
        <length>-1</length>
        <precision>-1</precision>
        <replace>Y</replace>
      </field>
      <field>
        <name>TIPO_PERSONA_COTITULAR1</name>
        <rename>TIPO_PERSONA_COTITULAR1</rename>
        <type>String</type>
        <length>-1</length>
        <precision>-1</precision>
        <replace>Y</replace>
      </field>
      <field>
        <name>TIPO_DOC_COTITULAR1</name>
        <rename>TIPO_DOC_COTITULAR1</rename>
        <type>String</type>
        <length>-1</length>
        <precision>-1</precision>
        <replace>Y</replace>
      </field>
      <field>
        <name>DOCUMENTO_COTITULAR1</name>
        <rename>DOCUMENTO_COTITULAR1</rename>
        <type>String</type>
        <length>-1</length>
        <precision>-1</precision>
        <replace>Y</replace>
      </field>
      <field>
        <name>NOMBRE_COTITULAR1</name>
        <rename>NOMBRE_COTITULAR1</rename>
        <type>String</type>
        <length>-1</length>
        <precision>-1</precision>
        <replace>Y</replace>
      </field>
      <field>
        <name>TIPO_PERSONA_COTITULAR2</name>
        <rename>TIPO_PERSONA_COTITULAR2</rename>
        <type>String</type>
        <length>-1</length>
        <precision>-1</precision>
        <replace>Y</replace>
      </field>
      <field>
        <name>TIPO_DOC_COTITULAR2</name>
        <rename>TIPO_DOC_COTITULAR2</rename>
        <type>String</type>
        <length>-1</length>
        <precision>-1</precision>
        <replace>Y</replace>
      </field>
      <field>
        <name>DOCUMENTO_COTITULAR2</name>
        <rename>DOCUMENTO_COTITULAR2</rename>
        <type>String</type>
        <length>-1</length>
        <precision>-1</precision>
        <replace>Y</replace>
      </field>
      <field>
        <name>CUIL_CDI_CUIT_COTITULAR2</name>
        <rename>CUIL_CDI_CUIT_COTITULAR2</rename>
        <type>String</type>
        <length>-1</length>
        <precision>-1</precision>
        <replace>Y</replace>
      </field>
      <field>
        <name>NOMBRE_COTITULAR2</name>
        <rename>NOMBRE_COTITULAR2</rename>
        <type>String</type>
        <length>-1</length>
        <precision>-1</precision>
        <replace>Y</replace>
      </field>
    </fields>
    <attributes/>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>4864</xloc>
      <yloc>528</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>Descarta campos extras</name>
    <type>SelectValues</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <fields>
      <field>
        <name>CBU</name>
      </field>
      <field>
        <name>CODIGO_BANCO</name>
      </field>
      <field>
        <name>MONEDA</name>
      </field>
      <field>
        <name>TIPO_CUENTA</name>
      </field>
      <field>
        <name>NUM_CUENTA_PBF</name>
      </field>
      <field>
        <name>NUM_CUENTA_BANCARIA</name>
      </field>
      <field>
        <name>SUCURSAL_CUENTA</name>
      </field>
      <field>
        <name>TIPO_PERSONA_TITULAR</name>
      </field>
      <field>
        <name>TIPO_DOC_TITULAR</name>
      </field>
      <field>
        <name>DOCUMENTO_TITULAR</name>
      </field>
      <field>
        <name>CUIL_CDI_CUIT_TITULAR</name>
      </field>
      <field>
        <name>NOMBRE_TITULAR</name>
      </field>
      <field>
        <name>TIPO_PERSONA_COTITULAR1</name>
      </field>
      <field>
        <name>TIPO_DOC_COTITULAR1</name>
      </field>
      <field>
        <name>DOCUMENTO_COTITULAR1</name>
      </field>
      <field>
        <name>CUIL_CDI_CUIT_COTITULAR1</name>
      </field>
      <field>
        <name>NOMBRE_COTITULAR1</name>
      </field>
      <field>
        <name>TIPO_PERSONA_COTITULAR2</name>
      </field>
      <field>
        <name>TIPO_DOC_COTITULAR2</name>
      </field>
      <field>
        <name>DOCUMENTO_COTITULAR2</name>
      </field>
      <field>
        <name>CUIL_CDI_CUIT_COTITULAR2</name>
      </field>
      <field>
        <name>NOMBRE_COTITULAR2</name>
      </field>
      <field>
        <name>EVENTO</name>
      </field>
      <field>
        <name>REPROCESO</name>
      </field>
      <field>
        <name>ESTADO_CUENTA</name>
      </field>
      <select_unspecified>N</select_unspecified>
    </fields>
    <attributes/>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>5760</xloc>
      <yloc>528</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>Detecta detalle vacío</name>
    <type>DetectEmptyStream</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <attributes/>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>6304</xloc>
      <yloc>656</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>Elaboración de cabecera y set contador</name>
    <type>ScriptValueMod</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <compatible>N</compatible>
    <optimizationLevel>9</optimizationLevel>
    <jsScripts>
      <jsScript>
        <jsScript_type>0</jsScript_type>
        <jsScript_name>Script 1</jsScript_name>
        <jsScript_script>var CABECERA = ''

// Variable que servirá para escribir la cabecera
CABECERA = IDENTIFICADOR + VERSION + FIID;
CABECERA = rpad(CABECERA, " ",251);</jsScript_script>
      </jsScript>
    </jsScripts>
    <fields>
      <field>
        <name>CABECERA</name>
        <rename>CABECERA</rename>
        <type>String</type>
        <length>-1</length>
        <precision>-1</precision>
        <replace>N</replace>
      </field>
    </fields>
    <attributes/>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>384</xloc>
      <yloc>528</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>Enjuaga número de documento</name>
    <type>ScriptValueMod</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <compatible>N</compatible>
    <optimizationLevel>9</optimizationLevel>
    <jsScripts>
      <jsScript>
        <jsScript_type>0</jsScript_type>
        <jsScript_name>Script 1</jsScript_name>
        <jsScript_script>//Script here

// Si no es válido el número de documento, o es 0
if ( ! parseInt(DOCUMENTO_TITULAR, 10) &amp;&amp; TIPO_PERSONA_TITULAR == 'F' ) {
	DOCUMENTO_TITULAR = CUIL_CDI_CUIT_TITULAR.substring( 2, 10 );
	TIPO_DOC_TITULAR = '1';
}</jsScript_script>
      </jsScript>
    </jsScripts>
    <fields>
      <field>
        <name>DOCUMENTO_TITULAR</name>
        <rename>DOCUMENTO_TITULAR</rename>
        <type>String</type>
        <length>-1</length>
        <precision>-1</precision>
        <replace>Y</replace>
      </field>
      <field>
        <name>TIPO_DOC_TITULAR</name>
        <rename>TIPO_DOC_TITULAR</rename>
        <type>String</type>
        <length>-1</length>
        <precision>-1</precision>
        <replace>Y</replace>
      </field>
    </fields>
    <attributes/>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>3616</xloc>
      <yloc>528</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>Escribe Pie</name>
    <type>TextFileOutput</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <separator/>
    <enclosure/>
    <enclosure_forced>N</enclosure_forced>
    <enclosure_fix_disabled>N</enclosure_fix_disabled>
    <header>N</header>
    <footer>N</footer>
    <format>None</format>
    <compression>None</compression>
    <encoding>windows-1252</encoding>
    <endedLine/>
    <fileNameInField>N</fileNameInField>
    <fileNameField/>
    <create_parent_folder>Y</create_parent_folder>
    <file>
      <name>${RCO}${NOMBRE_ARCHIVO}</name>
      <servlet_output>N</servlet_output>
      <do_not_open_new_file_init>N</do_not_open_new_file_init>
      <extention/>
      <append>Y</append>
      <split>N</split>
      <haspartno>N</haspartno>
      <add_date>N</add_date>
      <add_time>N</add_time>
      <SpecifyFormat>N</SpecifyFormat>
      <date_time_format/>
      <add_to_result_filenames>Y</add_to_result_filenames>
      <pad>N</pad>
      <fast_dump>N</fast_dump>
      <splitevery/>
    </file>
    <fields>
      <field>
        <name>PIE</name>
        <type>String</type>
        <format>#</format>
        <currency/>
        <decimal/>
        <group/>
        <nullif/>
        <trim_type>none</trim_type>
        <length>251</length>
        <precision>-1</precision>
      </field>
    </fields>
    <attributes/>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>6704</xloc>
      <yloc>528</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>Escribe archivo</name>
    <type>TextFileOutput</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <separator/>
    <enclosure/>
    <enclosure_forced>N</enclosure_forced>
    <enclosure_fix_disabled>N</enclosure_fix_disabled>
    <header>N</header>
    <footer>N</footer>
    <format>None</format>
    <compression>None</compression>
    <encoding>windows-1252</encoding>
    <endedLine/>
    <fileNameInField>N</fileNameInField>
    <fileNameField/>
    <create_parent_folder>Y</create_parent_folder>
    <file>
      <name>${RCO}${NOMBRE_ARCHIVO}</name>
      <servlet_output>N</servlet_output>
      <do_not_open_new_file_init>N</do_not_open_new_file_init>
      <extention/>
      <append>Y</append>
      <split>N</split>
      <haspartno>N</haspartno>
      <add_date>N</add_date>
      <add_time>N</add_time>
      <SpecifyFormat>N</SpecifyFormat>
      <date_time_format/>
      <add_to_result_filenames>Y</add_to_result_filenames>
      <pad>N</pad>
      <fast_dump>N</fast_dump>
      <splitevery/>
    </file>
    <fields>
      <field>
        <name>REGISTRO</name>
        <type>String</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <nullif/>
        <trim_type>none</trim_type>
        <length>251</length>
        <precision>-1</precision>
      </field>
    </fields>
    <attributes/>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>6144</xloc>
      <yloc>528</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>Esperar fin de lectura bd</name>
    <type>BlockingStep</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <pass_all_rows>Y</pass_all_rows>
    <directory>%%java.io.tmpdir%%</directory>
    <prefix>block</prefix>
    <cache_size>5000</cache_size>
    <compress>Y</compress>
    <attributes/>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>5904</xloc>
      <yloc>928</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>Fila sin campos</name>
    <type>SelectValues</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <fields>
      <select_unspecified>N</select_unspecified>
      <remove>
        <name>IDENTIFICADOR</name>
      </remove>
      <remove>
        <name>VERSION</name>
      </remove>
      <remove>
        <name>FIID</name>
      </remove>
      <remove>
        <name>CABECERA</name>
      </remove>
    </fields>
    <attributes/>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>752</xloc>
      <yloc>528</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>GET PRODUCTO ACEPTA ECHEQ</name>
    <type>StreamLookup</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <from>Parse Parametros PROD_BLOQUEO 2</from>
    <input_sorted>N</input_sorted>
    <preserve_memory>Y</preserve_memory>
    <sorted_list>Y</sorted_list>
    <integer_pair>N</integer_pair>
    <lookup>
      <key>
        <name>E_PRODUCTO</name>
        <field>CODPRODUCTO</field>
      </key>
      <key>
        <name>MONEDA</name>
        <field>MONEDA</field>
      </key>
      <value>
        <name>ACEPTA_ECHEQ</name>
        <rename>PROD_ACEPTA_ECHEQ</rename>
        <default/>
        <type>Boolean</type>
      </value>
    </lookup>
    <attributes/>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>3024</xloc>
      <yloc>528</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>GET PRODUCTO BLOQUEO</name>
    <type>StreamLookup</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <from>Parse Parametros PROD_BLOQUEO</from>
    <input_sorted>N</input_sorted>
    <preserve_memory>Y</preserve_memory>
    <sorted_list>Y</sorted_list>
    <integer_pair>N</integer_pair>
    <lookup>
      <key>
        <name>E_PRODUCTO</name>
        <field>PRODUCTO_BLOQUEO</field>
      </key>
      <value>
        <name>PRODUCTO_BLOQUEO</name>
        <rename>PROD_BLOQUEO_GENERICO</rename>
        <default/>
        <type>String</type>
      </value>
    </lookup>
    <attributes/>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>2720</xloc>
      <yloc>528</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>Get Parametros Producto Bloqueo</name>
    <type>TableInput</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <connection>TopazDS</connection>
    <sql>select NUMERICO_1 AS PRODUCTO_BLOQUEO
from ITF_MASTER_PARAMETROS 
where CODIGO_INTERFACE = 12 AND TZ_LOCK = 0 </sql>
    <limit>0</limit>
    <lookup/>
    <execute_each_row>N</execute_each_row>
    <variables_active>N</variables_active>
    <lazy_conversion_active>N</lazy_conversion_active>
    <attributes/>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>2720</xloc>
      <yloc>240</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>Get Parametros Producto Bloqueo Echeq</name>
    <type>TableInput</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <connection>TopazDS</connection>
    <sql>SELECT
	CODPRODUCTO,
	MONEDA,
	CASE (ACEPTA_ECHEQ)
		WHEN 'N' THEN 0
		ELSE 1
	END AS "ACEPTA_ECHEQ"
FROM TOPESPRODUCTO
WHERE TZ_LOCK LIKE '[04]%'</sql>
    <limit>0</limit>
    <lookup/>
    <execute_each_row>N</execute_each_row>
    <variables_active>N</variables_active>
    <lazy_conversion_active>N</lazy_conversion_active>
    <attributes/>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>3024</xloc>
      <yloc>240</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>Get Parametros TIPO DOC FISICO</name>
    <type>TableInput</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <connection>TopazDS</connection>
    <sql>select ALFA_2 AS NEW_TIPO_DOC_FISICO, ALFA_3 AS P_TIPO_DOC_FISICO 
from ITF_MASTER_PARAMETROS 
where CODIGO_INTERFACE = 21413 and ALFA_1 = 'TIPO_DOC' AND TZ_LOCK = 0;</sql>
    <limit>0</limit>
    <lookup/>
    <execute_each_row>N</execute_each_row>
    <variables_active>N</variables_active>
    <lazy_conversion_active>N</lazy_conversion_active>
    <attributes/>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>2320</xloc>
      <yloc>288</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>Get Parametros TIPOCUENTA</name>
    <type>TableInput</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <connection>TopazDS</connection>
    <sql>select NUMERICO_1 as 'PTIPOPRODUCTO' , NUMERICO_2 as 'PMONEDATOP', ALFA_2 as 'PTIPOCUENTA_LK' 
from ITF_MASTER_PARAMETROS 
where CODIGO_INTERFACE = 9 AND FUNCIONALIDAD='Tipos Cuenta REDLINK' AND TZ_LOCK = 0 </sql>
    <limit>0</limit>
    <lookup/>
    <execute_each_row>N</execute_each_row>
    <variables_active>N</variables_active>
    <lazy_conversion_active>N</lazy_conversion_active>
    <attributes/>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>1952</xloc>
      <yloc>320</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>Get variables</name>
    <type>GetVariable</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <fields>
      <field>
        <name>REFRESH_TOTAL</name>
        <variable>${REFRESH_TOTAL}</variable>
        <type>String</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <length>-1</length>
        <precision>-1</precision>
        <trim_type>none</trim_type>
      </field>
      <field>
        <name>FYHACTTOP</name>
        <variable>${FYHACTTOP}</variable>
        <type>Date</type>
        <format>yyyy-MM-dd HH:mm:ss</format>
        <currency/>
        <decimal/>
        <group/>
        <length>-1</length>
        <precision>-1</precision>
        <trim_type>none</trim_type>
      </field>
      <field>
        <name>FYHACTRELOJ</name>
        <variable>${FYHACTRELOJ}</variable>
        <type>Date</type>
        <format>yyyy-MM-dd HH:mm:ss</format>
        <currency/>
        <decimal/>
        <group/>
        <length>-1</length>
        <precision>-1</precision>
        <trim_type>none</trim_type>
      </field>
      <field>
        <name>VERSION_NUEVA</name>
        <variable>${VERSION_NUEVA}</variable>
        <type>Integer</type>
        <format>#</format>
        <currency/>
        <decimal/>
        <group/>
        <length>-1</length>
        <precision>-1</precision>
        <trim_type>none</trim_type>
      </field>
      <field>
        <name>ID_EJECUCION</name>
        <variable>${ID_EJECUCION}</variable>
        <type>Integer</type>
        <format>#</format>
        <currency/>
        <decimal/>
        <group/>
        <length>-1</length>
        <precision>-1</precision>
        <trim_type>none</trim_type>
      </field>
    </fields>
    <attributes/>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>3216</xloc>
      <yloc>528</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>Graba Cabecera</name>
    <type>TextFileOutput</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <separator/>
    <enclosure/>
    <enclosure_forced>N</enclosure_forced>
    <enclosure_fix_disabled>N</enclosure_fix_disabled>
    <header>N</header>
    <footer>N</footer>
    <format>None</format>
    <compression>None</compression>
    <encoding>windows-1252</encoding>
    <endedLine/>
    <fileNameInField>N</fileNameInField>
    <fileNameField/>
    <create_parent_folder>N</create_parent_folder>
    <file>
      <name>${RCO}${NOMBRE_ARCHIVO}</name>
      <servlet_output>N</servlet_output>
      <do_not_open_new_file_init>N</do_not_open_new_file_init>
      <extention/>
      <append>N</append>
      <split>N</split>
      <haspartno>N</haspartno>
      <add_date>N</add_date>
      <add_time>N</add_time>
      <SpecifyFormat>N</SpecifyFormat>
      <date_time_format/>
      <add_to_result_filenames>N</add_to_result_filenames>
      <pad>N</pad>
      <fast_dump>N</fast_dump>
      <splitevery>0</splitevery>
    </file>
    <fields>
      <field>
        <name>CABECERA</name>
        <type>String</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <nullif/>
        <trim_type>none</trim_type>
        <length>251</length>
        <precision>-1</precision>
      </field>
    </fields>
    <attributes/>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>592</xloc>
      <yloc>528</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>Hasta 2 cotitulares</name>
    <type>FilterRows</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <send_true_to>Construye Cotitulares</send_true_to>
    <send_false_to/>
    <compare>
      <condition>
        <negated>N</negated>
        <leftvalue>NRO_COTITULAR</leftvalue>
        <function>&lt;=</function>
        <rightvalue/>
        <value>
          <name>constant</name>
          <type>Integer</type>
          <text>2</text>
          <length>-1</length>
          <precision>0</precision>
          <isnull>N</isnull>
          <mask>####0;-####0</mask>
        </value>
      </condition>
    </compare>
    <attributes/>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>1728</xloc>
      <yloc>304</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>Inserta en histórico</name>
    <type>TableOutput</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <connection>TopazDS</connection>
    <schema>dbo</schema>
    <table>ITF_LK_CBU_BASE_HISTORICO</table>
    <commit>10000</commit>
    <truncate>N</truncate>
    <ignore_errors>N</ignore_errors>
    <use_batch>Y</use_batch>
    <specify_fields>Y</specify_fields>
    <partitioning_enabled>N</partitioning_enabled>
    <partitioning_field/>
    <partitioning_daily>N</partitioning_daily>
    <partitioning_monthly>Y</partitioning_monthly>
    <tablename_in_field>N</tablename_in_field>
    <tablename_field/>
    <tablename_in_table>Y</tablename_in_table>
    <return_keys>N</return_keys>
    <return_field/>
    <fields>
      <field>
        <column_name>CBU</column_name>
        <stream_name>CBU</stream_name>
      </field>
      <field>
        <column_name>ID_EJECUCION</column_name>
        <stream_name>ID_EJECUCION</stream_name>
      </field>
      <field>
        <column_name>CODIGO_BANCO</column_name>
        <stream_name>CODIGO_BANCO</stream_name>
      </field>
      <field>
        <column_name>MONEDA</column_name>
        <stream_name>MONEDA</stream_name>
      </field>
      <field>
        <column_name>TIPO_CUENTA</column_name>
        <stream_name>TIPO_CUENTA</stream_name>
      </field>
      <field>
        <column_name>NUM_CUENTA_PBF</column_name>
        <stream_name>NUM_CUENTA_PBF</stream_name>
      </field>
      <field>
        <column_name>NUM_CUENTA_BANCARIA</column_name>
        <stream_name>NUM_CUENTA_BANCARIA</stream_name>
      </field>
      <field>
        <column_name>SUCURSAL_CUENTA</column_name>
        <stream_name>SUCURSAL_CUENTA</stream_name>
      </field>
      <field>
        <column_name>ESTADO_CUENTA</column_name>
        <stream_name>ESTADO_CUENTA</stream_name>
      </field>
      <field>
        <column_name>TIPO_PERSONA</column_name>
        <stream_name>TIPO_PERSONA_TITULAR</stream_name>
      </field>
      <field>
        <column_name>TIPO_DOC_TITULAR</column_name>
        <stream_name>TIPO_DOC_TITULAR</stream_name>
      </field>
      <field>
        <column_name>DOCUMENTO_TITULAR</column_name>
        <stream_name>DOCUMENTO_TITULAR</stream_name>
      </field>
      <field>
        <column_name>CUIL_CDI_CUIT_TITULAR</column_name>
        <stream_name>CUIL_CDI_CUIT_TITULAR</stream_name>
      </field>
      <field>
        <column_name>NOMBRE_TITULAR</column_name>
        <stream_name>NOMBRE_TITULAR</stream_name>
      </field>
      <field>
        <column_name>TIPO_DOC_COTITULAR1</column_name>
        <stream_name>TIPO_DOC_COTITULAR1</stream_name>
      </field>
      <field>
        <column_name>DOCUMENTO_COTITULAR1</column_name>
        <stream_name>DOCUMENTO_COTITULAR1</stream_name>
      </field>
      <field>
        <column_name>CUIL_CDI_CUIT_COTITULAR1</column_name>
        <stream_name>CUIL_CDI_CUIT_COTITULAR1</stream_name>
      </field>
      <field>
        <column_name>NOMBRE_COTITULAR1</column_name>
        <stream_name>NOMBRE_COTITULAR1</stream_name>
      </field>
      <field>
        <column_name>TIPO_DOC_COTITULAR2</column_name>
        <stream_name>TIPO_DOC_COTITULAR2</stream_name>
      </field>
      <field>
        <column_name>DOCUMENTO_COTITULAR2</column_name>
        <stream_name>DOCUMENTO_COTITULAR2</stream_name>
      </field>
      <field>
        <column_name>CUIL_CDI_CUIT_COTITULAR2</column_name>
        <stream_name>CUIL_CDI_CUIT_COTITULAR2</stream_name>
      </field>
      <field>
        <column_name>NOMBRE_COTITULAR2</column_name>
        <stream_name>NOMBRE_COTITULAR2</stream_name>
      </field>
      <field>
        <column_name>EVENTO</column_name>
        <stream_name>EVENTO</stream_name>
      </field>
    </fields>
    <attributes/>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>5600</xloc>
      <yloc>928</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>Inserta/Actualiza/Elimina registro en maestro</name>
    <type>SynchronizeAfterMerge</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <connection>TopazDS</connection>
    <commit>1000</commit>
    <tablename_in_field>N</tablename_in_field>
    <tablename_field/>
    <use_batch>N</use_batch>
    <perform_lookup>N</perform_lookup>
    <operation_order_field>ACCION_DB</operation_order_field>
    <order_insert>A</order_insert>
    <order_update>M</order_update>
    <order_delete>B</order_delete>
    <lookup>
      <schema>dbo</schema>
      <table>ITF_LK_CBU_BASE_MASTER</table>
      <key>
        <name>CBU</name>
        <field>CBU</field>
        <condition>=</condition>
        <name2/>
      </key>
      <value>
        <name>EVENTO</name>
        <rename>EVENTO</rename>
        <update>Y</update>
      </value>
      <value>
        <name>REPROCESO</name>
        <rename>REPROCESO</rename>
        <update>Y</update>
      </value>
      <value>
        <name>CBU</name>
        <rename>CBU</rename>
        <update>N</update>
      </value>
      <value>
        <name>MONEDA</name>
        <rename>MONEDA</rename>
        <update>Y</update>
      </value>
      <value>
        <name>CODIGO_BANCO</name>
        <rename>CODIGO_BANCO</rename>
        <update>Y</update>
      </value>
      <value>
        <name>TIPO_CUENTA</name>
        <rename>TIPO_CUENTA</rename>
        <update>Y</update>
      </value>
      <value>
        <name>NUM_CUENTA_PBF</name>
        <rename>NUM_CUENTA_PBF</rename>
        <update>Y</update>
      </value>
      <value>
        <name>NUM_CUENTA_BANCARIA</name>
        <rename>NUM_CUENTA_BANCARIA</rename>
        <update>Y</update>
      </value>
      <value>
        <name>SUCURSAL_CUENTA</name>
        <rename>SUCURSAL_CUENTA</rename>
        <update>Y</update>
      </value>
      <value>
        <name>ESTADO_CUENTA</name>
        <rename>ESTADO_CUENTA</rename>
        <update>Y</update>
      </value>
      <value>
        <name>TIPO_PERSONA_TITULAR</name>
        <rename>TIPO_PERSONA_TITULAR</rename>
        <update>Y</update>
      </value>
      <value>
        <name>TIPO_DOC_TITULAR</name>
        <rename>TIPO_DOC_TITULAR</rename>
        <update>Y</update>
      </value>
      <value>
        <name>DOCUMENTO_TITULAR</name>
        <rename>DOCUMENTO_TITULAR</rename>
        <update>Y</update>
      </value>
      <value>
        <name>CUIL_CDI_CUIT_TITULAR</name>
        <rename>CUIL_CDI_CUIT_TITULAR</rename>
        <update>Y</update>
      </value>
      <value>
        <name>NOMBRE_TITULAR</name>
        <rename>NOMBRE_TITULAR</rename>
        <update>Y</update>
      </value>
      <value>
        <name>TIPO_PERSONA_COTITULAR1</name>
        <rename>TIPO_PERSONA_COTITULAR1</rename>
        <update>Y</update>
      </value>
      <value>
        <name>TIPO_DOC_COTITULAR1</name>
        <rename>TIPO_DOC_COTITULAR1</rename>
        <update>Y</update>
      </value>
      <value>
        <name>DOCUMENTO_COTITULAR1</name>
        <rename>DOCUMENTO_COTITULAR1</rename>
        <update>Y</update>
      </value>
      <value>
        <name>CUIL_CDI_CUIT_COTITULAR1</name>
        <rename>CUIL_CDI_CUIT_COTITULAR1</rename>
        <update>Y</update>
      </value>
      <value>
        <name>NOMBRE_COTITULAR1</name>
        <rename>NOMBRE_COTITULAR1</rename>
        <update>Y</update>
      </value>
      <value>
        <name>TIPO_PERSONA_COTITULAR2</name>
        <rename>TIPO_PERSONA_COTITULAR2</rename>
        <update>Y</update>
      </value>
      <value>
        <name>TIPO_DOC_COTITULAR2</name>
        <rename>TIPO_DOC_COTITULAR2</rename>
        <update>Y</update>
      </value>
      <value>
        <name>DOCUMENTO_COTITULAR2</name>
        <rename>DOCUMENTO_COTITULAR2</rename>
        <update>Y</update>
      </value>
      <value>
        <name>CUIL_CDI_CUIT_COTITULAR2</name>
        <rename>CUIL_CDI_CUIT_COTITULAR2</rename>
        <update>Y</update>
      </value>
      <value>
        <name>NOMBRE_COTITULAR2</name>
        <rename>NOMBRE_COTITULAR2</rename>
        <update>Y</update>
      </value>
    </lookup>
    <attributes/>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>6128</xloc>
      <yloc>928</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>Lee maestro</name>
    <type>TableInput</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <connection>TopazDS</connection>
    <sql>select 
	1 as "ENCONTRADO_MAESTRO",
	ilcbm.CBU AS "M_CBU",
	ilcbm.EVENTO AS "MAESTRO_EVENTO",
	ilcbm.REPROCESO AS "MAESTRO_REPROCESO",
	ilcbm.CODIGO_BANCO AS 'M_CODIGO_BANCO',
	ilcbm.MONEDA AS 'M_MONEDA',
	ilcbm.TIPO_CUENTA AS "M_TIPO_CUENTA",
	ilcbm.NUM_CUENTA_PBF AS "M_NUM_CUENTA_PBF",
	ilcbm.NUM_CUENTA_BANCARIA AS 'M_NUM_CUENTA_BANCARIA',
	ilcbm.SUCURSAL_CUENTA AS 'M_SUCURSAL_CUENTA',
	ilcbm.ESTADO_CUENTA AS 'M_ESTADO_CUENTA',
	ilcbm.TIPO_PERSONA_TITULAR AS 'M_TIPO_PERSONA_TITULAR',
	ilcbm.TIPO_DOC_TITULAR AS 'M_TIPO_DOC_TITULAR',
	ilcbm.DOCUMENTO_TITULAR AS 'M_DOCUMENTO_TITULAR',
	ilcbm.CUIL_CDI_CUIT_TITULAR AS 'M_CUIL_CDI_CUIT_TITULAR',
	ilcbm.NOMBRE_TITULAR AS 'M_NOMBRE_TITULAR',
	ilcbm.TIPO_PERSONA_COTITULAR1 AS 'M_TIPO_PERSONA_COTITULAR1',
	ilcbm.TIPO_DOC_COTITULAR1 AS 'M_TIPO_DOC_COTITULAR1',
	ilcbm.DOCUMENTO_COTITULAR1 AS 'M_DOCUMENTO_COTITULAR1',
	ilcbm.CUIL_CDI_CUIT_COTITULAR1 AS 'M_CUIL_CDI_CUIT_COTITULAR1',
	ilcbm.NOMBRE_COTITULAR1 AS 'M_NOMBRE_COTITULAR1',
	ilcbm.TIPO_PERSONA_COTITULAR2 AS 'M_TIPO_PERSONA_COTITULAR2',
	ilcbm.TIPO_DOC_COTITULAR2 AS 'M_TIPO_DOC_COTITULAR2',
	ilcbm.DOCUMENTO_COTITULAR2 AS 'M_DOCUMENTO_COTITULAR2',
	ilcbm.CUIL_CDI_CUIT_COTITULAR2 AS 'M_CUIL_CDI_CUIT_COTITULAR2',
	ilcbm.NOMBRE_COTITULAR2 AS 'M_NOMBRE_COTITULAR2'
from ITF_LK_CBU_BASE_MASTER ilcbm with (nolock)
order by M_CBU ASC</sql>
    <limit>0</limit>
    <lookup/>
    <execute_each_row>N</execute_each_row>
    <variables_active>N</variables_active>
    <lazy_conversion_active>N</lazy_conversion_active>
    <attributes/>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>1056</xloc>
      <yloc>384</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>MAP TIPO DOC</name>
    <type>StreamLookup</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <from>Parse Parametros TIPODOC</from>
    <input_sorted>N</input_sorted>
    <preserve_memory>Y</preserve_memory>
    <sorted_list>Y</sorted_list>
    <integer_pair>N</integer_pair>
    <lookup>
      <key>
        <name>TIPO_DOC_TITULAR</name>
        <field>P_TIPO_DOC_FISICO</field>
      </key>
      <value>
        <name>NEW_TIPO_DOC_FISICO</name>
        <rename>TIPODOC_LK</rename>
        <default> </default>
        <type>String</type>
      </value>
    </lookup>
    <attributes/>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>2160</xloc>
      <yloc>528</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>MAP TIPO DOC COT1</name>
    <type>StreamLookup</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <from>Parse Parametros TIPODOC</from>
    <input_sorted>N</input_sorted>
    <preserve_memory>Y</preserve_memory>
    <sorted_list>Y</sorted_list>
    <integer_pair>N</integer_pair>
    <lookup>
      <key>
        <name>TIPO_DOC_COTITULAR1</name>
        <field>P_TIPO_DOC_FISICO</field>
      </key>
      <value>
        <name>NEW_TIPO_DOC_FISICO</name>
        <rename>TIPODOC_LK_COT1</rename>
        <default> </default>
        <type>String</type>
      </value>
    </lookup>
    <attributes/>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>2320</xloc>
      <yloc>528</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>MAP TIPO DOC COT2</name>
    <type>StreamLookup</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <from>Parse Parametros TIPODOC</from>
    <input_sorted>N</input_sorted>
    <preserve_memory>Y</preserve_memory>
    <sorted_list>Y</sorted_list>
    <integer_pair>N</integer_pair>
    <lookup>
      <key>
        <name>TIPO_DOC_COTITULAR2</name>
        <field>P_TIPO_DOC_FISICO</field>
      </key>
      <value>
        <name>NEW_TIPO_DOC_FISICO</name>
        <rename>TIPODOC_LK_COT2</rename>
        <default> </default>
        <type>String</type>
      </value>
    </lookup>
    <attributes/>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>2480</xloc>
      <yloc>528</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>MAP TIPOCUENTA</name>
    <type>StreamLookup</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <from>Parse Parametros TIPOCUENTA</from>
    <input_sorted>N</input_sorted>
    <preserve_memory>Y</preserve_memory>
    <sorted_list>Y</sorted_list>
    <integer_pair>N</integer_pair>
    <lookup>
      <key>
        <name>TIPO_PRODUCTO</name>
        <field>PTIPOPRODUCTO</field>
      </key>
      <key>
        <name>MONEDA</name>
        <field>PMONEDATOP</field>
      </key>
      <value>
        <name>PTIPOCUENTA_LK</name>
        <rename>TIPOCUENTA_LK</rename>
        <default>00</default>
        <type>String</type>
      </value>
    </lookup>
    <attributes/>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>1952</xloc>
      <yloc>528</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>Mappea Prioridades</name>
    <type>ValueMapper</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <field_to_use>EVENTO</field_to_use>
    <target_field>EVENTO_PRIORIDAD</target_field>
    <non_match_default>9</non_match_default>
    <fields>
      <field>
        <source_value>B</source_value>
        <target_value>1</target_value>
      </field>
      <field>
        <source_value>A</source_value>
        <target_value>2</target_value>
      </field>
      <field>
        <source_value>M</source_value>
        <target_value>3</target_value>
      </field>
    </fields>
    <attributes/>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>5024</xloc>
      <yloc>528</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>NRO_COTITULAR</name>
    <type>ScriptValueMod</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <compatible>N</compatible>
    <optimizationLevel>9</optimizationLevel>
    <jsScripts>
      <jsScript>
        <jsScript_type>0</jsScript_type>
        <jsScript_name>Script 1</jsScript_name>
        <jsScript_script>//Script here

if (String(COT_CBU) != String(ultimaCuenta)) {
	NRO_COTITULAR = 1;
	ultimaCuenta = String(COT_CBU);
} else
	NRO_COTITULAR++;</jsScript_script>
      </jsScript>
      <jsScript>
        <jsScript_type>1</jsScript_type>
        <jsScript_name>Item_0</jsScript_name>
        <jsScript_script>//Script here

var ultimaCuenta = null;
var NRO_COTITULAR = 1;</jsScript_script>
      </jsScript>
    </jsScripts>
    <fields>
      <field>
        <name>NRO_COTITULAR</name>
        <rename>NRO_COTITULAR</rename>
        <type>Integer</type>
        <length>-1</length>
        <precision>-1</precision>
        <replace>N</replace>
      </field>
    </fields>
    <attributes/>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>1728</xloc>
      <yloc>128</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>Novedad descartada</name>
    <type>WriteToLog</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <loglevel>log_level_basic</loglevel>
    <displayHeader>Y</displayHeader>
    <limitRows>N</limitRows>
    <limitRowsNumber>0</limitRowsNumber>
    <logmessage>Se descartó una novedad porque había otra más prioritaria</logmessage>
    <fields>
      <field>
        <name>CBU</name>
      </field>
      <field>
        <name>TIPO_CUENTA</name>
      </field>
      <field>
        <name>NUM_CUENTA_PBF</name>
      </field>
      <field>
        <name>EVENTO</name>
      </field>
    </fields>
    <attributes/>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>5408</xloc>
      <yloc>672</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>Número de Cuenta formateado</name>
    <type>ScriptValueMod</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <compatible>N</compatible>
    <optimizationLevel>9</optimizationLevel>
    <jsScripts>
      <jsScript>
        <jsScript_type>0</jsScript_type>
        <jsScript_name>Script 1</jsScript_name>
        <jsScript_script>//Script here

if (ENCONTRADO_TOPAZ == 1)
	NUM_CUENTA_BANCARIA = SUCURSAL_CUENTA + "-" + String(NUM_CUENTA_TOPAZ).slice(0, -2) + "/" + String(NUM_CUENTA_TOPAZ).slice(-2);
else
	NUM_CUENTA_BANCARIA = null;</jsScript_script>
      </jsScript>
    </jsScripts>
    <fields>
      <field>
        <name>NUM_CUENTA_BANCARIA</name>
        <rename>NUM_CUENTA_BANCARIA</rename>
        <type>String</type>
        <length>-1</length>
        <precision>-1</precision>
        <replace>N</replace>
      </field>
    </fields>
    <attributes/>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>3840</xloc>
      <yloc>528</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>Obtiene CBUs Topaz</name>
    <type>TableInput</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <connection>TopazDS</connection>
    <sql>with PERSONAS as 
(
	select 
		NUMEROPERSONAFISICA as 'NUMEROPERSONA', 
		CONCAT(APELLIDOPATERNO,APELLIDOMATERNO,PRIMERNOMBRE,SEGUNDONOMBRE) as 'NOMBREPERSONA', 
		'F' as 'TIPOPERSONA'
	from CLI_PERSONASFISICAS cp WITH (NOLOCK)
	where LEFT(cp.TZ_LOCK,1) in (0,4)
	--
	union all
	--
	select 
		NUMEROPERSONAJURIDICA as 'NUMEROPERSONA', 
		case 
			when NOMBREFANTASIA is not null and NOMBREFANTASIA &lt;&gt; '' then NOMBREFANTASIA 
			when RAZONSOCIAL is not null and RAZONSOCIAL &lt;&gt; '' then RAZONSOCIAL 
			else ' ' 
		end as 'NOMBREPERSONA',
		CASE
			WHEN TIPOSOCIEDAD = 98 THEN 'F'
			ELSE 'J'
		END AS 'TIPOPERSONA'
	from CLI_PERSONASJURIDICAS cp WITH (NOLOCK)
	where LEFT(cp.TZ_LOCK,1) in (0,4)
)
select 
	1 AS "ENCONTRADO_TOPAZ",
	vs.CTA_CBU as 'CBU', 
	(SELECT NUMERICO FROM PARAMETROSGENERALES WHERE CODIGO = 2) as 'CODIGO_BANCO', 
	s.MONEDA as 'MONEDA', 
	s.C1785 as 'TIPO_PRODUCTO', 
	SUBSTRING(vs.CTA_REDLINK, 3, 19) as 'NUM_CUENTA_PBF',
	s.CUENTA as 'NUM_CUENTA_TOPAZ',
	s.SUCURSAL as 'SUCURSAL_CUENTA',
	p.TIPOPERSONA  as 'TIPO_PERSONA_TITULAR',
	cdp.TIPO_DOC_FISICO as 'TIPO_DOC_TITULAR',
	cdp.NUM_DOC_FISICO as 'DOCUMENTO_TITULAR',
	cdp.NUMERODOCUMENTO as 'CUIL_CDI_CUIT_TITULAR', 
	p.NOMBREPERSONA as 'NOMBRE_TITULAR', --Si es null va string vacio 
	s.C1651 as 'CUENTA_CANCELADA', -- = '1' es CANCELADA
	-- CAMPOS PARA DETERMINAR ESTADO
	CASE
		WHEN s.C1679 = 1 AND EXISTS(
			SELECT 1
			FROM GRL_BLOQUEOS gb
			INNER JOIN GRL_COD_BLOQUEOS gcb ON gcb.COD_BLOQUEO = gb.COD_BLOQUEO AND gcb.ACCIONES_CREDITO = 3 AND gcb.TZ_LOCK LIKE '[04]%'
			WHERE gb.TZ_LOCK LIKE '[04]%' AND gb.SALDO_JTS_OID = s.JTS_OID AND gb.ESTADO = 1
		) THEN 1
		ELSE 0
	END AS "E_BLOQUEO_GRAL",
	s.Producto AS 'E_PRODUCTO',
	s.C1620 as 'E_FECHA_APERTURA'
from VTA_SALDOS vs WITH (NOLOCK)
inner join SALDOS s WITH (NOLOCK) ON vs.JTS_OID_SALDO = s.JTS_OID and s.C1785 in (2,3) and s.MONEDA IN (1, 2, 988, 999) and LEFT(s.TZ_LOCK,1) in (0,4) 
inner join CLI_ClientePersona ccp WITH (NOLOCK) on s.C1803 = ccp.CODIGOCLIENTE and ccp.TITULARIDAD = 'T' and LEFT(ccp.TZ_LOCK,1) in (0,4) 
inner join CLI_DocumentosPFPJ cdp WITH (NOLOCK) on ccp.NUMEROPERSONA = cdp.NUMEROPERSONAFJ and cdp.TIPOPERSONA in ('F','J') and LEFT(cdp.TZ_LOCK,1) in (0,4) 
inner join PERSONAS p on cdp.NUMEROPERSONAFJ = p.NUMEROPERSONA
where LEFT(vs.TZ_LOCK,1) in (0,4)
order by CTA_CBU ASC, ccp.NUMEROPERSONA DESC</sql>
    <limit>0</limit>
    <lookup/>
    <execute_each_row>N</execute_each_row>
    <variables_active>Y</variables_active>
    <lazy_conversion_active>N</lazy_conversion_active>
    <attributes/>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>912</xloc>
      <yloc>528</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>Ordena por prioridad</name>
    <type>SortRows</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <directory>%%java.io.tmpdir%%</directory>
    <prefix>out</prefix>
    <sort_size>1000000</sort_size>
    <free_memory/>
    <compress>N</compress>
    <compress_variable/>
    <unique_rows>N</unique_rows>
    <fields>
      <field>
        <name>TIPO_CUENTA</name>
        <ascending>Y</ascending>
        <case_sensitive>N</case_sensitive>
        <collator_enabled>N</collator_enabled>
        <collator_strength>0</collator_strength>
        <presorted>N</presorted>
      </field>
      <field>
        <name>NUM_CUENTA_PBF</name>
        <ascending>Y</ascending>
        <case_sensitive>N</case_sensitive>
        <collator_enabled>N</collator_enabled>
        <collator_strength>0</collator_strength>
        <presorted>N</presorted>
      </field>
      <field>
        <name>EVENTO_PRIORIDAD</name>
        <ascending>Y</ascending>
        <case_sensitive>N</case_sensitive>
        <collator_enabled>N</collator_enabled>
        <collator_strength>0</collator_strength>
        <presorted>N</presorted>
      </field>
    </fields>
    <attributes/>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>5200</xloc>
      <yloc>528</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>Outer Join</name>
    <type>MergeJoin</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <join_type>FULL OUTER</join_type>
    <step1>Obtiene CBUs Topaz</step1>
    <step2>Lee maestro</step2>
    <keys_1>
      <key>CBU</key>
    </keys_1>
    <keys_2>
      <key>M_CBU</key>
    </keys_2>
    <attributes/>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>1056</xloc>
      <yloc>528</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>Parse CBUS</name>
    <type>SelectValues</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <fields>
      <field>
        <name>ENCONTRADO_TOPAZ</name>
      </field>
      <field>
        <name>CBU</name>
      </field>
      <field>
        <name>CODIGO_BANCO</name>
      </field>
      <field>
        <name>MONEDA</name>
      </field>
      <field>
        <name>TIPO_PRODUCTO</name>
      </field>
      <field>
        <name>NUM_CUENTA_PBF</name>
      </field>
      <field>
        <name>NUM_CUENTA_TOPAZ</name>
      </field>
      <field>
        <name>SUCURSAL_CUENTA</name>
      </field>
      <field>
        <name>TIPO_PERSONA_TITULAR</name>
      </field>
      <field>
        <name>TIPO_DOC_TITULAR</name>
      </field>
      <field>
        <name>DOCUMENTO_TITULAR</name>
      </field>
      <field>
        <name>CUIL_CDI_CUIT_TITULAR</name>
      </field>
      <field>
        <name>NOMBRE_TITULAR</name>
      </field>
      <field>
        <name>CUENTA_CANCELADA</name>
      </field>
      <field>
        <name>MAESTRO_EVENTO</name>
      </field>
      <field>
        <name>MAESTRO_REPROCESO</name>
      </field>
      <field>
        <name>E_BLOQUEO_GRAL</name>
      </field>
      <field>
        <name>E_PRODUCTO</name>
      </field>
      <field>
        <name>E_FECHA_APERTURA</name>
      </field>
      <field>
        <name>ENCONTRADO_MAESTRO</name>
      </field>
      <field>
        <name>M_CODIGO_BANCO</name>
      </field>
      <field>
        <name>M_MONEDA</name>
      </field>
      <field>
        <name>M_TIPO_CUENTA</name>
      </field>
      <field>
        <name>M_NUM_CUENTA_PBF</name>
      </field>
      <field>
        <name>M_NUM_CUENTA_BANCARIA</name>
      </field>
      <field>
        <name>M_SUCURSAL_CUENTA</name>
      </field>
      <field>
        <name>M_ESTADO_CUENTA</name>
      </field>
      <field>
        <name>M_TIPO_PERSONA_TITULAR</name>
      </field>
      <field>
        <name>M_TIPO_DOC_TITULAR</name>
      </field>
      <field>
        <name>M_DOCUMENTO_TITULAR</name>
      </field>
      <field>
        <name>M_CUIL_CDI_CUIT_TITULAR</name>
      </field>
      <field>
        <name>M_NOMBRE_TITULAR</name>
      </field>
      <field>
        <name>M_TIPO_PERSONA_COTITULAR1</name>
      </field>
      <field>
        <name>M_TIPO_DOC_COTITULAR1</name>
      </field>
      <field>
        <name>M_DOCUMENTO_COTITULAR1</name>
      </field>
      <field>
        <name>M_CUIL_CDI_CUIT_COTITULAR1</name>
      </field>
      <field>
        <name>M_NOMBRE_COTITULAR1</name>
      </field>
      <field>
        <name>M_TIPO_PERSONA_COTITULAR2</name>
      </field>
      <field>
        <name>M_TIPO_DOC_COTITULAR2</name>
      </field>
      <field>
        <name>M_DOCUMENTO_COTITULAR2</name>
      </field>
      <field>
        <name>M_CUIL_CDI_CUIT_COTITULAR2</name>
      </field>
      <field>
        <name>M_NOMBRE_COTITULAR2</name>
      </field>
      <select_unspecified>N</select_unspecified>
      <meta>
        <name>CBU</name>
        <rename>CBU</rename>
        <type>String</type>
        <length>22</length>
        <precision>-2</precision>
        <conversion_mask>#</conversion_mask>
        <date_format_lenient>false</date_format_lenient>
        <date_format_locale/>
        <date_format_timezone/>
        <lenient_string_to_number>false</lenient_string_to_number>
        <encoding/>
        <decimal_symbol/>
        <grouping_symbol/>
        <currency_symbol/>
        <storage_type/>
      </meta>
      <meta>
        <name>CODIGO_BANCO</name>
        <rename>CODIGO_BANCO</rename>
        <type>String</type>
        <length>4</length>
        <precision>-2</precision>
        <conversion_mask>#</conversion_mask>
        <date_format_lenient>false</date_format_lenient>
        <date_format_locale/>
        <date_format_timezone/>
        <lenient_string_to_number>false</lenient_string_to_number>
        <encoding/>
        <decimal_symbol/>
        <grouping_symbol/>
        <currency_symbol/>
        <storage_type/>
      </meta>
      <meta>
        <name>MONEDA</name>
        <rename>MONEDA</rename>
        <type>Integer</type>
        <length>4</length>
        <precision>-2</precision>
        <conversion_mask>#</conversion_mask>
        <date_format_lenient>false</date_format_lenient>
        <date_format_locale/>
        <date_format_timezone/>
        <lenient_string_to_number>false</lenient_string_to_number>
        <encoding/>
        <decimal_symbol/>
        <grouping_symbol/>
        <currency_symbol/>
        <storage_type/>
      </meta>
      <meta>
        <name>TIPO_PRODUCTO</name>
        <rename>TIPO_PRODUCTO</rename>
        <type>Integer</type>
        <length>1</length>
        <precision>-2</precision>
        <conversion_mask>#</conversion_mask>
        <date_format_lenient>false</date_format_lenient>
        <date_format_locale/>
        <date_format_timezone/>
        <lenient_string_to_number>false</lenient_string_to_number>
        <encoding/>
        <decimal_symbol/>
        <grouping_symbol/>
        <currency_symbol/>
        <storage_type/>
      </meta>
      <meta>
        <name>NUM_CUENTA_PBF</name>
        <rename>NUM_CUENTA_PBF</rename>
        <type>String</type>
        <length>19</length>
        <precision>-2</precision>
        <conversion_mask>#</conversion_mask>
        <date_format_lenient>false</date_format_lenient>
        <date_format_locale/>
        <date_format_timezone/>
        <lenient_string_to_number>false</lenient_string_to_number>
        <encoding/>
        <decimal_symbol/>
        <grouping_symbol/>
        <currency_symbol/>
        <storage_type/>
      </meta>
      <meta>
        <name>NUM_CUENTA_TOPAZ</name>
        <rename>NUM_CUENTA_TOPAZ</rename>
        <type>String</type>
        <length>12</length>
        <precision>-2</precision>
        <conversion_mask>#</conversion_mask>
        <date_format_lenient>false</date_format_lenient>
        <date_format_locale/>
        <date_format_timezone/>
        <lenient_string_to_number>false</lenient_string_to_number>
        <encoding/>
        <decimal_symbol/>
        <grouping_symbol/>
        <currency_symbol/>
        <storage_type/>
      </meta>
      <meta>
        <name>SUCURSAL_CUENTA</name>
        <rename>SUCURSAL_CUENTA</rename>
        <type>String</type>
        <length>5</length>
        <precision>-2</precision>
        <conversion_mask>#</conversion_mask>
        <date_format_lenient>false</date_format_lenient>
        <date_format_locale/>
        <date_format_timezone/>
        <lenient_string_to_number>false</lenient_string_to_number>
        <encoding/>
        <decimal_symbol/>
        <grouping_symbol/>
        <currency_symbol/>
        <storage_type/>
      </meta>
      <meta>
        <name>TIPO_PERSONA_TITULAR</name>
        <rename>TIPO_PERSONA_TITULAR</rename>
        <type>String</type>
        <length>1</length>
        <precision>-2</precision>
        <conversion_mask>#</conversion_mask>
        <date_format_lenient>false</date_format_lenient>
        <date_format_locale/>
        <date_format_timezone/>
        <lenient_string_to_number>false</lenient_string_to_number>
        <encoding/>
        <decimal_symbol/>
        <grouping_symbol/>
        <currency_symbol/>
        <storage_type/>
      </meta>
      <meta>
        <name>TIPO_DOC_TITULAR</name>
        <rename>TIPO_DOC_TITULAR</rename>
        <type>String</type>
        <length>4</length>
        <precision>-2</precision>
        <conversion_mask>#</conversion_mask>
        <date_format_lenient>false</date_format_lenient>
        <date_format_locale/>
        <date_format_timezone/>
        <lenient_string_to_number>false</lenient_string_to_number>
        <encoding/>
        <decimal_symbol/>
        <grouping_symbol/>
        <currency_symbol/>
        <storage_type/>
      </meta>
      <meta>
        <name>DOCUMENTO_TITULAR</name>
        <rename>DOCUMENTO_TITULAR</rename>
        <type>String</type>
        <length>20</length>
        <precision>-2</precision>
        <conversion_mask>#</conversion_mask>
        <date_format_lenient>false</date_format_lenient>
        <date_format_locale/>
        <date_format_timezone/>
        <lenient_string_to_number>false</lenient_string_to_number>
        <encoding/>
        <decimal_symbol/>
        <grouping_symbol/>
        <currency_symbol/>
        <storage_type/>
      </meta>
      <meta>
        <name>CUIL_CDI_CUIT_TITULAR</name>
        <rename>CUIL_CDI_CUIT_TITULAR</rename>
        <type>String</type>
        <length>20</length>
        <precision>-2</precision>
        <conversion_mask>#</conversion_mask>
        <date_format_lenient>false</date_format_lenient>
        <date_format_locale/>
        <date_format_timezone/>
        <lenient_string_to_number>false</lenient_string_to_number>
        <encoding/>
        <decimal_symbol/>
        <grouping_symbol/>
        <currency_symbol/>
        <storage_type/>
      </meta>
      <meta>
        <name>NOMBRE_TITULAR</name>
        <rename>NOMBRE_TITULAR</rename>
        <type>String</type>
        <length>120</length>
        <precision>-2</precision>
        <conversion_mask>#</conversion_mask>
        <date_format_lenient>false</date_format_lenient>
        <date_format_locale/>
        <date_format_timezone/>
        <lenient_string_to_number>false</lenient_string_to_number>
        <encoding/>
        <decimal_symbol/>
        <grouping_symbol/>
        <currency_symbol/>
        <storage_type/>
      </meta>
      <meta>
        <name>CUENTA_CANCELADA</name>
        <rename>CUENTA_CANCELADA</rename>
        <type>String</type>
        <length>1</length>
        <precision>-2</precision>
        <conversion_mask>#</conversion_mask>
        <date_format_lenient>false</date_format_lenient>
        <date_format_locale/>
        <date_format_timezone/>
        <lenient_string_to_number>false</lenient_string_to_number>
        <encoding/>
        <decimal_symbol/>
        <grouping_symbol/>
        <currency_symbol/>
        <storage_type/>
      </meta>
      <meta>
        <name>MAESTRO_EVENTO</name>
        <rename>MAESTRO_EVENTO</rename>
        <type>String</type>
        <length>1</length>
        <precision>-2</precision>
        <conversion_mask>#</conversion_mask>
        <date_format_lenient>false</date_format_lenient>
        <date_format_locale/>
        <date_format_timezone/>
        <lenient_string_to_number>false</lenient_string_to_number>
        <encoding/>
        <decimal_symbol/>
        <grouping_symbol/>
        <currency_symbol/>
        <storage_type/>
      </meta>
      <meta>
        <name>MAESTRO_REPROCESO</name>
        <rename>MAESTRO_REPROCESO</rename>
        <type>String</type>
        <length>1</length>
        <precision>-2</precision>
        <conversion_mask>#</conversion_mask>
        <date_format_lenient>false</date_format_lenient>
        <date_format_locale/>
        <date_format_timezone/>
        <lenient_string_to_number>false</lenient_string_to_number>
        <encoding/>
        <decimal_symbol/>
        <grouping_symbol/>
        <currency_symbol/>
        <storage_type/>
      </meta>
      <meta>
        <name>E_BLOQUEO_GRAL</name>
        <rename>E_BLOQUEO_GRAL</rename>
        <type>String</type>
        <length>9</length>
        <precision>-2</precision>
        <conversion_mask>#</conversion_mask>
        <date_format_lenient>false</date_format_lenient>
        <date_format_locale/>
        <date_format_timezone/>
        <lenient_string_to_number>false</lenient_string_to_number>
        <encoding/>
        <decimal_symbol/>
        <grouping_symbol/>
        <currency_symbol/>
        <storage_type/>
      </meta>
      <meta>
        <name>E_PRODUCTO</name>
        <rename>E_PRODUCTO</rename>
        <type>Integer</type>
        <length>5</length>
        <precision>-2</precision>
        <conversion_mask>#</conversion_mask>
        <date_format_lenient>false</date_format_lenient>
        <date_format_locale/>
        <date_format_timezone/>
        <lenient_string_to_number>false</lenient_string_to_number>
        <encoding/>
        <decimal_symbol/>
        <grouping_symbol/>
        <currency_symbol/>
        <storage_type/>
      </meta>
      <meta>
        <name>E_FECHA_APERTURA</name>
        <rename>E_FECHA_APERTURA</rename>
        <type>Date</type>
        <length>-2</length>
        <precision>-2</precision>
        <conversion_mask/>
        <date_format_lenient>false</date_format_lenient>
        <date_format_locale/>
        <date_format_timezone/>
        <lenient_string_to_number>false</lenient_string_to_number>
        <encoding/>
        <decimal_symbol/>
        <grouping_symbol/>
        <currency_symbol/>
        <storage_type/>
      </meta>
      <meta>
        <name>M_CODIGO_BANCO</name>
        <rename>M_CODIGO_BANCO</rename>
        <type>String</type>
        <length>3</length>
        <precision>-2</precision>
        <conversion_mask>#</conversion_mask>
        <date_format_lenient>false</date_format_lenient>
        <date_format_locale/>
        <date_format_timezone/>
        <lenient_string_to_number>false</lenient_string_to_number>
        <encoding/>
        <decimal_symbol/>
        <grouping_symbol/>
        <currency_symbol/>
        <storage_type/>
      </meta>
      <meta>
        <name>M_MONEDA</name>
        <rename>M_MONEDA</rename>
        <type>String</type>
        <length>3</length>
        <precision>-2</precision>
        <conversion_mask>#</conversion_mask>
        <date_format_lenient>false</date_format_lenient>
        <date_format_locale/>
        <date_format_timezone/>
        <lenient_string_to_number>false</lenient_string_to_number>
        <encoding/>
        <decimal_symbol/>
        <grouping_symbol/>
        <currency_symbol/>
        <storage_type/>
      </meta>
      <meta>
        <name>M_TIPO_CUENTA</name>
        <rename>M_TIPO_CUENTA</rename>
        <type>String</type>
        <length>2</length>
        <precision>-2</precision>
        <conversion_mask>#</conversion_mask>
        <date_format_lenient>false</date_format_lenient>
        <date_format_locale/>
        <date_format_timezone/>
        <lenient_string_to_number>false</lenient_string_to_number>
        <encoding/>
        <decimal_symbol/>
        <grouping_symbol/>
        <currency_symbol/>
        <storage_type/>
      </meta>
      <meta>
        <name>M_NUM_CUENTA_PBF</name>
        <rename>M_NUM_CUENTA_PBF</rename>
        <type>String</type>
        <length>19</length>
        <precision>-2</precision>
        <conversion_mask>#</conversion_mask>
        <date_format_lenient>false</date_format_lenient>
        <date_format_locale/>
        <date_format_timezone/>
        <lenient_string_to_number>false</lenient_string_to_number>
        <encoding/>
        <decimal_symbol/>
        <grouping_symbol/>
        <currency_symbol/>
        <storage_type/>
      </meta>
      <meta>
        <name>M_NUM_CUENTA_BANCARIA</name>
        <rename>M_NUM_CUENTA_BANCARIA</rename>
        <type>String</type>
        <length>19</length>
        <precision>-2</precision>
        <conversion_mask>#</conversion_mask>
        <date_format_lenient>false</date_format_lenient>
        <date_format_locale/>
        <date_format_timezone/>
        <lenient_string_to_number>false</lenient_string_to_number>
        <encoding/>
        <decimal_symbol/>
        <grouping_symbol/>
        <currency_symbol/>
        <storage_type/>
      </meta>
      <meta>
        <name>M_SUCURSAL_CUENTA</name>
        <rename>M_SUCURSAL_CUENTA</rename>
        <type>String</type>
        <length>3</length>
        <precision>-2</precision>
        <conversion_mask>#</conversion_mask>
        <date_format_lenient>false</date_format_lenient>
        <date_format_locale/>
        <date_format_timezone/>
        <lenient_string_to_number>false</lenient_string_to_number>
        <encoding/>
        <decimal_symbol/>
        <grouping_symbol/>
        <currency_symbol/>
        <storage_type/>
      </meta>
      <meta>
        <name>M_ESTADO_CUENTA</name>
        <rename>M_ESTADO_CUENTA</rename>
        <type>String</type>
        <length>1</length>
        <precision>-2</precision>
        <conversion_mask>#</conversion_mask>
        <date_format_lenient>false</date_format_lenient>
        <date_format_locale/>
        <date_format_timezone/>
        <lenient_string_to_number>false</lenient_string_to_number>
        <encoding/>
        <decimal_symbol/>
        <grouping_symbol/>
        <currency_symbol/>
        <storage_type/>
      </meta>
      <meta>
        <name>M_TIPO_PERSONA_TITULAR</name>
        <rename>M_TIPO_PERSONA_TITULAR</rename>
        <type>String</type>
        <length>1</length>
        <precision>-2</precision>
        <conversion_mask>#</conversion_mask>
        <date_format_lenient>false</date_format_lenient>
        <date_format_locale/>
        <date_format_timezone/>
        <lenient_string_to_number>false</lenient_string_to_number>
        <encoding/>
        <decimal_symbol/>
        <grouping_symbol/>
        <currency_symbol/>
        <storage_type/>
      </meta>
      <meta>
        <name>M_TIPO_DOC_TITULAR</name>
        <rename>M_TIPO_DOC_TITULAR</rename>
        <type>String</type>
        <length>1</length>
        <precision>-2</precision>
        <conversion_mask>#</conversion_mask>
        <date_format_lenient>false</date_format_lenient>
        <date_format_locale/>
        <date_format_timezone/>
        <lenient_string_to_number>false</lenient_string_to_number>
        <encoding/>
        <decimal_symbol/>
        <grouping_symbol/>
        <currency_symbol/>
        <storage_type/>
      </meta>
      <meta>
        <name>M_DOCUMENTO_TITULAR</name>
        <rename>M_DOCUMENTO_TITULAR</rename>
        <type>String</type>
        <length>9</length>
        <precision>-2</precision>
        <conversion_mask>#</conversion_mask>
        <date_format_lenient>false</date_format_lenient>
        <date_format_locale/>
        <date_format_timezone/>
        <lenient_string_to_number>false</lenient_string_to_number>
        <encoding/>
        <decimal_symbol/>
        <grouping_symbol/>
        <currency_symbol/>
        <storage_type/>
      </meta>
      <meta>
        <name>M_CUIL_CDI_CUIT_TITULAR</name>
        <rename>M_CUIL_CDI_CUIT_TITULAR</rename>
        <type>String</type>
        <length>12</length>
        <precision>-2</precision>
        <conversion_mask>#</conversion_mask>
        <date_format_lenient>false</date_format_lenient>
        <date_format_locale/>
        <date_format_timezone/>
        <lenient_string_to_number>false</lenient_string_to_number>
        <encoding/>
        <decimal_symbol/>
        <grouping_symbol/>
        <currency_symbol/>
        <storage_type/>
      </meta>
      <meta>
        <name>M_NOMBRE_TITULAR</name>
        <rename>M_NOMBRE_TITULAR</rename>
        <type>String</type>
        <length>40</length>
        <precision>-2</precision>
        <conversion_mask>#</conversion_mask>
        <date_format_lenient>false</date_format_lenient>
        <date_format_locale/>
        <date_format_timezone/>
        <lenient_string_to_number>false</lenient_string_to_number>
        <encoding/>
        <decimal_symbol/>
        <grouping_symbol/>
        <currency_symbol/>
        <storage_type/>
      </meta>
      <meta>
        <name>M_TIPO_PERSONA_COTITULAR1</name>
        <rename>M_TIPO_PERSONA_COTITULAR1</rename>
        <type>String</type>
        <length>1</length>
        <precision>-2</precision>
        <conversion_mask>#</conversion_mask>
        <date_format_lenient>false</date_format_lenient>
        <date_format_locale/>
        <date_format_timezone/>
        <lenient_string_to_number>false</lenient_string_to_number>
        <encoding/>
        <decimal_symbol/>
        <grouping_symbol/>
        <currency_symbol/>
        <storage_type/>
      </meta>
      <meta>
        <name>M_TIPO_DOC_COTITULAR1</name>
        <rename>M_TIPO_DOC_COTITULAR1</rename>
        <type>String</type>
        <length>1</length>
        <precision>-2</precision>
        <conversion_mask>#</conversion_mask>
        <date_format_lenient>false</date_format_lenient>
        <date_format_locale/>
        <date_format_timezone/>
        <lenient_string_to_number>false</lenient_string_to_number>
        <encoding/>
        <decimal_symbol/>
        <grouping_symbol/>
        <currency_symbol/>
        <storage_type/>
      </meta>
      <meta>
        <name>M_DOCUMENTO_COTITULAR1</name>
        <rename>M_DOCUMENTO_COTITULAR1</rename>
        <type>String</type>
        <length>9</length>
        <precision>-2</precision>
        <conversion_mask>#</conversion_mask>
        <date_format_lenient>false</date_format_lenient>
        <date_format_locale/>
        <date_format_timezone/>
        <lenient_string_to_number>false</lenient_string_to_number>
        <encoding/>
        <decimal_symbol/>
        <grouping_symbol/>
        <currency_symbol/>
        <storage_type/>
      </meta>
      <meta>
        <name>M_CUIL_CDI_CUIT_COTITULAR1</name>
        <rename>M_CUIL_CDI_CUIT_COTITULAR1</rename>
        <type>String</type>
        <length>12</length>
        <precision>-2</precision>
        <conversion_mask>#</conversion_mask>
        <date_format_lenient>false</date_format_lenient>
        <date_format_locale/>
        <date_format_timezone/>
        <lenient_string_to_number>false</lenient_string_to_number>
        <encoding/>
        <decimal_symbol/>
        <grouping_symbol/>
        <currency_symbol/>
        <storage_type/>
      </meta>
      <meta>
        <name>M_NOMBRE_COTITULAR1</name>
        <rename>M_NOMBRE_COTITULAR1</rename>
        <type>String</type>
        <length>40</length>
        <precision>-2</precision>
        <conversion_mask>#</conversion_mask>
        <date_format_lenient>false</date_format_lenient>
        <date_format_locale/>
        <date_format_timezone/>
        <lenient_string_to_number>false</lenient_string_to_number>
        <encoding/>
        <decimal_symbol/>
        <grouping_symbol/>
        <currency_symbol/>
        <storage_type/>
      </meta>
      <meta>
        <name>M_TIPO_PERSONA_COTITULAR2</name>
        <rename>M_TIPO_PERSONA_COTITULAR2</rename>
        <type>String</type>
        <length>1</length>
        <precision>-2</precision>
        <conversion_mask>#</conversion_mask>
        <date_format_lenient>false</date_format_lenient>
        <date_format_locale/>
        <date_format_timezone/>
        <lenient_string_to_number>false</lenient_string_to_number>
        <encoding/>
        <decimal_symbol/>
        <grouping_symbol/>
        <currency_symbol/>
        <storage_type/>
      </meta>
      <meta>
        <name>M_TIPO_DOC_COTITULAR2</name>
        <rename>M_TIPO_DOC_COTITULAR2</rename>
        <type>String</type>
        <length>1</length>
        <precision>-2</precision>
        <conversion_mask>#</conversion_mask>
        <date_format_lenient>false</date_format_lenient>
        <date_format_locale/>
        <date_format_timezone/>
        <lenient_string_to_number>false</lenient_string_to_number>
        <encoding/>
        <decimal_symbol/>
        <grouping_symbol/>
        <currency_symbol/>
        <storage_type/>
      </meta>
      <meta>
        <name>M_DOCUMENTO_COTITULAR2</name>
        <rename>M_DOCUMENTO_COTITULAR2</rename>
        <type>String</type>
        <length>9</length>
        <precision>-2</precision>
        <conversion_mask>#</conversion_mask>
        <date_format_lenient>false</date_format_lenient>
        <date_format_locale/>
        <date_format_timezone/>
        <lenient_string_to_number>false</lenient_string_to_number>
        <encoding/>
        <decimal_symbol/>
        <grouping_symbol/>
        <currency_symbol/>
        <storage_type/>
      </meta>
      <meta>
        <name>M_CUIL_CDI_CUIT_COTITULAR2</name>
        <rename>M_CUIL_CDI_CUIT_COTITULAR2</rename>
        <type>String</type>
        <length>12</length>
        <precision>-2</precision>
        <conversion_mask>#</conversion_mask>
        <date_format_lenient>false</date_format_lenient>
        <date_format_locale/>
        <date_format_timezone/>
        <lenient_string_to_number>false</lenient_string_to_number>
        <encoding/>
        <decimal_symbol/>
        <grouping_symbol/>
        <currency_symbol/>
        <storage_type/>
      </meta>
      <meta>
        <name>M_NOMBRE_COTITULAR2</name>
        <rename>M_NOMBRE_COTITULAR2</rename>
        <type>String</type>
        <length>40</length>
        <precision>-2</precision>
        <conversion_mask>#</conversion_mask>
        <date_format_lenient>false</date_format_lenient>
        <date_format_locale/>
        <date_format_timezone/>
        <lenient_string_to_number>false</lenient_string_to_number>
        <encoding/>
        <decimal_symbol/>
        <grouping_symbol/>
        <currency_symbol/>
        <storage_type/>
      </meta>
    </fields>
    <attributes/>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>1440</xloc>
      <yloc>528</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>Parse Cotitulares</name>
    <type>SelectValues</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <fields>
      <select_unspecified>N</select_unspecified>
      <meta>
        <name>COT_CBU</name>
        <rename>COT_CBU</rename>
        <type>String</type>
        <length>22</length>
        <precision>-2</precision>
        <conversion_mask/>
        <date_format_lenient>false</date_format_lenient>
        <date_format_locale/>
        <date_format_timezone/>
        <lenient_string_to_number>false</lenient_string_to_number>
        <encoding/>
        <decimal_symbol/>
        <grouping_symbol/>
        <currency_symbol/>
        <storage_type/>
      </meta>
      <meta>
        <name>COT_TIPO_PERSONA</name>
        <rename>COT_TIPO_PERSONA</rename>
        <type>String</type>
        <length>1</length>
        <precision>-2</precision>
        <conversion_mask/>
        <date_format_lenient>false</date_format_lenient>
        <date_format_locale/>
        <date_format_timezone/>
        <lenient_string_to_number>false</lenient_string_to_number>
        <encoding/>
        <decimal_symbol/>
        <grouping_symbol/>
        <currency_symbol/>
        <storage_type/>
      </meta>
      <meta>
        <name>COT_DOC_FISICO</name>
        <rename>COT_DOC_FISICO</rename>
        <type>String</type>
        <length>4</length>
        <precision>-2</precision>
        <conversion_mask/>
        <date_format_lenient>false</date_format_lenient>
        <date_format_locale/>
        <date_format_timezone/>
        <lenient_string_to_number>false</lenient_string_to_number>
        <encoding/>
        <decimal_symbol/>
        <grouping_symbol/>
        <currency_symbol/>
        <storage_type/>
      </meta>
      <meta>
        <name>COT_NUM_DOC_FISICO</name>
        <rename>COT_NUM_DOC_FISICO</rename>
        <type>String</type>
        <length>20</length>
        <precision>-2</precision>
        <conversion_mask/>
        <date_format_lenient>false</date_format_lenient>
        <date_format_locale/>
        <date_format_timezone/>
        <lenient_string_to_number>false</lenient_string_to_number>
        <encoding/>
        <decimal_symbol/>
        <grouping_symbol/>
        <currency_symbol/>
        <storage_type/>
      </meta>
      <meta>
        <name>COT_CUIL_CDI_CUIT</name>
        <rename>COT_CUIL_CDI_CUIT</rename>
        <type>String</type>
        <length>20</length>
        <precision>-2</precision>
        <conversion_mask/>
        <date_format_lenient>false</date_format_lenient>
        <date_format_locale/>
        <date_format_timezone/>
        <lenient_string_to_number>false</lenient_string_to_number>
        <encoding/>
        <decimal_symbol/>
        <grouping_symbol/>
        <currency_symbol/>
        <storage_type/>
      </meta>
      <meta>
        <name>COT_NOMBRE_TITULAR</name>
        <rename>COT_NOMBRE_TITULAR</rename>
        <type>String</type>
        <length>120</length>
        <precision>-2</precision>
        <conversion_mask/>
        <date_format_lenient>false</date_format_lenient>
        <date_format_locale/>
        <date_format_timezone/>
        <lenient_string_to_number>false</lenient_string_to_number>
        <encoding/>
        <decimal_symbol/>
        <grouping_symbol/>
        <currency_symbol/>
        <storage_type/>
      </meta>
    </fields>
    <attributes/>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>1728</xloc>
      <yloc>224</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>Parse Parametros PROD_BLOQUEO</name>
    <type>SelectValues</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <fields>
      <select_unspecified>N</select_unspecified>
      <meta>
        <name>PRODUCTO_BLOQUEO</name>
        <rename>PRODUCTO_BLOQUEO</rename>
        <type>Integer</type>
        <length>-2</length>
        <precision>-2</precision>
        <conversion_mask>#</conversion_mask>
        <date_format_lenient>false</date_format_lenient>
        <date_format_locale/>
        <date_format_timezone/>
        <lenient_string_to_number>false</lenient_string_to_number>
        <encoding/>
        <decimal_symbol/>
        <grouping_symbol/>
        <currency_symbol/>
        <storage_type/>
      </meta>
    </fields>
    <attributes/>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>2720</xloc>
      <yloc>368</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>Parse Parametros PROD_BLOQUEO 2</name>
    <type>SelectValues</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <fields>
      <select_unspecified>N</select_unspecified>
      <meta>
        <name>CODPRODUCTO</name>
        <rename>CODPRODUCTO</rename>
        <type>Integer</type>
        <length>5</length>
        <precision>0</precision>
        <conversion_mask/>
        <date_format_lenient>false</date_format_lenient>
        <date_format_locale/>
        <date_format_timezone/>
        <lenient_string_to_number>false</lenient_string_to_number>
        <encoding/>
        <decimal_symbol/>
        <grouping_symbol/>
        <currency_symbol/>
        <storage_type/>
      </meta>
      <meta>
        <name>MONEDA</name>
        <rename>MONEDA</rename>
        <type>Integer</type>
        <length>4</length>
        <precision>0</precision>
        <conversion_mask/>
        <date_format_lenient>false</date_format_lenient>
        <date_format_locale/>
        <date_format_timezone/>
        <lenient_string_to_number>false</lenient_string_to_number>
        <encoding/>
        <decimal_symbol/>
        <grouping_symbol/>
        <currency_symbol/>
        <storage_type/>
      </meta>
      <meta>
        <name>ACEPTA_ECHEQ</name>
        <rename>ACEPTA_ECHEQ</rename>
        <type>Boolean</type>
        <length>9</length>
        <precision>0</precision>
        <conversion_mask/>
        <date_format_lenient>false</date_format_lenient>
        <date_format_locale/>
        <date_format_timezone/>
        <lenient_string_to_number>false</lenient_string_to_number>
        <encoding/>
        <decimal_symbol/>
        <grouping_symbol/>
        <currency_symbol/>
        <storage_type/>
      </meta>
    </fields>
    <attributes/>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>3024</xloc>
      <yloc>368</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>Parse Parametros TIPOCUENTA</name>
    <type>SelectValues</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <fields>
      <select_unspecified>N</select_unspecified>
      <meta>
        <name>PTIPOPRODUCTO</name>
        <rename>PTIPOPRODUCTO</rename>
        <type>Number</type>
        <length>-2</length>
        <precision>-2</precision>
        <conversion_mask>#</conversion_mask>
        <date_format_lenient>false</date_format_lenient>
        <date_format_locale/>
        <date_format_timezone/>
        <lenient_string_to_number>false</lenient_string_to_number>
        <encoding/>
        <decimal_symbol/>
        <grouping_symbol/>
        <currency_symbol/>
        <storage_type/>
      </meta>
      <meta>
        <name>PMONEDATOP</name>
        <rename>PMONEDATOP</rename>
        <type>Number</type>
        <length>-2</length>
        <precision>-2</precision>
        <conversion_mask>#</conversion_mask>
        <date_format_lenient>false</date_format_lenient>
        <date_format_locale/>
        <date_format_timezone/>
        <lenient_string_to_number>false</lenient_string_to_number>
        <encoding/>
        <decimal_symbol/>
        <grouping_symbol/>
        <currency_symbol/>
        <storage_type/>
      </meta>
      <meta>
        <name>PTIPOCUENTA_LK</name>
        <rename>PTIPOCUENTA_LK</rename>
        <type>String</type>
        <length>-2</length>
        <precision>-2</precision>
        <conversion_mask>#</conversion_mask>
        <date_format_lenient>false</date_format_lenient>
        <date_format_locale/>
        <date_format_timezone/>
        <lenient_string_to_number>false</lenient_string_to_number>
        <encoding/>
        <decimal_symbol/>
        <grouping_symbol/>
        <currency_symbol/>
        <storage_type/>
      </meta>
    </fields>
    <attributes/>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>1952</xloc>
      <yloc>416</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>Parse Parametros TIPODOC</name>
    <type>SelectValues</type>
    <description/>
    <distribute>N</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <fields>
      <select_unspecified>N</select_unspecified>
      <meta>
        <name>NEW_TIPO_DOC_FISICO</name>
        <rename>NEW_TIPO_DOC_FISICO</rename>
        <type>String</type>
        <length>-2</length>
        <precision>-2</precision>
        <conversion_mask>#</conversion_mask>
        <date_format_lenient>false</date_format_lenient>
        <date_format_locale/>
        <date_format_timezone/>
        <lenient_string_to_number>false</lenient_string_to_number>
        <encoding/>
        <decimal_symbol/>
        <grouping_symbol/>
        <currency_symbol/>
        <storage_type/>
      </meta>
      <meta>
        <name>P_TIPO_DOC_FISICO</name>
        <rename>P_TIPO_DOC_FISICO</rename>
        <type>String</type>
        <length>-2</length>
        <precision>-2</precision>
        <conversion_mask>#</conversion_mask>
        <date_format_lenient>false</date_format_lenient>
        <date_format_locale/>
        <date_format_timezone/>
        <lenient_string_to_number>false</lenient_string_to_number>
        <encoding/>
        <decimal_symbol/>
        <grouping_symbol/>
        <currency_symbol/>
        <storage_type/>
      </meta>
    </fields>
    <attributes/>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>2320</xloc>
      <yloc>400</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>Solo PIE</name>
    <type>SelectValues</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <fields>
      <field>
        <name>PIE</name>
      </field>
      <select_unspecified>N</select_unspecified>
    </fields>
    <attributes/>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>6592</xloc>
      <yloc>528</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>Trae Cotitulares</name>
    <type>TableInput</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <connection>TopazDS</connection>
    <sql>with PERSONAS as 
(
	select 
	NUMEROPERSONAFISICA as 'NUMEROPERSONA', 
	CONCAT(APELLIDOPATERNO,APELLIDOMATERNO,PRIMERNOMBRE,SEGUNDONOMBRE) as 'NOMBREPERSONA',
	'F' as 'TIPOPERSONA',
	ESTADO as 'ESTADOPERSONA'
	from CLI_PERSONASFISICAS cp 
	where LEFT(cp.TZ_LOCK,1) in (0,4)

	union all

	select 
	NUMEROPERSONAJURIDICA as 'NUMEROPERSONA', 
	case 
		when NOMBREFANTASIA is not null and NOMBREFANTASIA &lt;&gt; '' then NOMBREFANTASIA 
		when RAZONSOCIAL is not null and RAZONSOCIAL &lt;&gt; '' then RAZONSOCIAL 
		else ' ' 
	end as 'NOMBREPERSONA', 
	case
		when TIPOSOCIEDAD = 98 then 'F'
		else 'J'
	end as 'TIPOPERSONA',
	ESTADO as 'ESTADOPERSONA'
	from CLI_PERSONASJURIDICAS cp 
	where LEFT(cp.TZ_LOCK,1) in (0,4)
)
select
	vs.CTA_CBU as 'COT_CBU', 
	p.TIPOPERSONA as 'COT_TIPO_PERSONA', 
	cdp.TIPO_DOC_FISICO as 'COT_DOC_FISICO',
	cdp.NUM_DOC_FISICO as 'COT_NUM_DOC_FISICO',
	cdp.NUMERODOCUMENTO as 'COT_CUIL_CDI_CUIT', 
	COALESCE(p.NOMBREPERSONA, ' ') as 'COT_NOMBRE_TITULAR' --Si es null va string vacio 
from VTA_SALDOS vs 
inner join SALDOS s on vs.JTS_OID_SALDO = s.JTS_OID and s.C1785 in (2,3) and s.MONEDA in (1, 2, 988, 999) and LEFT(s.TZ_LOCK,1) in (0,4) 
inner join CLI_ClientePersona ccp on s.C1803 = ccp.CODIGOCLIENTE and ccp.TITULARIDAD = 'C' and LEFT(ccp.TZ_LOCK,1) in (0,4) 
inner join CLI_DocumentosPFPJ cdp on ccp.NUMEROPERSONA = cdp.NUMEROPERSONAFJ and cdp.TIPOPERSONA in ('F','J') and LEFT(cdp.TZ_LOCK,1) in (0,4) 
inner join PERSONAS p on cdp.NUMEROPERSONAFJ = p.NUMEROPERSONA and p.ESTADOPERSONA = 0
where LEFT(vs.TZ_LOCK,1) in (0,4) 
order by COT_CBU ASC, ccp.FECHAALTARELACION ASC, ccp.NUMEROPERSONA ASC;</sql>
    <limit>0</limit>
    <lookup/>
    <execute_each_row>N</execute_each_row>
    <variables_active>N</variables_active>
    <lazy_conversion_active>N</lazy_conversion_active>
    <attributes/>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>1728</xloc>
      <yloc>32</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>Tratar nulos</name>
    <type>IfNull</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <replaceAllByValue> </replaceAllByValue>
    <replaceAllMask/>
    <selectFields>Y</selectFields>
    <selectValuesType>N</selectValuesType>
    <setEmptyStringAll>N</setEmptyStringAll>
    <valuetypes>
      </valuetypes>
    <fields>
      <field>
        <name>CBU</name>
        <value> </value>
        <mask/>
        <set_empty_string>N</set_empty_string>
      </field>
      <field>
        <name>CODIGO_BANCO</name>
        <value> </value>
        <mask/>
        <set_empty_string>N</set_empty_string>
      </field>
      <field>
        <name>MONEDA</name>
        <value> </value>
        <mask/>
        <set_empty_string>N</set_empty_string>
      </field>
      <field>
        <name>TIPO_CUENTA</name>
        <value> </value>
        <mask/>
        <set_empty_string>N</set_empty_string>
      </field>
      <field>
        <name>NUM_CUENTA_PBF</name>
        <value> </value>
        <mask/>
        <set_empty_string>N</set_empty_string>
      </field>
      <field>
        <name>NUM_CUENTA_BANCARIA</name>
        <value> </value>
        <mask/>
        <set_empty_string>N</set_empty_string>
      </field>
      <field>
        <name>SUCURSAL_CUENTA</name>
        <value> </value>
        <mask/>
        <set_empty_string>N</set_empty_string>
      </field>
      <field>
        <name>TIPO_PERSONA_TITULAR</name>
        <value> </value>
        <mask/>
        <set_empty_string>N</set_empty_string>
      </field>
      <field>
        <name>TIPO_DOC_TITULAR</name>
        <value> </value>
        <mask/>
        <set_empty_string>N</set_empty_string>
      </field>
      <field>
        <name>DOCUMENTO_TITULAR</name>
        <value> </value>
        <mask/>
        <set_empty_string>N</set_empty_string>
      </field>
      <field>
        <name>CUIL_CDI_CUIT_TITULAR</name>
        <value> </value>
        <mask/>
        <set_empty_string>N</set_empty_string>
      </field>
      <field>
        <name>NOMBRE_TITULAR</name>
        <value> </value>
        <mask/>
        <set_empty_string>N</set_empty_string>
      </field>
      <field>
        <name>TIPO_PERSONA_COTITULAR1</name>
        <value> </value>
        <mask/>
        <set_empty_string>N</set_empty_string>
      </field>
      <field>
        <name>TIPO_DOC_COTITULAR1</name>
        <value> </value>
        <mask/>
        <set_empty_string>N</set_empty_string>
      </field>
      <field>
        <name>DOCUMENTO_COTITULAR1</name>
        <value> </value>
        <mask/>
        <set_empty_string>N</set_empty_string>
      </field>
      <field>
        <name>CUIL_CDI_CUIT_COTITULAR1</name>
        <value> </value>
        <mask/>
        <set_empty_string>N</set_empty_string>
      </field>
      <field>
        <name>NOMBRE_COTITULAR1</name>
        <value> </value>
        <mask/>
        <set_empty_string>N</set_empty_string>
      </field>
      <field>
        <name>TIPO_PERSONA_COTITULAR2</name>
        <value> </value>
        <mask/>
        <set_empty_string>N</set_empty_string>
      </field>
      <field>
        <name>TIPO_DOC_COTITULAR2</name>
        <value> </value>
        <mask/>
        <set_empty_string>N</set_empty_string>
      </field>
      <field>
        <name>DOCUMENTO_COTITULAR2</name>
        <value> </value>
        <mask/>
        <set_empty_string>N</set_empty_string>
      </field>
      <field>
        <name>CUIL_CDI_CUIT_COTITULAR2</name>
        <value> </value>
        <mask/>
        <set_empty_string>N</set_empty_string>
      </field>
      <field>
        <name>NOMBRE_COTITULAR2</name>
        <value> </value>
        <mask/>
        <set_empty_string>N</set_empty_string>
      </field>
      <field>
        <name>ESTADO_CUENTA</name>
        <value> </value>
        <mask/>
        <set_empty_string>N</set_empty_string>
      </field>
    </fields>
    <attributes/>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>4720</xloc>
      <yloc>528</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>Trim cuentas</name>
    <type>StringOperations</type>
    <description/>
    <distribute>N</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <fields>
      <field>
        <in_stream_name>NUM_CUENTA_PBF</in_stream_name>
        <out_stream_name/>
        <trim_type>both</trim_type>
        <lower_upper>none</lower_upper>
        <padding_type>none</padding_type>
        <pad_char/>
        <pad_len/>
        <init_cap>no</init_cap>
        <mask_xml>none</mask_xml>
        <digits>none</digits>
        <remove_special_characters>none</remove_special_characters>
      </field>
      <field>
        <in_stream_name>NUM_CUENTA_BANCARIA</in_stream_name>
        <out_stream_name/>
        <trim_type>both</trim_type>
        <lower_upper>none</lower_upper>
        <padding_type>none</padding_type>
        <pad_char/>
        <pad_len/>
        <init_cap>no</init_cap>
        <mask_xml>none</mask_xml>
        <digits>none</digits>
        <remove_special_characters>none</remove_special_characters>
      </field>
      <field>
        <in_stream_name>NUM_CUENTA_TOPAZ</in_stream_name>
        <out_stream_name/>
        <trim_type>both</trim_type>
        <lower_upper>none</lower_upper>
        <padding_type>none</padding_type>
        <pad_char/>
        <pad_len/>
        <init_cap>no</init_cap>
        <mask_xml>none</mask_xml>
        <digits>none</digits>
        <remove_special_characters>none</remove_special_characters>
      </field>
      <field>
        <in_stream_name>NOMBRE_TITULAR</in_stream_name>
        <out_stream_name/>
        <trim_type>both</trim_type>
        <lower_upper>none</lower_upper>
        <padding_type>none</padding_type>
        <pad_char/>
        <pad_len/>
        <init_cap>no</init_cap>
        <mask_xml>none</mask_xml>
        <digits>none</digits>
        <remove_special_characters>none</remove_special_characters>
      </field>
      <field>
        <in_stream_name>NOMBRE_COTITULAR1</in_stream_name>
        <out_stream_name/>
        <trim_type>both</trim_type>
        <lower_upper>none</lower_upper>
        <padding_type>none</padding_type>
        <pad_char/>
        <pad_len/>
        <init_cap>no</init_cap>
        <mask_xml>none</mask_xml>
        <digits>none</digits>
        <remove_special_characters>none</remove_special_characters>
      </field>
      <field>
        <in_stream_name>NOMBRE_COTITULAR2</in_stream_name>
        <out_stream_name/>
        <trim_type>both</trim_type>
        <lower_upper>none</lower_upper>
        <padding_type>none</padding_type>
        <pad_char/>
        <pad_len/>
        <init_cap>no</init_cap>
        <mask_xml>none</mask_xml>
        <digits>none</digits>
        <remove_special_characters>none</remove_special_characters>
      </field>
    </fields>
    <attributes/>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>4272</xloc>
      <yloc>528</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>Truncar</name>
    <type>StringCut</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <fields>
      <field>
        <in_stream_name>NOMBRE_TITULAR</in_stream_name>
        <out_stream_name/>
        <cut_from>0</cut_from>
        <cut_to>40</cut_to>
      </field>
      <field>
        <in_stream_name>NOMBRE_COTITULAR1</in_stream_name>
        <out_stream_name/>
        <cut_from>0</cut_from>
        <cut_to>40</cut_to>
      </field>
      <field>
        <in_stream_name>NOMBRE_COTITULAR2</in_stream_name>
        <out_stream_name/>
        <cut_from>0</cut_from>
        <cut_to>40</cut_to>
      </field>
      <field>
        <in_stream_name>DOCUMENTO_TITULAR</in_stream_name>
        <out_stream_name/>
        <cut_from>0</cut_from>
        <cut_to>8</cut_to>
      </field>
      <field>
        <in_stream_name>CUIL_CDI_CUIT_COTITULAR1</in_stream_name>
        <out_stream_name/>
        <cut_from>0</cut_from>
        <cut_to>8</cut_to>
      </field>
      <field>
        <in_stream_name>DOCUMENTO_TITULAR</in_stream_name>
        <out_stream_name/>
        <cut_from>0</cut_from>
        <cut_to>8</cut_to>
      </field>
      <field>
        <in_stream_name>CUIL_CDI_CUIT_TITULAR</in_stream_name>
        <out_stream_name/>
        <cut_from>0</cut_from>
        <cut_to>11</cut_to>
      </field>
      <field>
        <in_stream_name>CUIL_CDI_CUIT_COTITULAR1</in_stream_name>
        <out_stream_name/>
        <cut_from>0</cut_from>
        <cut_to>11</cut_to>
      </field>
      <field>
        <in_stream_name>CUIL_CDI_CUIT_COTITULAR2</in_stream_name>
        <out_stream_name/>
        <cut_from>0</cut_from>
        <cut_to>11</cut_to>
      </field>
    </fields>
    <attributes/>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>4144</xloc>
      <yloc>528</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>Ultimo registro</name>
    <type>BlockingStep</type>
    <description/>
    <distribute>N</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <pass_all_rows>N</pass_all_rows>
    <directory>%%java.io.tmpdir%%</directory>
    <prefix>block</prefix>
    <cache_size>5000</cache_size>
    <compress>Y</compress>
    <attributes/>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>6304</xloc>
      <yloc>528</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>Une cotitulares de la cuenta</name>
    <type>MergeJoin</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <join_type>LEFT OUTER</join_type>
    <step1>Cant REG_IN</step1>
    <step2>Construye Cotitulares</step2>
    <keys_1>
      <key>CBU</key>
    </keys_1>
    <keys_2>
      <key>COT_CBU</key>
    </keys_2>
    <attributes/>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>1728</xloc>
      <yloc>528</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>Une filas nuevamente</name>
    <type>MergeJoin</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <join_type>INNER</join_type>
    <step1>Campos sin mappeo</step1>
    <step2>Aplica Charset Link</step2>
    <keys_1>
      <key>CBU</key>
    </keys_1>
    <keys_2>
      <key>CBU</key>
    </keys_2>
    <attributes/>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>4576</xloc>
      <yloc>528</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>Unica novedad por prioridad</name>
    <type>Unique</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <count_rows>N</count_rows>
    <count_field/>
    <reject_duplicate_row>Y</reject_duplicate_row>
    <error_description/>
    <fields>
      <field>
        <name>TIPO_CUENTA</name>
        <case_insensitive>N</case_insensitive>
      </field>
      <field>
        <name>NUM_CUENTA_PBF</name>
        <case_insensitive>N</case_insensitive>
      </field>
    </fields>
    <attributes/>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>5408</xloc>
      <yloc>528</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>Hay acción?</name>
    <type>FilterRows</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <send_true_to>Esperar fin de lectura bd</send_true_to>
    <send_false_to/>
    <compare>
      <condition>
        <negated>N</negated>
        <leftvalue>ACCION_DB</leftvalue>
        <function>IS NOT NULL</function>
        <rightvalue/>
      </condition>
    </compare>
    <attributes/>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>5744</xloc>
      <yloc>928</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step_error_handling>
    <error>
      <source_step>Configura valores de parametria</source_step>
      <target_step/>
      <is_enabled>Y</is_enabled>
      <nr_valuename/>
      <descriptions_valuename/>
      <fields_valuename/>
      <codes_valuename/>
      <max_errors/>
      <max_pct_errors/>
      <min_pct_rows/>
    </error>
    <error>
      <source_step>Unica novedad por prioridad</source_step>
      <target_step>Novedad descartada</target_step>
      <is_enabled>Y</is_enabled>
      <nr_valuename/>
      <descriptions_valuename/>
      <fields_valuename/>
      <codes_valuename/>
      <max_errors/>
      <max_pct_errors/>
      <min_pct_rows/>
    </error>
  </step_error_handling>
  <slave-step-copy-partition-distribution>
  </slave-step-copy-partition-distribution>
  <slave_transformation>N</slave_transformation>
  <attributes/>
</transformation>
