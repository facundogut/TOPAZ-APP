<?xml version="1.0" encoding="UTF-8"?>
<transformation>
  <info>
    <name>ITF_ADINTAR_SCORING</name>
    <description/>
    <extended_description/>
    <trans_version/>
    <trans_type>Normal</trans_type>
    <trans_status>0</trans_status>
    <directory>/</directory>
    <parameters>
    </parameters>
    <log>
      <trans-log-table>
        <connection/>
        <schema/>
        <table/>
        <size_limit_lines/>
        <interval/>
        <timeout_days/>
        <field>
          <id>ID_BATCH</id>
          <enabled>Y</enabled>
          <name>ID_BATCH</name>
        </field>
        <field>
          <id>CHANNEL_ID</id>
          <enabled>Y</enabled>
          <name>CHANNEL_ID</name>
        </field>
        <field>
          <id>TRANSNAME</id>
          <enabled>Y</enabled>
          <name>TRANSNAME</name>
        </field>
        <field>
          <id>STATUS</id>
          <enabled>Y</enabled>
          <name>STATUS</name>
        </field>
        <field>
          <id>LINES_READ</id>
          <enabled>Y</enabled>
          <name>LINES_READ</name>
          <subject/>
        </field>
        <field>
          <id>LINES_WRITTEN</id>
          <enabled>Y</enabled>
          <name>LINES_WRITTEN</name>
          <subject/>
        </field>
        <field>
          <id>LINES_UPDATED</id>
          <enabled>Y</enabled>
          <name>LINES_UPDATED</name>
          <subject/>
        </field>
        <field>
          <id>LINES_INPUT</id>
          <enabled>Y</enabled>
          <name>LINES_INPUT</name>
          <subject/>
        </field>
        <field>
          <id>LINES_OUTPUT</id>
          <enabled>Y</enabled>
          <name>LINES_OUTPUT</name>
          <subject/>
        </field>
        <field>
          <id>LINES_REJECTED</id>
          <enabled>Y</enabled>
          <name>LINES_REJECTED</name>
          <subject/>
        </field>
        <field>
          <id>ERRORS</id>
          <enabled>Y</enabled>
          <name>ERRORS</name>
        </field>
        <field>
          <id>STARTDATE</id>
          <enabled>Y</enabled>
          <name>STARTDATE</name>
        </field>
        <field>
          <id>ENDDATE</id>
          <enabled>Y</enabled>
          <name>ENDDATE</name>
        </field>
        <field>
          <id>LOGDATE</id>
          <enabled>Y</enabled>
          <name>LOGDATE</name>
        </field>
        <field>
          <id>DEPDATE</id>
          <enabled>Y</enabled>
          <name>DEPDATE</name>
        </field>
        <field>
          <id>REPLAYDATE</id>
          <enabled>Y</enabled>
          <name>REPLAYDATE</name>
        </field>
        <field>
          <id>LOG_FIELD</id>
          <enabled>Y</enabled>
          <name>LOG_FIELD</name>
        </field>
        <field>
          <id>EXECUTING_SERVER</id>
          <enabled>N</enabled>
          <name>EXECUTING_SERVER</name>
        </field>
        <field>
          <id>EXECUTING_USER</id>
          <enabled>N</enabled>
          <name>EXECUTING_USER</name>
        </field>
        <field>
          <id>CLIENT</id>
          <enabled>N</enabled>
          <name>CLIENT</name>
        </field>
      </trans-log-table>
      <perf-log-table>
        <connection/>
        <schema/>
        <table/>
        <interval/>
        <timeout_days/>
        <field>
          <id>ID_BATCH</id>
          <enabled>Y</enabled>
          <name>ID_BATCH</name>
        </field>
        <field>
          <id>SEQ_NR</id>
          <enabled>Y</enabled>
          <name>SEQ_NR</name>
        </field>
        <field>
          <id>LOGDATE</id>
          <enabled>Y</enabled>
          <name>LOGDATE</name>
        </field>
        <field>
          <id>TRANSNAME</id>
          <enabled>Y</enabled>
          <name>TRANSNAME</name>
        </field>
        <field>
          <id>STEPNAME</id>
          <enabled>Y</enabled>
          <name>STEPNAME</name>
        </field>
        <field>
          <id>STEP_COPY</id>
          <enabled>Y</enabled>
          <name>STEP_COPY</name>
        </field>
        <field>
          <id>LINES_READ</id>
          <enabled>Y</enabled>
          <name>LINES_READ</name>
        </field>
        <field>
          <id>LINES_WRITTEN</id>
          <enabled>Y</enabled>
          <name>LINES_WRITTEN</name>
        </field>
        <field>
          <id>LINES_UPDATED</id>
          <enabled>Y</enabled>
          <name>LINES_UPDATED</name>
        </field>
        <field>
          <id>LINES_INPUT</id>
          <enabled>Y</enabled>
          <name>LINES_INPUT</name>
        </field>
        <field>
          <id>LINES_OUTPUT</id>
          <enabled>Y</enabled>
          <name>LINES_OUTPUT</name>
        </field>
        <field>
          <id>LINES_REJECTED</id>
          <enabled>Y</enabled>
          <name>LINES_REJECTED</name>
        </field>
        <field>
          <id>ERRORS</id>
          <enabled>Y</enabled>
          <name>ERRORS</name>
        </field>
        <field>
          <id>INPUT_BUFFER_ROWS</id>
          <enabled>Y</enabled>
          <name>INPUT_BUFFER_ROWS</name>
        </field>
        <field>
          <id>OUTPUT_BUFFER_ROWS</id>
          <enabled>Y</enabled>
          <name>OUTPUT_BUFFER_ROWS</name>
        </field>
      </perf-log-table>
      <channel-log-table>
        <connection/>
        <schema/>
        <table/>
        <timeout_days/>
        <field>
          <id>ID_BATCH</id>
          <enabled>Y</enabled>
          <name>ID_BATCH</name>
        </field>
        <field>
          <id>CHANNEL_ID</id>
          <enabled>Y</enabled>
          <name>CHANNEL_ID</name>
        </field>
        <field>
          <id>LOG_DATE</id>
          <enabled>Y</enabled>
          <name>LOG_DATE</name>
        </field>
        <field>
          <id>LOGGING_OBJECT_TYPE</id>
          <enabled>Y</enabled>
          <name>LOGGING_OBJECT_TYPE</name>
        </field>
        <field>
          <id>OBJECT_NAME</id>
          <enabled>Y</enabled>
          <name>OBJECT_NAME</name>
        </field>
        <field>
          <id>OBJECT_COPY</id>
          <enabled>Y</enabled>
          <name>OBJECT_COPY</name>
        </field>
        <field>
          <id>REPOSITORY_DIRECTORY</id>
          <enabled>Y</enabled>
          <name>REPOSITORY_DIRECTORY</name>
        </field>
        <field>
          <id>FILENAME</id>
          <enabled>Y</enabled>
          <name>FILENAME</name>
        </field>
        <field>
          <id>OBJECT_ID</id>
          <enabled>Y</enabled>
          <name>OBJECT_ID</name>
        </field>
        <field>
          <id>OBJECT_REVISION</id>
          <enabled>Y</enabled>
          <name>OBJECT_REVISION</name>
        </field>
        <field>
          <id>PARENT_CHANNEL_ID</id>
          <enabled>Y</enabled>
          <name>PARENT_CHANNEL_ID</name>
        </field>
        <field>
          <id>ROOT_CHANNEL_ID</id>
          <enabled>Y</enabled>
          <name>ROOT_CHANNEL_ID</name>
        </field>
      </channel-log-table>
      <step-log-table>
        <connection/>
        <schema/>
        <table/>
        <timeout_days/>
        <field>
          <id>ID_BATCH</id>
          <enabled>Y</enabled>
          <name>ID_BATCH</name>
        </field>
        <field>
          <id>CHANNEL_ID</id>
          <enabled>Y</enabled>
          <name>CHANNEL_ID</name>
        </field>
        <field>
          <id>LOG_DATE</id>
          <enabled>Y</enabled>
          <name>LOG_DATE</name>
        </field>
        <field>
          <id>TRANSNAME</id>
          <enabled>Y</enabled>
          <name>TRANSNAME</name>
        </field>
        <field>
          <id>STEPNAME</id>
          <enabled>Y</enabled>
          <name>STEPNAME</name>
        </field>
        <field>
          <id>STEP_COPY</id>
          <enabled>Y</enabled>
          <name>STEP_COPY</name>
        </field>
        <field>
          <id>LINES_READ</id>
          <enabled>Y</enabled>
          <name>LINES_READ</name>
        </field>
        <field>
          <id>LINES_WRITTEN</id>
          <enabled>Y</enabled>
          <name>LINES_WRITTEN</name>
        </field>
        <field>
          <id>LINES_UPDATED</id>
          <enabled>Y</enabled>
          <name>LINES_UPDATED</name>
        </field>
        <field>
          <id>LINES_INPUT</id>
          <enabled>Y</enabled>
          <name>LINES_INPUT</name>
        </field>
        <field>
          <id>LINES_OUTPUT</id>
          <enabled>Y</enabled>
          <name>LINES_OUTPUT</name>
        </field>
        <field>
          <id>LINES_REJECTED</id>
          <enabled>Y</enabled>
          <name>LINES_REJECTED</name>
        </field>
        <field>
          <id>ERRORS</id>
          <enabled>Y</enabled>
          <name>ERRORS</name>
        </field>
        <field>
          <id>LOG_FIELD</id>
          <enabled>N</enabled>
          <name>LOG_FIELD</name>
        </field>
      </step-log-table>
      <metrics-log-table>
        <connection/>
        <schema/>
        <table/>
        <timeout_days/>
        <field>
          <id>ID_BATCH</id>
          <enabled>Y</enabled>
          <name>ID_BATCH</name>
        </field>
        <field>
          <id>CHANNEL_ID</id>
          <enabled>Y</enabled>
          <name>CHANNEL_ID</name>
        </field>
        <field>
          <id>LOG_DATE</id>
          <enabled>Y</enabled>
          <name>LOG_DATE</name>
        </field>
        <field>
          <id>METRICS_DATE</id>
          <enabled>Y</enabled>
          <name>METRICS_DATE</name>
        </field>
        <field>
          <id>METRICS_CODE</id>
          <enabled>Y</enabled>
          <name>METRICS_CODE</name>
        </field>
        <field>
          <id>METRICS_DESCRIPTION</id>
          <enabled>Y</enabled>
          <name>METRICS_DESCRIPTION</name>
        </field>
        <field>
          <id>METRICS_SUBJECT</id>
          <enabled>Y</enabled>
          <name>METRICS_SUBJECT</name>
        </field>
        <field>
          <id>METRICS_TYPE</id>
          <enabled>Y</enabled>
          <name>METRICS_TYPE</name>
        </field>
        <field>
          <id>METRICS_VALUE</id>
          <enabled>Y</enabled>
          <name>METRICS_VALUE</name>
        </field>
      </metrics-log-table>
    </log>
    <maxdate>
      <connection/>
      <table/>
      <field/>
      <offset>0.0</offset>
      <maxdiff>0.0</maxdiff>
    </maxdate>
    <size_rowset>10000</size_rowset>
    <sleep_time_empty>50</sleep_time_empty>
    <sleep_time_full>50</sleep_time_full>
    <unique_connections>N</unique_connections>
    <feedback_shown>Y</feedback_shown>
    <feedback_size>50000</feedback_size>
    <using_thread_priorities>Y</using_thread_priorities>
    <shared_objects_file/>
    <capture_step_performance>N</capture_step_performance>
    <step_performance_capturing_delay>1000</step_performance_capturing_delay>
    <step_performance_capturing_size_limit>100</step_performance_capturing_size_limit>
    <dependencies>
    </dependencies>
    <partitionschemas>
    </partitionschemas>
    <slaveservers>
    </slaveservers>
    <clusterschemas>
    </clusterschemas>
    <created_user>-</created_user>
    <created_date>2024/12/13 14:36:23.653</created_date>
    <modified_user>-</modified_user>
    <modified_date>2024/12/13 14:36:23.653</modified_date>
    <key_for_session_key>H4sIAAAAAAAAAAMAAAAAAAAAAAA=</key_for_session_key>
    <is_key_private>N</is_key_private>
  </info>
  <notepads>
  </notepads>
  <connection>
    <name>TopazDS</name>
    <server/>
    <type>MSSQL</type>
    <access>JNDI</access>
    <database>TopazDS</database>
    <port>1521</port>
    <username/>
    <password>Encrypted </password>
    <servername/>
    <data_tablespace/>
    <index_tablespace/>
    <attributes>
      <attribute>
        <code>FORCE_IDENTIFIERS_TO_LOWERCASE</code>
        <attribute>N</attribute>
      </attribute>
      <attribute>
        <code>FORCE_IDENTIFIERS_TO_UPPERCASE</code>
        <attribute>N</attribute>
      </attribute>
      <attribute>
        <code>IS_CLUSTERED</code>
        <attribute>N</attribute>
      </attribute>
      <attribute>
        <code>MSSQL_DOUBLE_DECIMAL_SEPARATOR</code>
        <attribute>N</attribute>
      </attribute>
      <attribute>
        <code>PORT_NUMBER</code>
        <attribute>1521</attribute>
      </attribute>
      <attribute>
        <code>PRESERVE_RESERVED_WORD_CASE</code>
        <attribute>Y</attribute>
      </attribute>
      <attribute>
        <code>QUOTE_ALL_FIELDS</code>
        <attribute>N</attribute>
      </attribute>
      <attribute>
        <code>SUPPORTS_BOOLEAN_DATA_TYPE</code>
        <attribute>Y</attribute>
      </attribute>
      <attribute>
        <code>SUPPORTS_TIMESTAMP_DATA_TYPE</code>
        <attribute>Y</attribute>
      </attribute>
      <attribute>
        <code>USE_POOLING</code>
        <attribute>N</attribute>
      </attribute>
    </attributes>
  </connection>
  <order>
    <hop>
      <from>Token URL</from>
      <to>Filtra Token URL</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Sueldos URL</from>
      <to>Filtra Sueldos URL</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Filtra Sueldos URL</from>
      <to>Une URL y TOKEN</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Une URL y TOKEN</from>
      <to>Url y Token Sueldos</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Url y Token Sueldos</from>
      <to>Get CUIL</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Get CUIL</from>
      <to>Construye URL y TOKEN para SUELDOS y valores duros</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Delete Scoring Aux</from>
      <to>Delete Scoring Det</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Delete Scoring Det</from>
      <to>Get Recibos Sueldos</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Construye URL y TOKEN para SUELDOS y valores duros</from>
      <to>Log previo a llamado a sueldos</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Log previo a llamado a sueldos</from>
      <to>Delete Scoring Aux</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Get Recibos Sueldos</from>
      <to>Log post llamado a Sueldos</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Log post llamado a Sueldos</from>
      <to>Analiza Respuesta Servicio</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Analiza Respuesta Servicio</from>
      <to>Filtro Campos de Trabajo</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Filtro Campos de Trabajo</from>
      <to>Parse Recibo</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Ordena por Periodo</from>
      <to>Secuencia por Periodo</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Secuencia por Periodo</from>
      <to>Filtra periodos anteriores</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Filtro Campos de Trabajo</from>
      <to>Parse Detalle Recibo</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Ordena por Convenio y Jur</from>
      <to>Procesa Recibos</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Procesa Recibos</from>
      <to>Mas alto por convenio y Jur</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Mas alto por convenio y Jur</from>
      <to>Ordena por Total de Haberes</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Ordena por Total de Haberes</from>
      <to>Pasa mayor Haberes</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Pasa mayor Haberes</from>
      <to>Escribe Scoring AUX</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Filtra periodos anteriores</from>
      <to>Recupero datos CORE</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Filtra Campos Detalle</from>
      <to>Cruza Recibos con Detalles</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Recupero datos CORE</from>
      <to>Valida que recupere datos de Core</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Valida que recupere datos de Core</from>
      <to>Cruza Recibos con Detalles</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Parse Detalle Recibo</from>
      <to>Busca Operando para conceptos</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Cruza Recibos con Detalles</from>
      <to>Ordena por Convenio y Jur</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Busca Operando para conceptos</from>
      <to>Importe Afectado</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Importe Afectado</from>
      <to>Filtra Campos Detalle</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Filtra Campos Detalle</from>
      <to>Cruza Recibos con Detalles 2</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Escribe Scoring AUX</from>
      <to>Quita Valores de Detalle</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Quita Valores de Detalle</from>
      <to>Cruza Recibos con Detalles 2</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>ITF_AD_SCORING_AUX_DET</from>
      <to>Recibos OK</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Parse Recibo</from>
      <to>Get Dife Meses TPZ</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Get Dife Meses TPZ</from>
      <to>Filtra Periodos Fuera de Rango</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Filtra Periodos Fuera de Rango</from>
      <to>Ordena por Periodo</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Parsea Token</from>
      <to>Une URL y TOKEN</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Filtra Token URL</from>
      <to>Log previo a obtener Token</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Log previo a obtener Token</from>
      <to>Pide Token</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Pide Token</from>
      <to>Log post obtener Token</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Log post obtener Token</from>
      <to>Parsea Token</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Cruza Recibos con Detalles 2</from>
      <to>Suma detalles Repetidos</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Suma detalles Repetidos</from>
      <to>ITF_AD_SCORING_AUX_DET</to>
      <enabled>Y</enabled>
    </hop>
  </order>
  <step>
    <name>Analiza Respuesta Servicio</name>
    <type>ScriptValueMod</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <compatible>N</compatible>
    <optimizationLevel>9</optimizationLevel>
    <jsScripts>
      <jsScript>
        <jsScript_type>0</jsScript_type>
        <jsScript_name>Script 1</jsScript_name>
        <jsScript_script>trans_Status = CONTINUE_TRANSFORMATION; //Estado default (Permite arrojar error por el javascript)

if (RESPONSE_STATUS != '200')
{
	abortar("HTTP Response distinto de 200.");
}

if (RECIBOS_SUELDOS == '[]')
{
	abortar("No se recibieron recibos de sueldo.");
}
</jsScript_script>
      </jsScript>
      <jsScript>
        <jsScript_type>1</jsScript_type>
        <jsScript_name>Item_0</jsScript_name>
        <jsScript_script>//Funciones
function abortar (MSG) //Funcion que setea variables de error y aborta
{
	writeToLog("e", "Error: " + MSG);
	setVariable("MENSAJE", MSG, "r");
	setVariable("COD_RETORNO", 1, "r");
	setVariable("Top.MSG", MSG, "r");
	trans_Status = ERROR_TRANSFORMATION;
}
</jsScript_script>
      </jsScript>
    </jsScripts>
    <fields>    </fields>
    <attributes/>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>1968</xloc>
      <yloc>672</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>Busca Operando para conceptos</name>
    <type>DBJoin</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <connection>TopazDS</connection>
    <rowlimit>0</rowlimit>
    <sql>select top 1 
cr.COD_ACUMULADOR, 
cr2.OPERANDO, 
cr.DESCRIPCION, 
cr.AFECTACION 
from CRE_RECIBOCONCEPTO cr 
inner join CRE_RECIBOACUMULADOR cr2 on cr2.CODIGO = cr.COD_ACUMULADOR and left(cr2.TZ_LOCK, 1) in (0,4) 
where left(cr.TZ_LOCK, 1) in (0,4) and cr.CODIGO = ? </sql>
    <outer_join>N</outer_join>
    <replace_vars>N</replace_vars>
    <parameter>
      <field>
        <name>CONCEPTO_DET</name>
        <type>Integer</type>
      </field>
    </parameter>
    <attributes/>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>3248</xloc>
      <yloc>608</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>Construye URL y TOKEN para SUELDOS y valores duros</name>
    <type>ScriptValueMod</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <compatible>N</compatible>
    <optimizationLevel>9</optimizationLevel>
    <jsScripts>
      <jsScript>
        <jsScript_type>0</jsScript_type>
        <jsScript_name>Script 1</jsScript_name>
        <jsScript_script>//Construye URL y TOKEN

URL_SUELDOS = URL_SUELDOS + "?" + "CUIL=" + CUIL + "&amp;CANTIDAD=10";

TOKEN_SUELDOS = 'Bearer ' + TOKEN_SUELDOS;

//Valores Duros
var NRO_SOLICITUD = 0;
</jsScript_script>
      </jsScript>
    </jsScripts>
    <fields>
      <field>
        <name>URL_SUELDOS</name>
        <rename>URL_SUELDOS</rename>
        <type>String</type>
        <length>-1</length>
        <precision>-1</precision>
        <replace>Y</replace>
      </field>
      <field>
        <name>TOKEN_SUELDOS</name>
        <rename>TOKEN_SUELDOS</rename>
        <type>String</type>
        <length>-1</length>
        <precision>-1</precision>
        <replace>Y</replace>
      </field>
      <field>
        <name>NRO_SOLICITUD</name>
        <rename>NRO_SOLICITUD</rename>
        <type>Integer</type>
        <length>-1</length>
        <precision>-1</precision>
        <replace>N</replace>
      </field>
    </fields>
    <attributes/>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>896</xloc>
      <yloc>672</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>Cruza Recibos con Detalles</name>
    <type>JoinRows</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <directory>%%java.io.tmpdir%%</directory>
    <prefix>out</prefix>
    <cache_size>500</cache_size>
    <main/>
    <compare>
      <condition>
        <negated>N</negated>
        <leftvalue>NRO_RECIBO</leftvalue>
        <function>=</function>
        <rightvalue>NRO_RECIBO_DET</rightvalue>
      </condition>
    </compare>
    <attributes/>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>3712</xloc>
      <yloc>736</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>Cruza Recibos con Detalles 2</name>
    <type>JoinRows</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <directory>%%java.io.tmpdir%%</directory>
    <prefix>out</prefix>
    <cache_size>500</cache_size>
    <main>Quita Valores de Detalle</main>
    <compare>
      <condition>
        <negated>N</negated>
        <leftvalue>NRO_RECIBO</leftvalue>
        <function>=</function>
        <rightvalue>NRO_RECIBO_DET</rightvalue>
      </condition>
    </compare>
    <attributes/>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>4912</xloc>
      <yloc>608</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>Delete Scoring Aux</name>
    <type>Delete</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <connection>TopazDS</connection>
    <commit>0</commit>
    <lookup>
      <schema>dbo</schema>
      <table>ITF_AD_SCORING_AUX</table>
      <key>
        <name>NRO_SOLICITUD</name>
        <field>SOLICITUD</field>
        <condition>=</condition>
        <name2/>
      </key>
      <key>
        <name>CUIL</name>
        <field>DOCUMENTO</field>
        <condition>=</condition>
        <name2/>
      </key>
    </lookup>
    <attributes/>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>1328</xloc>
      <yloc>672</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>Delete Scoring Det</name>
    <type>Delete</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <connection>TopazDS</connection>
    <commit>0</commit>
    <lookup>
      <schema>dbo</schema>
      <table>ITF_AD_SCORING_AUX_DET</table>
      <key>
        <name>NRO_SOLICITUD</name>
        <field>SOLICITUD</field>
        <condition>=</condition>
        <name2/>
      </key>
      <key>
        <name>CUIL</name>
        <field>DOCUMENTO</field>
        <condition>=</condition>
        <name2/>
      </key>
    </lookup>
    <attributes/>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>1472</xloc>
      <yloc>672</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>Escribe Scoring AUX</name>
    <type>TableOutput</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <connection>TopazDS</connection>
    <schema>dbo</schema>
    <table>ITF_AD_SCORING_AUX</table>
    <commit>0</commit>
    <truncate>N</truncate>
    <ignore_errors>N</ignore_errors>
    <use_batch>Y</use_batch>
    <specify_fields>Y</specify_fields>
    <partitioning_enabled>N</partitioning_enabled>
    <partitioning_field/>
    <partitioning_daily>N</partitioning_daily>
    <partitioning_monthly>Y</partitioning_monthly>
    <tablename_in_field>N</tablename_in_field>
    <tablename_field/>
    <tablename_in_table>Y</tablename_in_table>
    <return_keys>N</return_keys>
    <return_field/>
    <fields>
      <field>
        <column_name>NUMERO_RECIBO</column_name>
        <stream_name>NRO_RECIBO</stream_name>
      </field>
      <field>
        <column_name>DOCUMENTO</column_name>
        <stream_name>NRO_DOCUMENTO</stream_name>
      </field>
      <field>
        <column_name>PERIODO</column_name>
        <stream_name>PERIODO</stream_name>
      </field>
      <field>
        <column_name>CONVENIO</column_name>
        <stream_name>CONVENIO</stream_name>
      </field>
      <field>
        <column_name>JURIDICCION</column_name>
        <stream_name>JURISDICCION</stream_name>
      </field>
      <field>
        <column_name>FECHA_INGRESO</column_name>
        <stream_name>FECHA_INGRESO</stream_name>
      </field>
      <field>
        <column_name>DEDUCCIONES</column_name>
        <stream_name>DEDUCCIONES_ACUMULADAS</stream_name>
      </field>
      <field>
        <column_name>DESCUENTOS</column_name>
        <stream_name>DESCUENTOS_ACUMULADOS</stream_name>
      </field>
      <field>
        <column_name>HABERES</column_name>
        <stream_name>HABERES_ACUMULADOS</stream_name>
      </field>
      <field>
        <column_name>SITUACION_REVISTA</column_name>
        <stream_name>SITUACION_REVISTA</stream_name>
      </field>
      <field>
        <column_name>ID_BENEFICIO</column_name>
        <stream_name>ID_ENTIDAD</stream_name>
      </field>
      <field>
        <column_name>NETO</column_name>
        <stream_name>neto</stream_name>
      </field>
      <field>
        <column_name>LIQUIDO</column_name>
        <stream_name>liquido</stream_name>
      </field>
      <field>
        <column_name>COPIADO</column_name>
        <stream_name>COPIADO</stream_name>
      </field>
      <field>
        <column_name>DESCARTADO</column_name>
        <stream_name>COPIADO</stream_name>
      </field>
      <field>
        <column_name>NOMBRE_BENEFICIO</column_name>
        <stream_name>DESCRIPCION</stream_name>
      </field>
      <field>
        <column_name>TIPO_CONVENIO</column_name>
        <stream_name>TIPO_CONVENIO</stream_name>
      </field>
      <field>
        <column_name>SUBDOMINIO</column_name>
        <stream_name>SUBDOMINIO</stream_name>
      </field>
      <field>
        <column_name>ASIG_FAMILIAR</column_name>
        <stream_name>ASIG_FAMILIAR_ACUMULADAS</stream_name>
      </field>
      <field>
        <column_name>DESC_LEY</column_name>
        <stream_name>DESC_LEY_ACUMULADOS</stream_name>
      </field>
      <field>
        <column_name>ESCALAFON</column_name>
        <stream_name>ESCALAFON</stream_name>
      </field>
      <field>
        <column_name>REM_NO_COMP</column_name>
        <stream_name>REM_NO_COMP_ACUMULADOS</stream_name>
      </field>
    </fields>
    <attributes/>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>4736</xloc>
      <yloc>736</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>Filtra Campos Detalle</name>
    <type>SelectValues</type>
    <description/>
    <distribute>N</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <fields>
      <field>
        <name>NRO_RECIBO_DET</name>
      </field>
      <field>
        <name>CONCEPTO_DET</name>
      </field>
      <field>
        <name>IMPORTE_DET</name>
      </field>
      <field>
        <name>COD_ACUMULADOR</name>
      </field>
      <field>
        <name>OPERANDO</name>
      </field>
      <field>
        <name>DESCRIPCION</name>
        <rename>DESCRIPCION_DET</rename>
      </field>
      <field>
        <name>AFECTACION</name>
      </field>
      <field>
        <name>importe_afectado</name>
      </field>
      <select_unspecified>N</select_unspecified>
    </fields>
    <attributes/>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>3712</xloc>
      <yloc>608</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>Filtra Periodos Fuera de Rango</name>
    <type>FilterRows</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <send_true_to>Ordena por Periodo</send_true_to>
    <send_false_to/>
    <compare>
      <condition>
        <negated>N</negated>
        <conditions>
          <condition>
            <negated>N</negated>
            <leftvalue>DIFE_MESES_FECHATOPAZ</leftvalue>
            <function>&lt;=</function>
            <rightvalue/>
            <value>
              <name>constant</name>
              <type>Integer</type>
              <text>2</text>
              <length>-1</length>
              <precision>0</precision>
              <isnull>N</isnull>
              <mask>####0;-####0</mask>
            </value>
          </condition>
          <condition>
            <negated>N</negated>
            <operator>AND</operator>
            <leftvalue>DIFE_MESES_FECHATOPAZ</leftvalue>
            <function>&gt;=</function>
            <rightvalue/>
            <value>
              <name>constant</name>
              <type>Integer</type>
              <text>0</text>
              <length>-1</length>
              <precision>0</precision>
              <isnull>N</isnull>
              <mask>####0;-####0</mask>
            </value>
          </condition>
        </conditions>
      </condition>
    </compare>
    <attributes/>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>2576</xloc>
      <yloc>736</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>Filtra Sueldos URL</name>
    <type>FilterRows</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <send_true_to>Une URL y TOKEN</send_true_to>
    <send_false_to/>
    <compare>
      <condition>
        <negated>N</negated>
        <leftvalue>Key</leftvalue>
        <function>=</function>
        <rightvalue/>
        <value>
          <name>constant</name>
          <type>String</type>
          <text>interno.recibos.url</text>
          <length>-1</length>
          <precision>-1</precision>
          <isnull>N</isnull>
          <mask/>
        </value>
      </condition>
    </compare>
    <attributes/>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>240</xloc>
      <yloc>848</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>Filtra Token URL</name>
    <type>FilterRows</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <send_true_to>Log previo a obtener Token</send_true_to>
    <send_false_to/>
    <compare>
      <condition>
        <negated>N</negated>
        <leftvalue>KeyST</leftvalue>
        <function>=</function>
        <rightvalue/>
        <value>
          <name>constant</name>
          <type>String</type>
          <text>interno.sueldosToken.url</text>
          <length>-1</length>
          <precision>-1</precision>
          <isnull>N</isnull>
          <mask/>
        </value>
      </condition>
    </compare>
    <attributes/>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>240</xloc>
      <yloc>192</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>Filtra periodos anteriores</name>
    <type>FilterRows</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <send_true_to>Recupero datos CORE</send_true_to>
    <send_false_to/>
    <compare>
      <condition>
        <negated>N</negated>
        <leftvalue>PERIODO_RECIENTE</leftvalue>
        <function>=</function>
        <rightvalue/>
        <value>
          <name>constant</name>
          <type>Integer</type>
          <text>1</text>
          <length>-1</length>
          <precision>0</precision>
          <isnull>N</isnull>
          <mask>####0;-####0</mask>
        </value>
      </condition>
    </compare>
    <attributes/>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>3136</xloc>
      <yloc>736</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>Filtro Campos de Trabajo</name>
    <type>SelectValues</type>
    <description/>
    <distribute>N</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <fields>
      <field>
        <name>RECIBOS_SUELDOS</name>
      </field>
      <select_unspecified>N</select_unspecified>
    </fields>
    <attributes/>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>2176</xloc>
      <yloc>672</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>Get CUIL</name>
    <type>GetVariable</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <fields>
      <field>
        <name>CUIL</name>
        <variable>${CUIL}</variable>
        <type>String</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <length>-1</length>
        <precision>-1</precision>
        <trim_type>none</trim_type>
      </field>
    </fields>
    <attributes/>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>640</xloc>
      <yloc>672</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>Get Dife Meses TPZ</name>
    <type>DBJoin</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <connection>TopazDS</connection>
    <rowlimit>0</rowlimit>
    <sql>select 
datediff(month, try_convert(datetime, concat(?, '01')), datetrunc(month, FECHAPROCESO)) as 'DIFE_MESES_FECHATOPAZ' 
from PARAMETROS p </sql>
    <outer_join>N</outer_join>
    <replace_vars>N</replace_vars>
    <parameter>
      <field>
        <name>PERIODO</name>
        <type>String</type>
      </field>
    </parameter>
    <attributes/>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>2416</xloc>
      <yloc>736</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>Get Recibos Sueldos</name>
    <type>Rest</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <applicationType>JSON</applicationType>
    <method>GET</method>
    <url/>
    <urlInField>Y</urlInField>
    <dynamicMethod>N</dynamicMethod>
    <methodFieldName/>
    <urlField>URL_SUELDOS</urlField>
    <bodyField>json</bodyField>
    <httpLogin/>
    <httpPassword>Encrypted </httpPassword>
    <proxyHost/>
    <proxyPort/>
    <preemptive>N</preemptive>
    <trustStoreFile/>
    <trustStorePassword>Encrypted </trustStorePassword>
    <headers>
      <header>
        <field>TOKEN_SUELDOS</field>
        <name>Authorization</name>
      </header>
    </headers>
    <parameters>
      </parameters>
    <matrixParameters>
      </matrixParameters>
    <result>
      <name>RECIBOS_SUELDOS</name>
      <code>RESPONSE_STATUS</code>
      <response_time>RESPONSE_TIME</response_time>
      <response_header>RESPONSE_HEADER</response_header>
    </result>
    <attributes/>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>1616</xloc>
      <yloc>672</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>ITF_AD_SCORING_AUX_DET</name>
    <type>TableOutput</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <connection>TopazDS</connection>
    <schema>dbo</schema>
    <table>ITF_AD_SCORING_AUX_DET</table>
    <commit>0</commit>
    <truncate>N</truncate>
    <ignore_errors>N</ignore_errors>
    <use_batch>Y</use_batch>
    <specify_fields>Y</specify_fields>
    <partitioning_enabled>N</partitioning_enabled>
    <partitioning_field/>
    <partitioning_daily>N</partitioning_daily>
    <partitioning_monthly>Y</partitioning_monthly>
    <tablename_in_field>N</tablename_in_field>
    <tablename_field/>
    <tablename_in_table>Y</tablename_in_table>
    <return_keys>N</return_keys>
    <return_field/>
    <fields>
      <field>
        <column_name>NUMERO_RECIBO</column_name>
        <stream_name>NRO_RECIBO_DET</stream_name>
      </field>
      <field>
        <column_name>DOCUMENTO</column_name>
        <stream_name>NRO_DOCUMENTO</stream_name>
      </field>
      <field>
        <column_name>CONCEPTO</column_name>
        <stream_name>CONCEPTO_DET</stream_name>
      </field>
      <field>
        <column_name>IMPORTE</column_name>
        <stream_name>IMPORTE_DET</stream_name>
      </field>
      <field>
        <column_name>DESCRIPCION</column_name>
        <stream_name>DESCRIPCION_DET</stream_name>
      </field>
      <field>
        <column_name>PORCENTAJE_AFECTACION</column_name>
        <stream_name>AFECTACION</stream_name>
      </field>
      <field>
        <column_name>IMPORTE_AFECTADO</column_name>
        <stream_name>importe_afectado</stream_name>
      </field>
      <field>
        <column_name>ACUMULADOR</column_name>
        <stream_name>COD_ACUMULADOR</stream_name>
      </field>
    </fields>
    <attributes/>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>5376</xloc>
      <yloc>608</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>Importe Afectado</name>
    <type>ScriptValueMod</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <compatible>N</compatible>
    <optimizationLevel>9</optimizationLevel>
    <jsScripts>
      <jsScript>
        <jsScript_type>0</jsScript_type>
        <jsScript_name>Script 1</jsScript_name>
        <jsScript_script>var importe_afectado = (Number(IMPORTE_DET) * Number(AFECTACION)) / 100;
</jsScript_script>
      </jsScript>
    </jsScripts>
    <fields>
      <field>
        <name>importe_afectado</name>
        <rename>importe_afectado</rename>
        <type>BigNumber</type>
        <length>-1</length>
        <precision>-1</precision>
        <replace>N</replace>
      </field>
    </fields>
    <attributes/>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>3472</xloc>
      <yloc>608</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>Log post llamado a Sueldos</name>
    <type>WriteToLog</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <loglevel>log_level_basic</loglevel>
    <displayHeader>Y</displayHeader>
    <limitRows>N</limitRows>
    <limitRowsNumber>0</limitRowsNumber>
    <logmessage>***Delete ejecutado, graba respuesta Sueldos***</logmessage>
    <fields>
      <field>
        <name>RESPONSE_STATUS</name>
      </field>
      <field>
        <name>RESPONSE_TIME</name>
      </field>
      <field>
        <name>RECIBOS_SUELDOS</name>
      </field>
    </fields>
    <attributes/>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>1776</xloc>
      <yloc>672</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>Log post obtener Token</name>
    <type>WriteToLog</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <loglevel>log_level_basic</loglevel>
    <displayHeader>Y</displayHeader>
    <limitRows>N</limitRows>
    <limitRowsNumber>0</limitRowsNumber>
    <logmessage>***Se intento Obtener Token de Sueldos***</logmessage>
    <fields>
      <field>
        <name>result</name>
      </field>
    </fields>
    <attributes/>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>240</xloc>
      <yloc>480</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>Log previo a llamado a sueldos</name>
    <type>WriteToLog</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <loglevel>log_level_basic</loglevel>
    <displayHeader>Y</displayHeader>
    <limitRows>N</limitRows>
    <limitRowsNumber>0</limitRowsNumber>
    <logmessage>***Listo para tirar delete y llamar a Sueldos***</logmessage>
    <fields>
      <field>
        <name>CUIL</name>
      </field>
      <field>
        <name>URL_SUELDOS</name>
      </field>
    </fields>
    <attributes/>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>1152</xloc>
      <yloc>672</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>Log previo a obtener Token</name>
    <type>WriteToLog</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <loglevel>log_level_basic</loglevel>
    <displayHeader>Y</displayHeader>
    <limitRows>N</limitRows>
    <limitRowsNumber>0</limitRowsNumber>
    <logmessage>***Obteniendo Token de Sueldos***</logmessage>
    <fields>
      <field>
        <name>KeyST</name>
      </field>
      <field>
        <name>ValueST</name>
      </field>
    </fields>
    <attributes/>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>240</xloc>
      <yloc>288</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>Mas alto por convenio y Jur</name>
    <type>GroupBy</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <all_rows>N</all_rows>
    <ignore_aggregate>N</ignore_aggregate>
    <field_ignore/>
    <directory>%%java.io.tmpdir%%</directory>
    <prefix>grp</prefix>
    <add_linenr>N</add_linenr>
    <linenr_fieldname/>
    <give_back_row>N</give_back_row>
    <group>
      <field>
        <name>CONVENIO</name>
      </field>
      <field>
        <name>JURISDICCION</name>
      </field>
    </group>
    <fields>
      <field>
        <aggregate>RECIBOS_SUELDOS</aggregate>
        <subject>RECIBOS_SUELDOS</subject>
        <type>LAST_INCL_NULL</type>
        <valuefield/>
      </field>
      <field>
        <aggregate>NRO_RECIBO</aggregate>
        <subject>NRO_RECIBO</subject>
        <type>LAST_INCL_NULL</type>
        <valuefield/>
      </field>
      <field>
        <aggregate>NRO_DOCUMENTO</aggregate>
        <subject>NRO_DOCUMENTO</subject>
        <type>LAST_INCL_NULL</type>
        <valuefield/>
      </field>
      <field>
        <aggregate>PERIODO</aggregate>
        <subject>PERIODO</subject>
        <type>LAST_INCL_NULL</type>
        <valuefield/>
      </field>
      <field>
        <aggregate>FECHA_INGRESO</aggregate>
        <subject>FECHA_INGRESO</subject>
        <type>LAST_INCL_NULL</type>
        <valuefield/>
      </field>
      <field>
        <aggregate>DEDUCCIONES</aggregate>
        <subject>DEDUCCIONES</subject>
        <type>LAST_INCL_NULL</type>
        <valuefield/>
      </field>
      <field>
        <aggregate>DESCUENTOS</aggregate>
        <subject>DESCUENTOS</subject>
        <type>LAST_INCL_NULL</type>
        <valuefield/>
      </field>
      <field>
        <aggregate>HABERES</aggregate>
        <subject>HABERES</subject>
        <type>LAST_INCL_NULL</type>
        <valuefield/>
      </field>
      <field>
        <aggregate>SITUACION_REVISTA</aggregate>
        <subject>SITUACION_REVISTA</subject>
        <type>LAST_INCL_NULL</type>
        <valuefield/>
      </field>
      <field>
        <aggregate>ID_ENTIDAD</aggregate>
        <subject>ID_ENTIDAD</subject>
        <type>LAST_INCL_NULL</type>
        <valuefield/>
      </field>
      <field>
        <aggregate>ESCALAFON</aggregate>
        <subject>ESCALAFON</subject>
        <type>LAST_INCL_NULL</type>
        <valuefield/>
      </field>
      <field>
        <aggregate>SUBDOMINIO</aggregate>
        <subject>SUBDOMINIO</subject>
        <type>LAST_INCL_NULL</type>
        <valuefield/>
      </field>
      <field>
        <aggregate>ASIGNACION_FAMILIAR</aggregate>
        <subject>ASIGNACION_FAMILIAR</subject>
        <type>LAST_INCL_NULL</type>
        <valuefield/>
      </field>
      <field>
        <aggregate>TIPO_CONVENIO</aggregate>
        <subject>TIPO_CONVENIO</subject>
        <type>LAST_INCL_NULL</type>
        <valuefield/>
      </field>
      <field>
        <aggregate>DESCUENTO_LEY</aggregate>
        <subject>DESCUENTO_LEY</subject>
        <type>LAST_INCL_NULL</type>
        <valuefield/>
      </field>
      <field>
        <aggregate>NRO_RECIBO_DET</aggregate>
        <subject>NRO_RECIBO_DET</subject>
        <type>LAST_INCL_NULL</type>
        <valuefield/>
      </field>
      <field>
        <aggregate>CONCEPTO_DET</aggregate>
        <subject>CONCEPTO_DET</subject>
        <type>LAST_INCL_NULL</type>
        <valuefield/>
      </field>
      <field>
        <aggregate>IMPORTE_DET</aggregate>
        <subject>IMPORTE_DET</subject>
        <type>LAST_INCL_NULL</type>
        <valuefield/>
      </field>
      <field>
        <aggregate>PERIODO_RECIENTE</aggregate>
        <subject>PERIODO_RECIENTE</subject>
        <type>LAST_INCL_NULL</type>
        <valuefield/>
      </field>
      <field>
        <aggregate>COD_ACUMULADOR</aggregate>
        <subject>COD_ACUMULADOR</subject>
        <type>LAST_INCL_NULL</type>
        <valuefield/>
      </field>
      <field>
        <aggregate>OPERANDO</aggregate>
        <subject>OPERANDO</subject>
        <type>LAST_INCL_NULL</type>
        <valuefield/>
      </field>
      <field>
        <aggregate>DEDUCCIONES_ACUMULADAS</aggregate>
        <subject>DEDUCCIONES_ACUMULADAS</subject>
        <type>LAST_INCL_NULL</type>
        <valuefield/>
      </field>
      <field>
        <aggregate>DESCUENTOS_ACUMULADOS</aggregate>
        <subject>DESCUENTOS_ACUMULADOS</subject>
        <type>LAST_INCL_NULL</type>
        <valuefield/>
      </field>
      <field>
        <aggregate>HABERES_ACUMULADOS</aggregate>
        <subject>HABERES_ACUMULADOS</subject>
        <type>LAST_INCL_NULL</type>
        <valuefield/>
      </field>
      <field>
        <aggregate>ASIG_FAMILIAR_ACUMULADAS</aggregate>
        <subject>ASIG_FAMILIAR_ACUMULADAS</subject>
        <type>LAST_INCL_NULL</type>
        <valuefield/>
      </field>
      <field>
        <aggregate>DESC_LEY_ACUMULADOS</aggregate>
        <subject>DESC_LEY_ACUMULADOS</subject>
        <type>LAST_INCL_NULL</type>
        <valuefield/>
      </field>
      <field>
        <aggregate>REM_NO_COMP_ACUMULADOS</aggregate>
        <subject>REM_NO_COMP_ACUMULADOS</subject>
        <type>LAST_INCL_NULL</type>
        <valuefield/>
      </field>
      <field>
        <aggregate>neto</aggregate>
        <subject>neto</subject>
        <type>LAST_INCL_NULL</type>
        <valuefield/>
      </field>
      <field>
        <aggregate>liquido</aggregate>
        <subject>liquido</subject>
        <type>LAST_INCL_NULL</type>
        <valuefield/>
      </field>
      <field>
        <aggregate>DESCRIPCION</aggregate>
        <subject>DESCRIPCION</subject>
        <type>LAST_INCL_NULL</type>
        <valuefield/>
      </field>
      <field>
        <aggregate>COPIADO</aggregate>
        <subject>COPIADO</subject>
        <type>LAST_INCL_NULL</type>
        <valuefield/>
      </field>
    </fields>
    <attributes/>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>4208</xloc>
      <yloc>736</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>Ordena por Convenio y Jur</name>
    <type>SortRows</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <directory>%%java.io.tmpdir%%</directory>
    <prefix>out</prefix>
    <sort_size>1000000</sort_size>
    <free_memory/>
    <compress>N</compress>
    <compress_variable/>
    <unique_rows>N</unique_rows>
    <fields>
      <field>
        <name>CONVENIO</name>
        <ascending>Y</ascending>
        <case_sensitive>N</case_sensitive>
        <collator_enabled>N</collator_enabled>
        <collator_strength>0</collator_strength>
        <presorted>N</presorted>
      </field>
      <field>
        <name>JURISDICCION</name>
        <ascending>Y</ascending>
        <case_sensitive>N</case_sensitive>
        <collator_enabled>N</collator_enabled>
        <collator_strength>0</collator_strength>
        <presorted>N</presorted>
      </field>
    </fields>
    <attributes/>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>3888</xloc>
      <yloc>736</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>Ordena por Periodo</name>
    <type>SortRows</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <directory>%%java.io.tmpdir%%</directory>
    <prefix>out</prefix>
    <sort_size>1000000</sort_size>
    <free_memory/>
    <compress>N</compress>
    <compress_variable/>
    <unique_rows>N</unique_rows>
    <fields>
      <field>
        <name>PERIODO</name>
        <ascending>N</ascending>
        <case_sensitive>N</case_sensitive>
        <collator_enabled>N</collator_enabled>
        <collator_strength>0</collator_strength>
        <presorted>N</presorted>
      </field>
    </fields>
    <attributes/>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>2784</xloc>
      <yloc>736</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>Ordena por Total de Haberes</name>
    <type>SortRows</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <directory>%%java.io.tmpdir%%</directory>
    <prefix>out</prefix>
    <sort_size>1000000</sort_size>
    <free_memory/>
    <compress>N</compress>
    <compress_variable/>
    <unique_rows>N</unique_rows>
    <fields>
      <field>
        <name>HABERES_ACUMULADOS</name>
        <ascending>Y</ascending>
        <case_sensitive>N</case_sensitive>
        <collator_enabled>N</collator_enabled>
        <collator_strength>0</collator_strength>
        <presorted>N</presorted>
      </field>
    </fields>
    <attributes/>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>4400</xloc>
      <yloc>736</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>Parse Detalle Recibo</name>
    <type>JsonInput</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <include>N</include>
    <include_field/>
    <rownum>N</rownum>
    <addresultfile>N</addresultfile>
    <readurl>N</readurl>
    <removeSourceField>N</removeSourceField>
    <IsIgnoreEmptyFile>N</IsIgnoreEmptyFile>
    <doNotFailIfNoFile>N</doNotFailIfNoFile>
    <ignoreMissingPath>Y</ignoreMissingPath>
    <defaultPathLeafToNull>Y</defaultPathLeafToNull>
    <rownum_field/>
    <file>
      <name/>
      <filemask/>
      <exclude_filemask/>
      <file_required>N</file_required>
      <include_subfolders>N</include_subfolders>
    </file>
    <fields>
      <field>
        <name>NRO_RECIBO_DET</name>
        <path>$.*.Data.*.NRO_RECIBO</path>
        <type>BigNumber</type>
        <format>#</format>
        <currency/>
        <decimal/>
        <group/>
        <length>-1</length>
        <precision>-1</precision>
        <trim_type>none</trim_type>
        <repeat>N</repeat>
      </field>
      <field>
        <name>CONCEPTO_DET</name>
        <path>$.*.Data.*.CONCEPTO</path>
        <type>Integer</type>
        <format>#</format>
        <currency/>
        <decimal/>
        <group/>
        <length>-1</length>
        <precision>-1</precision>
        <trim_type>none</trim_type>
        <repeat>N</repeat>
      </field>
      <field>
        <name>IMPORTE_DET</name>
        <path>$.*.Data.*.IMPORTE</path>
        <type>BigNumber</type>
        <format>0.00</format>
        <currency/>
        <decimal>.</decimal>
        <group/>
        <length>-1</length>
        <precision>-1</precision>
        <trim_type>none</trim_type>
        <repeat>N</repeat>
      </field>
    </fields>
    <limit>0</limit>
    <IsInFields>Y</IsInFields>
    <IsAFile>N</IsAFile>
    <valueField>RECIBOS_SUELDOS</valueField>
    <shortFileFieldName/>
    <pathFieldName/>
    <hiddenFieldName/>
    <lastModificationTimeFieldName/>
    <uriNameFieldName/>
    <rootUriNameFieldName/>
    <extensionFieldName/>
    <sizeFieldName/>
    <attributes/>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>2352</xloc>
      <yloc>608</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>Parse Recibo</name>
    <type>JsonInput</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <include>N</include>
    <include_field/>
    <rownum>N</rownum>
    <addresultfile>N</addresultfile>
    <readurl>N</readurl>
    <removeSourceField>N</removeSourceField>
    <IsIgnoreEmptyFile>N</IsIgnoreEmptyFile>
    <doNotFailIfNoFile>N</doNotFailIfNoFile>
    <ignoreMissingPath>Y</ignoreMissingPath>
    <defaultPathLeafToNull>Y</defaultPathLeafToNull>
    <rownum_field/>
    <file>
      <name/>
      <filemask/>
      <exclude_filemask/>
      <file_required>N</file_required>
      <include_subfolders>N</include_subfolders>
    </file>
    <fields>
      <field>
        <name>NRO_RECIBO</name>
        <path>$.[*].NRO_RECIBO</path>
        <type>BigNumber</type>
        <format>#</format>
        <currency/>
        <decimal/>
        <group/>
        <length>-1</length>
        <precision>-1</precision>
        <trim_type>none</trim_type>
        <repeat>N</repeat>
      </field>
      <field>
        <name>NRO_DOCUMENTO</name>
        <path>$.[*].NRO_DOCUMENTO</path>
        <type>String</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <length>-1</length>
        <precision>-1</precision>
        <trim_type>none</trim_type>
        <repeat>N</repeat>
      </field>
      <field>
        <name>PERIODO</name>
        <path>$.[*].PERIODO</path>
        <type>String</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <length>-1</length>
        <precision>-1</precision>
        <trim_type>none</trim_type>
        <repeat>N</repeat>
      </field>
      <field>
        <name>CONVENIO</name>
        <path>$.[*].CONVENIO</path>
        <type>BigNumber</type>
        <format>#</format>
        <currency/>
        <decimal/>
        <group/>
        <length>-1</length>
        <precision>-1</precision>
        <trim_type>none</trim_type>
        <repeat>N</repeat>
      </field>
      <field>
        <name>JURISDICCION</name>
        <path>$.[*].JURISDICCION</path>
        <type>String</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <length>-1</length>
        <precision>-1</precision>
        <trim_type>none</trim_type>
        <repeat>N</repeat>
      </field>
      <field>
        <name>FECHA_INGRESO</name>
        <path>$.[*].FECHA_INGRESO</path>
        <type>Date</type>
        <format>yyyyMMdd</format>
        <currency/>
        <decimal/>
        <group/>
        <length>-1</length>
        <precision>-1</precision>
        <trim_type>none</trim_type>
        <repeat>N</repeat>
      </field>
      <field>
        <name>DEDUCCIONES</name>
        <path>$.[*].DEDUCCIONES</path>
        <type>BigNumber</type>
        <format>0.00</format>
        <currency/>
        <decimal>.</decimal>
        <group/>
        <length>-1</length>
        <precision>-1</precision>
        <trim_type>none</trim_type>
        <repeat>N</repeat>
      </field>
      <field>
        <name>DESCUENTOS</name>
        <path>$.[*].DESCUENTOS</path>
        <type>BigNumber</type>
        <format>0.00</format>
        <currency/>
        <decimal>.</decimal>
        <group/>
        <length>-1</length>
        <precision>-1</precision>
        <trim_type>none</trim_type>
        <repeat>N</repeat>
      </field>
      <field>
        <name>HABERES</name>
        <path>$.[*].HABERES</path>
        <type>BigNumber</type>
        <format>0.00</format>
        <currency/>
        <decimal>.</decimal>
        <group/>
        <length>-1</length>
        <precision>-1</precision>
        <trim_type>none</trim_type>
        <repeat>N</repeat>
      </field>
      <field>
        <name>SITUACION_REVISTA</name>
        <path>$.[*].SITUACION_REVISTA</path>
        <type>String</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <length>-1</length>
        <precision>-1</precision>
        <trim_type>none</trim_type>
        <repeat>N</repeat>
      </field>
      <field>
        <name>ID_ENTIDAD</name>
        <path>$.[*].ID_ENTIDAD</path>
        <type>String</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <length>-1</length>
        <precision>-1</precision>
        <trim_type>none</trim_type>
        <repeat>N</repeat>
      </field>
      <field>
        <name>ESCALAFON</name>
        <path>$.[*].ESCALAFON</path>
        <type>BigNumber</type>
        <format>#</format>
        <currency/>
        <decimal/>
        <group/>
        <length>-1</length>
        <precision>-1</precision>
        <trim_type>none</trim_type>
        <repeat>N</repeat>
      </field>
      <field>
        <name>SUBDOMINIO</name>
        <path>$.[*].SUBDOMINIO</path>
        <type>Integer</type>
        <format>#</format>
        <currency/>
        <decimal/>
        <group/>
        <length>-1</length>
        <precision>-1</precision>
        <trim_type>none</trim_type>
        <repeat>N</repeat>
      </field>
      <field>
        <name>ASIGNACION_FAMILIAR</name>
        <path>$.[*].ASIGNACION_FAMILIAR</path>
        <type>BigNumber</type>
        <format>0.00</format>
        <currency/>
        <decimal>.</decimal>
        <group/>
        <length>-1</length>
        <precision>-1</precision>
        <trim_type>none</trim_type>
        <repeat>N</repeat>
      </field>
      <field>
        <name>TIPO_CONVENIO</name>
        <path>$.[*].TIPO_CONVENIO</path>
        <type>Integer</type>
        <format>#</format>
        <currency/>
        <decimal/>
        <group/>
        <length>-1</length>
        <precision>-1</precision>
        <trim_type>none</trim_type>
        <repeat>N</repeat>
      </field>
      <field>
        <name>DESCUENTO_LEY</name>
        <path>$.[*].DESCUENTO_LEY</path>
        <type>BigNumber</type>
        <format>0.00</format>
        <currency/>
        <decimal>.</decimal>
        <group/>
        <length>-1</length>
        <precision>-1</precision>
        <trim_type>none</trim_type>
        <repeat>N</repeat>
      </field>
    </fields>
    <limit>0</limit>
    <IsInFields>Y</IsInFields>
    <IsAFile>N</IsAFile>
    <valueField>RECIBOS_SUELDOS</valueField>
    <shortFileFieldName/>
    <pathFieldName/>
    <hiddenFieldName/>
    <lastModificationTimeFieldName/>
    <uriNameFieldName/>
    <rootUriNameFieldName/>
    <extensionFieldName/>
    <sizeFieldName/>
    <attributes/>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>2288</xloc>
      <yloc>736</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>Parsea Token</name>
    <type>JsonInput</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <include>N</include>
    <include_field/>
    <rownum>N</rownum>
    <addresultfile>N</addresultfile>
    <readurl>N</readurl>
    <removeSourceField>N</removeSourceField>
    <IsIgnoreEmptyFile>N</IsIgnoreEmptyFile>
    <doNotFailIfNoFile>Y</doNotFailIfNoFile>
    <ignoreMissingPath>Y</ignoreMissingPath>
    <defaultPathLeafToNull>Y</defaultPathLeafToNull>
    <rownum_field/>
    <file>
      <name/>
      <filemask/>
      <exclude_filemask/>
      <file_required>N</file_required>
      <include_subfolders>N</include_subfolders>
    </file>
    <fields>
      <field>
        <name>TOKEN</name>
        <path>$.token</path>
        <type>String</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <length>500</length>
        <precision>-1</precision>
        <trim_type>none</trim_type>
        <repeat>N</repeat>
      </field>
    </fields>
    <limit>0</limit>
    <IsInFields>Y</IsInFields>
    <IsAFile>N</IsAFile>
    <valueField>result</valueField>
    <shortFileFieldName/>
    <pathFieldName/>
    <hiddenFieldName/>
    <lastModificationTimeFieldName/>
    <uriNameFieldName/>
    <rootUriNameFieldName/>
    <extensionFieldName/>
    <sizeFieldName/>
    <attributes/>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>240</xloc>
      <yloc>560</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>Pasa mayor Haberes</name>
    <type>BlockingStep</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <pass_all_rows>N</pass_all_rows>
    <directory>%%java.io.tmpdir%%</directory>
    <prefix>block</prefix>
    <cache_size>5000</cache_size>
    <compress>Y</compress>
    <attributes/>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>4576</xloc>
      <yloc>736</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>Pide Token</name>
    <type>Rest</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <applicationType>TEXT PLAIN</applicationType>
    <method>GET</method>
    <url/>
    <urlInField>Y</urlInField>
    <dynamicMethod>N</dynamicMethod>
    <methodFieldName/>
    <urlField>ValueST</urlField>
    <bodyField/>
    <httpLogin>${usuario}</httpLogin>
    <httpPassword>${password}</httpPassword>
    <proxyHost/>
    <proxyPort/>
    <preemptive>N</preemptive>
    <trustStoreFile/>
    <trustStorePassword>Encrypted </trustStorePassword>
    <headers>
      </headers>
    <parameters>
      </parameters>
    <matrixParameters>
      </matrixParameters>
    <result>
      <name>result</name>
      <code/>
      <response_time/>
      <response_header/>
    </result>
    <attributes/>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>240</xloc>
      <yloc>384</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>Procesa Recibos</name>
    <type>ScriptValueMod</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <compatible>N</compatible>
    <optimizationLevel>9</optimizationLevel>
    <jsScripts>
      <jsScript>
        <jsScript_type>0</jsScript_type>
        <jsScript_name>Script 1</jsScript_name>
        <jsScript_script>if (Number(CONVENIO) != MEMORIA_CONVENIO || String(JURISDICCION) != MEMORIA_JURISDICCION)
{
	DEDUCCIONES_ACUMULADAS = 0.00;
	DESCUENTOS_ACUMULADOS = 0.00;
	HABERES_ACUMULADOS = 0.00;
	ASIG_FAMILIAR_ACUMULADAS = 0.00;
	REM_NO_COMP_ACUMULADOS = 0.00;
	DESC_LEY_ACUMULADOS = 0.00;
	MEMORIA_CONVENIO = Number(CONVENIO);
	MEMORIA_JURISDICCION = String(JURISDICCION);
}

if (COD_ACUMULADOR == 1)
{
	if (OPERANDO == 'S')
	{
		HABERES_ACUMULADOS += Number(IMPORTE_DET);
	}
	if (OPERANDO == 'R')
	{
		HABERES_ACUMULADOS -= Number(IMPORTE_DET);
	}
}

if (COD_ACUMULADOR == 2)
{
	if (OPERANDO == 'S')
	{
		ASIG_FAMILIAR_ACUMULADAS -= Number(IMPORTE_DET);
	}
	if (OPERANDO == 'R')
	{
		ASIG_FAMILIAR_ACUMULADAS += Number(IMPORTE_DET);
	}
}

if (COD_ACUMULADOR == 3)
{
	if (OPERANDO == 'S')
	{
		REM_NO_COMP_ACUMULADOS -= Number(IMPORTE_DET);
	}
	if (OPERANDO == 'R')
	{
		REM_NO_COMP_ACUMULADOS += Number(IMPORTE_DET);
	}
}

if (COD_ACUMULADOR == 4)
{
	if (OPERANDO == 'S')
	{
		DESC_LEY_ACUMULADOS -= Number(IMPORTE_DET);
	}
	if (OPERANDO == 'R')
	{
		DESC_LEY_ACUMULADOS += Number(IMPORTE_DET);
	}
}

if (COD_ACUMULADOR == 7)
{
	if (OPERANDO == 'S')
	{
		DEDUCCIONES_ACUMULADAS -= Number(IMPORTE_DET);
	}
	if (OPERANDO == 'R')
	{
		DEDUCCIONES_ACUMULADAS += Number(IMPORTE_DET);
	}
}

if (COD_ACUMULADOR == 6 || COD_ACUMULADOR == 8)
{
	if (OPERANDO == 'S')
	{
		DESCUENTOS_ACUMULADOS -= Number(IMPORTE_DET);
	}
	if (OPERANDO == 'R')
	{
		DESCUENTOS_ACUMULADOS += Number(IMPORTE_DET);
	}
}

var neto = HABERES_ACUMULADOS - DESCUENTOS_ACUMULADOS;
var liquido = HABERES_ACUMULADOS - DESCUENTOS_ACUMULADOS - DEDUCCIONES_ACUMULADAS;
</jsScript_script>
      </jsScript>
      <jsScript>
        <jsScript_type>1</jsScript_type>
        <jsScript_name>Item_0</jsScript_name>
        <jsScript_script>var DEDUCCIONES_ACUMULADAS = null;
var DESCUENTOS_ACUMULADOS = null;
var HABERES_ACUMULADOS = null;
var ASIG_FAMILIAR_ACUMULADAS = null;
var REM_NO_COMP_ACUMULADOS = null;
var DESC_LEY_ACUMULADOS = null;
var MEMORIA_CONVENIO = null;
var MEMORIA_JURISDICCION = null;
</jsScript_script>
      </jsScript>
    </jsScripts>
    <fields>
      <field>
        <name>DEDUCCIONES_ACUMULADAS</name>
        <rename>DEDUCCIONES_ACUMULADAS</rename>
        <type>BigNumber</type>
        <length>-1</length>
        <precision>-1</precision>
        <replace>N</replace>
      </field>
      <field>
        <name>DESCUENTOS_ACUMULADOS</name>
        <rename>DESCUENTOS_ACUMULADOS</rename>
        <type>BigNumber</type>
        <length>-1</length>
        <precision>-1</precision>
        <replace>N</replace>
      </field>
      <field>
        <name>HABERES_ACUMULADOS</name>
        <rename>HABERES_ACUMULADOS</rename>
        <type>BigNumber</type>
        <length>-1</length>
        <precision>-1</precision>
        <replace>N</replace>
      </field>
      <field>
        <name>ASIG_FAMILIAR_ACUMULADAS</name>
        <rename>ASIG_FAMILIAR_ACUMULADAS</rename>
        <type>BigNumber</type>
        <length>-1</length>
        <precision>-1</precision>
        <replace>N</replace>
      </field>
      <field>
        <name>REM_NO_COMP_ACUMULADOS</name>
        <rename>REM_NO_COMP_ACUMULADOS</rename>
        <type>BigNumber</type>
        <length>-1</length>
        <precision>-1</precision>
        <replace>N</replace>
      </field>
      <field>
        <name>DESC_LEY_ACUMULADOS</name>
        <rename>DESC_LEY_ACUMULADOS</rename>
        <type>BigNumber</type>
        <length>-1</length>
        <precision>-1</precision>
        <replace>N</replace>
      </field>
      <field>
        <name>neto</name>
        <rename>neto</rename>
        <type>BigNumber</type>
        <length>-1</length>
        <precision>-1</precision>
        <replace>N</replace>
      </field>
      <field>
        <name>liquido</name>
        <rename>liquido</rename>
        <type>BigNumber</type>
        <length>-1</length>
        <precision>-1</precision>
        <replace>N</replace>
      </field>
    </fields>
    <attributes/>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>4048</xloc>
      <yloc>736</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>Quita Valores de Detalle</name>
    <type>SelectValues</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <fields>
      <select_unspecified>N</select_unspecified>
      <remove>
        <name>NRO_RECIBO_DET</name>
      </remove>
      <remove>
        <name>CONCEPTO_DET</name>
      </remove>
      <remove>
        <name>IMPORTE_DET</name>
      </remove>
      <remove>
        <name>COD_ACUMULADOR</name>
      </remove>
      <remove>
        <name>OPERANDO</name>
      </remove>
      <remove>
        <name>DESCRIPCION</name>
      </remove>
    </fields>
    <attributes/>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>4912</xloc>
      <yloc>736</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>Recibos OK</name>
    <type>ScriptValueMod</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <compatible>N</compatible>
    <optimizationLevel>9</optimizationLevel>
    <jsScripts>
      <jsScript>
        <jsScript_type>0</jsScript_type>
        <jsScript_name>Script 1</jsScript_name>
        <jsScript_script>setVariable("MENSAJE", "Recibos Descargados Correctamente!", "r");
setVariable("COD_RETORNO", 0, "r");
</jsScript_script>
      </jsScript>
    </jsScripts>
    <fields>    </fields>
    <attributes/>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>5552</xloc>
      <yloc>608</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>Recupero datos CORE</name>
    <type>DBJoin</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <connection>TopazDS</connection>
    <rowlimit>0</rowlimit>
    <sql>SELECT TOP 1 'N' as COPIADO, DESCRIPCION FROM CONV_DOMINIOS WHERE ID_CONVENIO = ? AND ID_DOMINIO= ? AND (SUB_DOMINIO=? OR SUB_DOMINIO=0)</sql>
    <outer_join>Y</outer_join>
    <replace_vars>N</replace_vars>
    <parameter>
      <field>
        <name>CONVENIO</name>
        <type>Number</type>
      </field>
      <field>
        <name>JURISDICCION</name>
        <type>String</type>
      </field>
      <field>
        <name>SUBDOMINIO</name>
        <type>Number</type>
      </field>
    </parameter>
    <attributes/>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>3312</xloc>
      <yloc>736</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>Secuencia por Periodo</name>
    <type>ScriptValueMod</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <compatible>N</compatible>
    <optimizationLevel>9</optimizationLevel>
    <jsScripts>
      <jsScript>
        <jsScript_type>0</jsScript_type>
        <jsScript_name>Script 1</jsScript_name>
        <jsScript_script>if (String(PERIODO_M) != String(PERIODO))
{
	CONTADOR_M ++;
	PERIODO_M = PERIODO;
}
</jsScript_script>
      </jsScript>
      <jsScript>
        <jsScript_type>1</jsScript_type>
        <jsScript_name>Item_0</jsScript_name>
        <jsScript_script>var PERIODO_M = null;
var CONTADOR_M = 0;
</jsScript_script>
      </jsScript>
    </jsScripts>
    <fields>
      <field>
        <name>CONTADOR_M</name>
        <rename>PERIODO_RECIENTE</rename>
        <type>Integer</type>
        <length>-1</length>
        <precision>-1</precision>
        <replace>N</replace>
      </field>
    </fields>
    <attributes/>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>2960</xloc>
      <yloc>736</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>Sueldos URL</name>
    <type>PropertyInput</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <file_type>property</file_type>
    <encoding>UTF-8</encoding>
    <include>N</include>
    <include_field/>
    <filename_Field/>
    <rownum>N</rownum>
    <isaddresult>N</isaddresult>
    <filefield>N</filefield>
    <rownum_field/>
    <resetrownumber>N</resetrownumber>
    <resolvevaluevariable>N</resolvevaluevariable>
    <ini_section>N</ini_section>
    <ini_section_field/>
    <section/>
    <file>
      <name>${Top.Param}WS_URLs.properties</name>
      <exclude_filemask/>
      <filemask/>
      <file_required>Y</file_required>
      <include_subfolders>N</include_subfolders>
    </file>
    <fields>
      <field>
        <name>Key</name>
        <column>key</column>
        <type>String</type>
        <format/>
        <length>-1</length>
        <precision>-1</precision>
        <currency/>
        <decimal/>
        <group/>
        <trim_type>none</trim_type>
        <repeat>N</repeat>
      </field>
      <field>
        <name>Value</name>
        <column>value</column>
        <type>String</type>
        <format/>
        <length>-1</length>
        <precision>-1</precision>
        <currency/>
        <decimal/>
        <group/>
        <trim_type>none</trim_type>
        <repeat>N</repeat>
      </field>
    </fields>
    <limit>0</limit>
    <shortFileFieldName/>
    <pathFieldName/>
    <hiddenFieldName/>
    <lastModificationTimeFieldName/>
    <uriNameFieldName/>
    <rootUriNameFieldName/>
    <extensionFieldName/>
    <sizeFieldName/>
    <attributes/>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>240</xloc>
      <yloc>976</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>Suma detalles Repetidos</name>
    <type>MemoryGroupBy</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <give_back_row>N</give_back_row>
    <group>
      <field>
        <name>NRO_RECIBO_DET</name>
      </field>
      <field>
        <name>NRO_DOCUMENTO</name>
      </field>
      <field>
        <name>CONCEPTO_DET</name>
      </field>
      <field>
        <name>IMPORTE_DET</name>
      </field>
    </group>
    <fields>
      <field>
        <aggregate>IMPORTE_DET_SUM</aggregate>
        <subject>IMPORTE_DET</subject>
        <type>SUM</type>
        <valuefield/>
      </field>
      <field>
        <aggregate>DESCRIPCION_DET</aggregate>
        <subject>DESCRIPCION_DET</subject>
        <type>FIRST_INCL_NULL</type>
        <valuefield/>
      </field>
      <field>
        <aggregate>AFECTACION</aggregate>
        <subject>AFECTACION</subject>
        <type>FIRST_INCL_NULL</type>
        <valuefield/>
      </field>
      <field>
        <aggregate>importe_afectado</aggregate>
        <subject>importe_afectado</subject>
        <type>SUM</type>
        <valuefield/>
      </field>
      <field>
        <aggregate>COD_ACUMULADOR</aggregate>
        <subject>COD_ACUMULADOR</subject>
        <type>FIRST_INCL_NULL</type>
        <valuefield/>
      </field>
    </fields>
    <attributes/>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>5120</xloc>
      <yloc>608</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>Token URL</name>
    <type>PropertyInput</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <file_type>property</file_type>
    <encoding>UTF-8</encoding>
    <include>N</include>
    <include_field/>
    <filename_Field/>
    <rownum>N</rownum>
    <isaddresult>N</isaddresult>
    <filefield>N</filefield>
    <rownum_field/>
    <resetrownumber>N</resetrownumber>
    <resolvevaluevariable>N</resolvevaluevariable>
    <ini_section>N</ini_section>
    <ini_section_field/>
    <section/>
    <file>
      <name>${Top.Param}WS_URLs.properties</name>
      <exclude_filemask/>
      <filemask/>
      <file_required>Y</file_required>
      <include_subfolders>N</include_subfolders>
    </file>
    <fields>
      <field>
        <name>KeyST</name>
        <column>key</column>
        <type>String</type>
        <format/>
        <length>-1</length>
        <precision>-1</precision>
        <currency/>
        <decimal/>
        <group/>
        <trim_type>none</trim_type>
        <repeat>N</repeat>
      </field>
      <field>
        <name>ValueST</name>
        <column>value</column>
        <type>String</type>
        <format/>
        <length>-1</length>
        <precision>-1</precision>
        <currency/>
        <decimal/>
        <group/>
        <trim_type>none</trim_type>
        <repeat>N</repeat>
      </field>
    </fields>
    <limit>0</limit>
    <shortFileFieldName/>
    <pathFieldName/>
    <hiddenFieldName/>
    <lastModificationTimeFieldName/>
    <uriNameFieldName/>
    <rootUriNameFieldName/>
    <extensionFieldName/>
    <sizeFieldName/>
    <attributes/>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>240</xloc>
      <yloc>80</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>Une URL y TOKEN</name>
    <type>JoinRows</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <directory>%%java.io.tmpdir%%</directory>
    <prefix>out</prefix>
    <cache_size>500</cache_size>
    <main/>
    <compare>
      <condition>
        <negated>N</negated>
        <leftvalue/>
        <function>=</function>
        <rightvalue/>
      </condition>
    </compare>
    <attributes/>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>240</xloc>
      <yloc>672</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>Url y Token Sueldos</name>
    <type>SelectValues</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <fields>
      <field>
        <name>Value</name>
        <rename>URL_SUELDOS</rename>
      </field>
      <field>
        <name>TOKEN</name>
        <rename>TOKEN_SUELDOS</rename>
      </field>
      <select_unspecified>N</select_unspecified>
    </fields>
    <attributes/>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>464</xloc>
      <yloc>672</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step>
    <name>Valida que recupere datos de Core</name>
    <type>ScriptValueMod</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <compatible>N</compatible>
    <optimizationLevel>9</optimizationLevel>
    <jsScripts>
      <jsScript>
        <jsScript_type>0</jsScript_type>
        <jsScript_name>Script 1</jsScript_name>
        <jsScript_script>trans_Status = CONTINUE_TRANSFORMATION; //Estado default (Permite arrojar error por el javascript)

if (COPIADO == null)
{
	writeToLog("e", "Error: No se encontro informacion en Core para el Convenio");
	setVariable("MENSAJE", "Error: No se encontro informacion en Core para el Convenio", "r");
	setVariable("COD_RETORNO", 1, "r");
	trans_Status = ERROR_TRANSFORMATION;
}
</jsScript_script>
      </jsScript>
    </jsScripts>
    <fields>    </fields>
    <attributes/>
    <cluster_schema/>
    <remotesteps>
      <input>
      </input>
      <output>
      </output>
    </remotesteps>
    <GUI>
      <xloc>3504</xloc>
      <yloc>736</yloc>
      <draw>Y</draw>
    </GUI>
  </step>
  <step_error_handling>
  </step_error_handling>
  <slave-step-copy-partition-distribution>
  </slave-step-copy-partition-distribution>
  <slave_transformation>N</slave_transformation>
  <attributes/>
</transformation>
