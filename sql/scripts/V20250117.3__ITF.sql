
EXEC('   
	DROP TABLE dbo.OrdenDebitoLote_bitacora;
');

EXEC('   
	CREATE TABLE dbo.OrdenDebitoLote_bitacora (
		id_bitacora bigint IDENTITY(1,1) NOT NULL,
		fecha_proceso datetime NOT NULL,
		fecha_reloj datetime NOT NULL,
		id bigint NOT NULL,
		idRegistro bigint NULL,
		codigoServicio bigint NULL,
		nombreServicio varchar(10) COLLATE Modern_Spanish_CI_AS NULL,
		tipoDocumento varchar(4) COLLATE Modern_Spanish_CI_AS NULL,
		numeroDocumento bigint NULL,
		cuit bigint NULL,
		apellidoNombre varchar(30) COLLATE Modern_Spanish_CI_AS NULL,
		cbu varchar(22) COLLATE Modern_Spanish_CI_AS NULL,
		codigoCliente numeric(15,0) NULL,
		clientePagador varchar(22) COLLATE Modern_Spanish_CI_AS NULL,
		prestacion varchar(22) COLLATE Modern_Spanish_CI_AS NULL,
		convenio numeric(15,0) NULL,
		referenciaDebito varchar(15) COLLATE Modern_Spanish_CI_AS NULL,
		fechaPrimerVencimiento datetime2 NULL,
		importePrimerVencimiento decimal(15,2) NULL,
		fechaSegundoVencimiento datetime2 NULL,
		importeSegundoVencimiento decimal(15,2) NULL,
		ESTADO varchar(2) COLLATE Modern_Spanish_CI_AS NULL,
		TIPO_ORDEN varchar(6) COLLATE Modern_Spanish_CI_AS NULL,
		MONEDA numeric(4,0) NULL,
		idLote varchar(50) COLLATE Modern_Spanish_CI_AS NOT NULL,
		codigoError bigint NULL,
		descripcionError varchar(255) COLLATE Modern_Spanish_CI_AS NULL,
		fechaDeCarga datetime2 NULL,
		CONSTRAINT PK__OrdenDeb__7E4268B0FBC1AD31 PRIMARY KEY (id_bitacora)
	);
');

Execute('UPDATE dbo.OPERACIONES
SET COMPORTAMIENTOENCIERRE = ''I''
WHERE TITULO = 6800 AND IDENTIFICACION = 8915')

EXEC('
	delete from itf_master where id = 21;
	INSERT INTO ITF_MASTER (TZ_LOCK,ID,DESCRIPCION,OBJ_KETTLE,P0_MODO,P0_TIPO,P0_CAPTION,P0_CONSTANTE,P1_MODO,P1_TIPO,P1_CAPTION,P1_CONSTANTE,P2_MODO,P2_TIPO,P2_CAPTION,P2_CONSTANTE,P3_MODO,P3_TIPO,P3_CAPTION,P3_CONSTANTE,P4_MODO,P4_TIPO,P4_CAPTION,P4_CONSTANTE,P5_MODO,P5_TIPO,P5_CAPTION,P5_CONSTANTE,P6_MODO,P6_TIPO,P6_CAPTION,P6_CONSTANTE,P7_MODO,P7_TIPO,P7_CAPTION,P7_CONSTANTE,P8_MODO,P8_TIPO,P8_CONSTANTE,P8_CAPTION,P9_MODO,P9_TIPO,P9_CAPTION,P9_CONSTANTE,TIPO_OBJ,COMENTARIO,ID_REPORTE,MODO_EJECUCION,KETTLE_NAME) VALUES
		(0,21,''Anula Lote Ord.Deb'',''PUNTO_ENTRADA_LOG_PA.kjb'','''','''','''','''','''','''','''','' '','''','''','' '','''','''','''','''','' '','''','''','''','' '','' '','' '','' '','' '','' '','' '','' '','' '','' '','' '','' '','' '','' '','' '','' '','' '','' '','' '','' '','' '',''J'',''Anula Lote Ord.Deb'',0,''O'',''ITF_ANULA_ORDDEB.kjb'');
');

EXEC('
    DELETE FROM OPERACIONES WHERE IDENTIFICACION = 169;
    DELETE FROM DESCRIPTORES WHERE IDENTIFICACION = 57;
    DELETE FROM DICCIONARIO WHERE NUMERODECAMPO IN (8156,8157,8158,8159);
    DELETE FROM INDICES WHERE NUMERODEARCHIVO = 57;
    DELETE FROM AYUDAS WHERE NUMERODEARCHIVO = 57 OR NUMERODEAYUDA = 169;
');

EXEC('
    INSERT INTO OPERACIONES (TITULO,IDENTIFICACION,NOMBRE,DESCRIPCION,MNEMOTECNICO,AUTORIZACION,FORMULARIOPRINCIPAL,PROXOPERACION,ESTADO,TZ_LOCK,COPIAS,SUBOPERACION,PERMITEBAJA,COMPORTAMIENTOENCIERRE,REQUIERECONTRASENA,PERMITECONCURRENTE,PERMITEESTADODIFERIDO,ICONO_TITULO,ESTILO) VALUES
        (6800,169,''ABMC BEE COMISIONES EXCEPCIONES'',''ABMC BEE COMISIONES EXCEPCIONES'',''169'',''N'',NULL,NULL,''P'',0,NULL,0,''S'',''N'',''N'',''N'',''S'',NULL,0);
');

EXEC('
    INSERT INTO DESCRIPTORES (TITULO,IDENTIFICACION,TIPODEARCHIVO,DESCRIPCION,GRUPODELMAPA,NOMBREFISICO,TIPODEDBMS,LARGODELREGISTRO,INICIALIZACIONDELREGISTRO,BASE,SELECCION,ACEPTA_MOVS_DIFERIDO) VALUES
        (930,57,NULL,''ITF_BEE_COMISIONES_EXCEPCIONES'',0,''ITF_BEE_COMISIONES_EXCEPCIONES'',''D'',NULL,NULL,''Top/Clientes'',NULL,''N'');
');

EXEC('
    INSERT INTO DICCIONARIO (NUMERODECAMPO,USODELCAMPO,REFERENCIA,DESCRIPCION,PROMPT,LARGO,TIPODECAMPO,DECIMALES,EDICION,CONTABILIZA,CONCEPTO,CALCULO,VALIDACION,TABLADEVALIDACION,TABLADEAYUDA,OPCIONES,TABLA,CAMPO,BASICO,MASCARA) VALUES
        (8156,NULL,0,''CUIT'',''CUIT'',11,''A'',0,NULL,0,0,0,0,0,0,0,57,''CUIT'',0,NULL),
        (8157,NULL,0,''FECHA_DESDE'',''FECHA_DESDE'',8,''F'',0,''F'',0,0,0,0,0,0,0,57,''FECHA_DESDE'',0,NULL),
        (8158,NULL,0,''FECHA_HASTA'',''FECHA_HASTA'',8,''F'',0,''F'',0,0,0,0,0,0,0,57,''FECHA_HASTA'',0,NULL),
        (8159,NULL,0,''Ay.BEE COM. EXCEP.'',''Ay.BEE COM. EXCEP.'',11,''A'',0,''F'',0,0,0,0,0,169,0,0,''C8159'',0,NULL);
');

EXEC('
    INSERT INTO INDICES (NUMERODEARCHIVO,NUMERODEINDICE,DESCRIPCION,CLAVESREPETIDAS,CAMPO1,CAMPO2,CAMPO3,CAMPO4,CAMPO5,CAMPO6,CAMPO7,CAMPO8,CAMPO9,CAMPO10,CAMPO11,CAMPO12,CAMPO13,CAMPO14,CAMPO15,CAMPO16,CAMPO17,CAMPO18,CAMPO19,CAMPO20) VALUES
        (57,1,''Indice BEE COM. EXCP.'',0,8156,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL);
');

EXEC('
    INSERT INTO AYUDAS (NUMERODEARCHIVO,NUMERODEAYUDA,DESCRIPCION,FILTRO,MOSTRARTODOS,CAMPOS,CAMPOSVISTA,BASEVISTA,NOMBREVISTA,AYUDAGRANDE) VALUES
        (57,169,''Ay.BEE COM. EXCEP.'',NULL,NULL,''8156R;8157;8158;'',NULL,NULL,NULL,0);
');