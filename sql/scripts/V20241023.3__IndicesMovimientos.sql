EXECUTE('
IF NOT EXISTS (
    SELECT 1 
    FROM sys.indexes 
    WHERE name = ''IDX_ENCOLADO_SALDOS'' 
    AND object_id = OBJECT_ID(''dbo.MOVIMIENTOS'')
)

CREATE INDEX IDX_ENCOLADO_SALDOS
	ON dbo.MOVIMIENTOS (FECHAPROCESO, TIPOPROCESO, ESTADOENCOLADO, C0001, C0007, C0005, C0003, C0006, C0008)
')

EXECUTE('
IF NOT EXISTS (
    SELECT 1 
    FROM sys.indexes 
    WHERE name = ''IDX_MOVIMIENTO_TIPOPROCESO'' 
    AND object_id = OBJECT_ID(''dbo.MOVIMIENTOS'')
)
CREATE INDEX IDX_MOVIMIENTO_TIPOPROCESO
	ON dbo.MOVIMIENTOS (TIPOPROCESO, ESTADOENCOLADO)
')

EXECUTE('
IF NOT EXISTS (
    SELECT 1 
    FROM sys.indexes 
    WHERE name = ''IDX_MOVIMIENTO_OFFLINEDIA'' 
    AND object_id = OBJECT_ID(''dbo.MOVIMIENTOS'')
)
CREATE INDEX IDX_MOVIMIENTO_OFFLINEDIA
	ON dbo.MOVIMIENTOS (TIPOPROCESO, ESTADOENCOLADO, FECHAPROCESO, APLICADOR_OFFLINE)
')

EXECUTE('
IF NOT EXISTS (
    SELECT 1 
    FROM sys.indexes 
    WHERE name = ''IDX_MOVIMIENTO_REVERSAL'' 
    AND object_id = OBJECT_ID(''dbo.MOVIMIENTOS'')
)
CREATE INDEX IDX_MOVIMIENTO_REVERSAL
	ON dbo.MOVIMIENTOS (SUCURSAL, FECHAPROCESO, ASIENTO);
')

EXECUTE('
IF NOT EXISTS (
    SELECT 1 
    FROM sys.indexes 
    WHERE name = ''IDX_MOVIMIENTO_TIPOPROCESO_FECHAPROCESO'' 
    AND object_id = OBJECT_ID(''dbo.MOVIMIENTOS'')
)
CREATE INDEX IDX_MOVIMIENTO_TIPOPROCESO_FECHAPROCESO
	ON dbo.MOVIMIENTOS (TIPOPROCESO, ESTADOENCOLADO, FECHAPROCESO)
')
 
EXECUTE('
IF NOT EXISTS (
    SELECT 1 
    FROM sys.indexes 
    WHERE name = ''IDX_JTS_MOVIMIENTOS_CONTABLES'' 
    AND object_id = OBJECT_ID(''dbo.MOVIMIENTOS_CONTABLES'')
)
CREATE INDEX IDX_JTS_MOVIMIENTOS_CONTABLES
	ON dbo.MOVIMIENTOS_CONTABLES (SALDO_JTS_OID)
')

EXECUTE('
IF NOT EXISTS (
    SELECT 1 
    FROM sys.indexes 
    WHERE name = ''IDX_MOV_CONSULTA'' 
    AND object_id = OBJECT_ID(''dbo.MOVIMIENTOS_CONTABLES'')
)
CREATE INDEX IDX_MOV_CONSULTA
	ON dbo.MOVIMIENTOS_CONTABLES (SUCURSAL_CUENTA, MONEDA, CUENTA, PRODUCTO, OPERACION_CUENTA, ORDINAL_CUENTA)
')

EXECUTE('
IF NOT EXISTS (
    SELECT 1 
    FROM sys.indexes 
    WHERE name = ''IDX_MOV_MAYOR'' 
    AND object_id = OBJECT_ID(''dbo.MOVIMIENTOS_CONTABLES'')
)
CREATE INDEX IDX_MOV_MAYOR
	ON dbo.MOVIMIENTOS_CONTABLES (FECHACONTABLE, RUBROCONTABLE)
')

EXECUTE('
IF NOT EXISTS (
    SELECT 1 
    FROM sys.indexes 
    WHERE name = ''IDX_MOV_RUBRO'' 
    AND object_id = OBJECT_ID(''dbo.MOVIMIENTOS_CONTABLES'')
)
CREATE INDEX IDX_MOV_RUBRO
	ON dbo.MOVIMIENTOS_CONTABLES (FECHAPROCESO, RUBROCONTABLE)
')

EXECUTE('
IF NOT EXISTS (
    SELECT 1 
    FROM sys.indexes 
    WHERE name = ''IDX_RUBROFECHA'' 
    AND object_id = OBJECT_ID(''dbo.MOVIMIENTOS_CONTABLES'')
)
CREATE INDEX IDX_RUBROFECHA
	ON dbo.MOVIMIENTOS_CONTABLES (RUBROCONTABLE, FECHAVALOR)
')

EXECUTE('
IF NOT EXISTS (
    SELECT 1 
    FROM sys.indexes 
    WHERE name = ''NBC_I_CON3_MOVCONT'' 
    AND object_id = OBJECT_ID(''dbo.MOVIMIENTOS_CONTABLES'')
)
CREATE INDEX NBC_I_CON3_MOVCONT
	ON dbo.MOVIMIENTOS_CONTABLES (ASIENTO, CUENTA, FECHAPROCESO, SUCURSAL_CUENTA, MONEDA)
')

EXECUTE('
IF NOT EXISTS (
    SELECT 1 
    FROM sys.indexes 
    WHERE name = ''IDX_CLAVEASIENTO'' 
    AND object_id = OBJECT_ID(''dbo.MOVIMIENTOS_CONTABLES'')
)
CREATE INDEX IDX_CLAVEASIENTO
	ON dbo.MOVIMIENTOS_CONTABLES (ASIENTO, SUCURSAL, FECHAPROCESO)
')
