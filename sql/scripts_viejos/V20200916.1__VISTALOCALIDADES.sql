UPDATE dbo.AYUDAS
SET CAMPOS = '33005R;33006R;33007R;33008;33415;33004R;'
WHERE NUMERODEAYUDA = 33011
GO

UPDATE dbo.DICCIONARIO
SET LARGO = 3
WHERE NUMERODECAMPO = 33009
GO


CREATE VIEW dbo.VW_LOCALIDADES  (
	CODIGO_POSTAL  ,
    	DIM3            ,
	DESCRIPCION_DIM3,
	DIM1            ,
	DESCRIPCION_DIM1 ,
	DIM2            ,
	DESCRIPCION_DIM2 ,
	CODIGOPAIS      
)
AS
 SELECT 
	CODIGO_POSTAL   , 
 	DIM3            ,
	DESCRIPCION_DIM3,
	DIM1           ,
    	(SELECT DESCRIPCION FROM CLI_PROVINCIAS AS P WHERE P.CODIGOPAIS = L.CODIGOPAIS AND P.DIM1 = L.DIM1) AS DESCRIPCION_DIM1,
	DIM2            ,
	(SELECT NOMBREDEP FROM CLI_DEPARTAMENTOS AS D WHERE D.CODIGOPAIS = L.CODIGOPAIS AND D.PROVINCIA = L.DIM1 AND D.DEPARTAMENTO = L.DIM2) AS DESCRIPCION_DIM2,
	CODIGOPAIS      
         
   FROM  
      dbo.CLI_LOCALIDADES AS L
      
   WHERE 
      ((L.TZ_LOCK < 300000000000000 OR L.TZ_LOCK >= 400000000000000) AND (L.TZ_LOCK < 100000000000000 OR L.TZ_LOCK >= 200000000000000))
GO


INSERT INTO dbo.DESCRIPTORES (TITULO, IDENTIFICACION, TIPODEARCHIVO, DESCRIPCION, GRUPODELMAPA, NOMBREFISICO, TIPODEDBMS, LARGODELREGISTRO, INICIALIZACIONDELREGISTRO, BASE, SELECCION, ACEPTA_MOVS_DIFERIDO)
VALUES (10, 3346, NULL, 'Vista Localidades', 0, 'VW_LOCALIDADES', 'D', NULL, NULL, 'TOP/CLIENTES', NULL, 'N')
GO

INSERT INTO dbo.INDICES (NUMERODEARCHIVO, NUMERODEINDICE, DESCRIPCION, CLAVESREPETIDAS, CAMPO1, CAMPO2, CAMPO3, CAMPO4, CAMPO5, CAMPO6, CAMPO7, CAMPO8, CAMPO9, CAMPO10, CAMPO11, CAMPO12, CAMPO13, CAMPO14, CAMPO15, CAMPO16, CAMPO17, CAMPO18, CAMPO19, CAMPO20)
VALUES (3346, 1, 'Indice Vista Localidades', 0, 37116, 37117, 37119, 37121, 37123, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL)
GO

INSERT INTO dbo.AYUDAS (NUMERODEARCHIVO, NUMERODEAYUDA, DESCRIPCION, FILTRO, MOSTRARTODOS, CAMPOS, CAMPOSVISTA, BASEVISTA, NOMBREVISTA, AYUDAGRANDE)
VALUES (3346, 33461, 'Ayuda Vista Localidades', '', 0, '37116R;37117R;37118;37119R;37120;37121R;37122;37123R;', NULL, NULL, NULL, 0)
GO

INSERT INTO dbo.DICCIONARIO (NUMERODECAMPO, USODELCAMPO, REFERENCIA, DESCRIPCION, PROMPT, LARGO, TIPODECAMPO, DECIMALES, EDICION, CONTABILIZA, CONCEPTO, CALCULO, VALIDACION, TABLADEVALIDACION, TABLADEAYUDA, OPCIONES, TABLA, CAMPO, BASICO, MASCARA)
VALUES (37116, ' ', 0, 'Código Postal', 'Código Postal', 4, 'N', 0, NULL, 0, 0, 0, 0, 0, 33461, 0, 3346, 'CODIGO_POSTAL', 0, NULL)
GO

INSERT INTO dbo.DICCIONARIO (NUMERODECAMPO, USODELCAMPO, REFERENCIA, DESCRIPCION, PROMPT, LARGO, TIPODECAMPO, DECIMALES, EDICION, CONTABILIZA, CONCEPTO, CALCULO, VALIDACION, TABLADEVALIDACION, TABLADEAYUDA, OPCIONES, TABLA, CAMPO, BASICO, MASCARA)
VALUES (37117, ' ', 0, 'Localidad', 'Localidad', 3, 'N', 0, NULL, 0, 0, 0, 0, 0, 0, 0, 3346, 'DIM3', 0, NULL)
GO

INSERT INTO dbo.DICCIONARIO (NUMERODECAMPO, USODELCAMPO, REFERENCIA, DESCRIPCION, PROMPT, LARGO, TIPODECAMPO, DECIMALES, EDICION, CONTABILIZA, CONCEPTO, CALCULO, VALIDACION, TABLADEVALIDACION, TABLADEAYUDA, OPCIONES, TABLA, CAMPO, BASICO, MASCARA)
VALUES (37118, ' ', 0, 'Descripción Localidad', 'Descripción Localidad', 60, 'A', 0, NULL, 0, 0, 0, 0, 0, 0, 0, 3346, 'DESCRIPCION_DIM3', 0, NULL)
GO

INSERT INTO dbo.DICCIONARIO (NUMERODECAMPO, USODELCAMPO, REFERENCIA, DESCRIPCION, PROMPT, LARGO, TIPODECAMPO, DECIMALES, EDICION, CONTABILIZA, CONCEPTO, CALCULO, VALIDACION, TABLADEVALIDACION, TABLADEAYUDA, OPCIONES, TABLA, CAMPO, BASICO, MASCARA)
VALUES (37119, ' ', 0, 'Provincia', 'Provincia', 2, 'A', 0, NULL, 0, 0, 0, 0, 0, 0, 0, 3346, 'DIM1', 0, NULL)
GO

INSERT INTO dbo.DICCIONARIO (NUMERODECAMPO, USODELCAMPO, REFERENCIA, DESCRIPCION, PROMPT, LARGO, TIPODECAMPO, DECIMALES, EDICION, CONTABILIZA, CONCEPTO, CALCULO, VALIDACION, TABLADEVALIDACION, TABLADEAYUDA, OPCIONES, TABLA, CAMPO, BASICO, MASCARA)
VALUES (37120, ' ', 0, 'Descripción Provincia', 'Descripción Provincia', 60, 'A', 0, NULL, 0, 0, 0, 0, 0, 0, 0, 3346, 'DESCRIPCION_DIM1', 0, NULL)
GO

INSERT INTO dbo.DICCIONARIO (NUMERODECAMPO, USODELCAMPO, REFERENCIA, DESCRIPCION, PROMPT, LARGO, TIPODECAMPO, DECIMALES, EDICION, CONTABILIZA, CONCEPTO, CALCULO, VALIDACION, TABLADEVALIDACION, TABLADEAYUDA, OPCIONES, TABLA, CAMPO, BASICO, MASCARA)
VALUES (37121, ' ', 0, 'Departamento', 'Departamento', 3, 'N', 0, NULL, 0, 0, 0, 0, 0, 0, 0, 3346, 'DIM2', 0, NULL)
GO

INSERT INTO dbo.DICCIONARIO (NUMERODECAMPO, USODELCAMPO, REFERENCIA, DESCRIPCION, PROMPT, LARGO, TIPODECAMPO, DECIMALES, EDICION, CONTABILIZA, CONCEPTO, CALCULO, VALIDACION, TABLADEVALIDACION, TABLADEAYUDA, OPCIONES, TABLA, CAMPO, BASICO, MASCARA)
VALUES (37122, ' ', 0, 'Descripción Departamento', 'Descripción Departamento', 35, 'A', 0, NULL, 0, 0, 0, 0, 0, 0, 0, 3346, 'DESCRIPCION_DIM2', 0, NULL)
GO

INSERT INTO dbo.DICCIONARIO (NUMERODECAMPO, USODELCAMPO, REFERENCIA, DESCRIPCION, PROMPT, LARGO, TIPODECAMPO, DECIMALES, EDICION, CONTABILIZA, CONCEPTO, CALCULO, VALIDACION, TABLADEVALIDACION, TABLADEAYUDA, OPCIONES, TABLA, CAMPO, BASICO, MASCARA)
VALUES (37123, ' ', 0, 'Código País', 'Código País', 5, 'N', 0, NULL, 0, 0, 0, 0, 0, 0, 0, 3346, 'CODIGOPAIS', 0, NULL)
GO


