
CREATE OR ALTER PROCEDURE dbo.SP_ITF_ACTUALIZAPERSONA  
/*
PARAMETRO @P_TIPO_PERSONA
	F: persona fisica, actualizo tabla CLI_PERSONASFISICAS
	J: persona juridica, actualizo tabla CLI_PERSONASJURIDICAS
	C: marca para actualizar tabla CLI_CLIENTES
*/
   @P_TIPO_PERSONA varchar(1),
   @P_NUMPER NUMERIC(12,0),
   @P_IVA varchar(2),
   @P_IGA varchar(2),
   @P_MONOTRIBUTO varchar(2)
AS 
   /*Generated by SQL Server Migration Assistant for Oracle version 7.9.0.*/
   BEGIN   	  
	  
      IF @P_TIPO_PERSONA = 'J'
      	UPDATE CLI_PERSONASJURIDICAS SET IVA = @P_IVA, IGA = @P_IGA, MONOTRIBUTO= @P_MONOTRIBUTO 
      	WHERE NUMEROPERSONAJURIDICA = @P_NUMPER;
      
      IF @P_TIPO_PERSONA = 'F'
		UPDATE CLI_PERSONASFISICAS SET IVA = @P_IVA, IGA = @P_IGA, MONOTRIBUTO= @P_MONOTRIBUTO 
      	WHERE NUMEROPERSONAFISICA = @P_NUMPER;
      	
      IF @P_TIPO_PERSONA = 'C'
      	UPDATE CLI_CLIENTES SET IVA = @P_IVA, IGA = @P_IGA, MONOTRIBUTO = @P_MONOTRIBUTO  
      	WHERE [CODIGOCLIENTE] = @P_NUMPER;
   END
GO