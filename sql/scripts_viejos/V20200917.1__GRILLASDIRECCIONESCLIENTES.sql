DROP VIEW VW_CLI_DIRECCIONES
GO

CREATE VIEW dbo.VW_CLI_DIRECCIONES  (
	TIPODOCUMENTO,
	NUMERODOCUMENTO,
	TIPO_DOC_FISICO,
 	NUM_DOC_FISICO,
	NOMBRE,
	FORMATO,
	DESC_FORMATO,
	TIPODIRECCION,
	DESC_TIPODIRECCION,
	ORDINAL_DIR,
	PAIS,
	PROVINCIA,
	DEPARTAMENTO,
	LOCALIDAD,
	CPA_NUEVO,
	BARRIO,
	CALLE,
	NUMERO,
	PROVINCIA_EXT,
	DEPARTAMENTO_EXT,
	LOCALIDAD_EXT,
	TIPO_CLIENTE,
	NOMBRECLIENTE,
	CODIGOCLIENTE,
	NUMEROPERSONA,
	TIPOPERSONA
)
AS
 SELECT 
 	  v.TIPODOCUMENTO,
 	  v.NUMERODOCUMENTO,
 	  v.TIPO_DOC_FISICO,
 	  v.NUM_DOC_FISICO,
 	  concat(u.APELLIDOPATERNO,' ',u.PRIMERNOMBRE) AS NOMBRE,
   	  a.FORMATO,
   	  (SELECT DESCRIPCION FROM OPCIONES O WHERE O.IDIOMA = 'E' AND O.NUMERODECAMPO = 33051 AND O.OPCIONINTERNA= a.FORMATO) AS DESC_FORMATO,
   	  a.TIPODIRECCION,
   	  (SELECT DESCRIPCION FROM OPCIONES O WHERE O.IDIOMA = 'E' AND O.NUMERODECAMPO = 33052 AND O.OPCIONINTERNA= a.TIPODIRECCION) AS DESC_TIPODIRECCION,
   	  a.ORDINAL_DIR,
   	  p.NOMBREPAIS AS PAIS,
   	  PP.DESCRIPCION AS PROVINCIA,
   	  D.NOMBREDEP AS DEPARTAMENTO,
      L.DESCRIPCION_DIM3 AS LOCALIDAD,
      a.CPA_NUEVO,
      A.BARRIO,
      A.CALLE,
      A.NUMERO,
      A.PROVINCIA_EXTERIOR AS LOCALIDAD_EXT,
      A.DEPARTAMENTO_EXTERIOR AS LOCALIDAD_EXT,
      A.LOCALIDAD_EXTERIOR AS LOCALIDAD_EXT,
   	 (SELECT DESCRIPCION FROM OPCIONES WHERE IDIOMA = 'E' AND NUMERODECAMPO = 1040 AND OPCIONINTERNA = r.tipo) AS TIPO_CLIENTE,
   	  R.NOMBRECLIENTE,
   	  R.CODIGOCLIENTE,  
      V.NUMEROPERSONAFJ AS NUMEROPERSONA, 
      (SELECT DESCRIPCION FROM OPCIONES WHERE IDIOMA = 'E' AND NUMERODECAMPO = 1861 AND OPCIONINTERNA = V.TIPOPERSONA) AS TIPOPERSONA
         
   FROM 
   	  dbo.CLI_DIRECCIONES AS A
   	  LEFT JOIN dbo.CLI_PAISES AS P ON P.CODIGOPAIS = A.PAIS
   	  LEFT JOIN dbo.CLI_PROVINCIAS AS PP ON PP.DIM1 = A.PROVINCIA  	  
      LEFT JOIN dbo.CLI_DEPARTAMENTOS AS D ON (a.DEPARTAMENTO=d.DEPARTAMENTO) AND (PP.DIM1=d.PROVINCIA)
      LEFT JOIN dbo.CLI_LOCALIDADES AS l ON (a.LOCALIDAD=l.DIM3) AND (l.DIM1=PP.DIM1) AND (l.DIM2=d.DEPARTAMENTO), 
      dbo.CLI_CLIENTES  AS R, 
      dbo.CLI_CLIENTEPERSONA  AS T, 
      dbo.CLI_PERSONASFISICAS  AS U, 
      dbo.CLI_DOCUMENTOSPFPJ  AS V
     
   WHERE 
      (R.CODIGOCLIENTE = T.CODIGOCLIENTE) AND 
      (U.NUMEROPERSONAFISICA = T.NUMEROPERSONA AND U.NUMEROPERSONAFISICA = V.NUMEROPERSONAFJ) AND 
      (T.TITULARIDAD='T') AND
      (T.NUMEROPERSONA=A.ID) AND (a.ID=t.NUMEROPERSONA) AND 

      ((R.TZ_LOCK < 300000000000000 OR R.TZ_LOCK >= 400000000000000) AND (R.TZ_LOCK < 100000000000000 OR R.TZ_LOCK >= 200000000000000)) AND 
      ((T.TZ_LOCK < 300000000000000 OR T.TZ_LOCK >= 400000000000000) AND (T.TZ_LOCK < 100000000000000 OR T.TZ_LOCK >= 200000000000000)) AND 
      ((U.TZ_LOCK < 300000000000000 OR U.TZ_LOCK >= 400000000000000) AND (U.TZ_LOCK < 100000000000000 OR U.TZ_LOCK >= 200000000000000)) AND 
      ((V.TZ_LOCK < 300000000000000 OR V.TZ_LOCK >= 400000000000000) AND (V.TZ_LOCK < 100000000000000 OR V.TZ_LOCK >= 200000000000000)) AND
      ((A.TZ_LOCK < 300000000000000 OR A.TZ_LOCK >= 400000000000000) AND (A.TZ_LOCK < 100000000000000 OR A.TZ_LOCK >= 200000000000000))
      
UNION ALL

   SELECT 
 	  v.TIPODOCUMENTO,
 	  v.NUMERODOCUMENTO,
 	  v.TIPO_DOC_FISICO,
 	  v.NUM_DOC_FISICO,
 	  j.RAZONSOCIAL AS NOMBRE,
   	  a.FORMATO,
   	  (SELECT DESCRIPCION FROM OPCIONES O WHERE O.IDIOMA = 'E' AND O.NUMERODECAMPO = 33051 AND O.OPCIONINTERNA= a.FORMATO) AS DESC_FORMATO,
   	  a.TIPODIRECCION,
   	  (SELECT DESCRIPCION FROM OPCIONES O WHERE O.IDIOMA = 'E' AND O.NUMERODECAMPO = 33052 AND O.OPCIONINTERNA= a.TIPODIRECCION) AS DESC_TIPODIRECCION,
   	  a.ORDINAL_DIR,
   	  p.NOMBREPAIS AS PAIS,
   	  PP.DESCRIPCION AS PROVINCIA,
   	  D.NOMBREDEP AS DEPARTAMENTO,
      L.DESCRIPCION_DIM3 AS LOCALIDAD,
      a.CPA_NUEVO,
      A.BARRIO,
      A.CALLE,
      A.NUMERO,
      A.PROVINCIA_EXTERIOR AS PROVINCIA_EXT,
      A.DEPARTAMENTO_EXTERIOR AS DEPARTAMENTO_EXT,
      A.LOCALIDAD_EXTERIOR AS LOCALIDAD_EXT,
   	 (SELECT DESCRIPCION FROM OPCIONES WHERE IDIOMA = 'E' AND NUMERODECAMPO = 1040 AND OPCIONINTERNA = r.tipo) AS TIPO_CLIENTE,
   	  R.NOMBRECLIENTE,
   	  R.CODIGOCLIENTE,  
      V.NUMEROPERSONAFJ AS NUMEROPERSONA, 
      (SELECT DESCRIPCION FROM OPCIONES WHERE IDIOMA = 'E' AND NUMERODECAMPO = 1861 AND OPCIONINTERNA = V.TIPOPERSONA) AS TIPOPERSONA 
    
         
   FROM 
   	  dbo.CLI_DIRECCIONES AS A
   	  LEFT JOIN dbo.CLI_PAISES AS P ON P.CODIGOPAIS = A.PAIS
   	  LEFT JOIN dbo.CLI_PROVINCIAS AS PP ON PP.DIM1 = A.PROVINCIA  	  
      LEFT JOIN dbo.CLI_DEPARTAMENTOS AS D ON (a.DEPARTAMENTO=d.DEPARTAMENTO) AND (PP.DIM1=d.PROVINCIA)
      LEFT JOIN dbo.CLI_LOCALIDADES AS l ON (a.LOCALIDAD=l.DIM3) AND (l.DIM1=PP.DIM1) AND (l.DIM2=d.DEPARTAMENTO),
      dbo.CLI_CLIENTES  AS R, 
      dbo.CLI_CLIENTEPERSONA  AS T, 
      dbo.CLI_PERSONASJURIDICAS  AS J, 
      dbo.CLI_DOCUMENTOSPFPJ  AS V

   WHERE 
      (R.CODIGOCLIENTE = T.CODIGOCLIENTE) AND 
      (J.NUMEROPERSONAJURIDICA = T.NUMEROPERSONA AND J.NUMEROPERSONAJURIDICA = V.NUMEROPERSONAFJ) AND 
      (T.TITULARIDAD='T') AND
      (T.NUMEROPERSONA=A.ID) AND (a.ID=t.NUMEROPERSONA) AND 
    
      ((R.TZ_LOCK < 300000000000000 OR R.TZ_LOCK >= 400000000000000) AND (R.TZ_LOCK < 100000000000000 OR R.TZ_LOCK >= 200000000000000)) AND 
      ((T.TZ_LOCK < 300000000000000 OR T.TZ_LOCK >= 400000000000000) AND (T.TZ_LOCK < 100000000000000 OR T.TZ_LOCK >= 200000000000000)) AND 
      ((J.TZ_LOCK < 300000000000000 OR J.TZ_LOCK >= 400000000000000) AND (J.TZ_LOCK < 100000000000000 OR J.TZ_LOCK >= 200000000000000)) AND 
      ((V.TZ_LOCK < 300000000000000 OR V.TZ_LOCK >= 400000000000000) AND (V.TZ_LOCK < 100000000000000 OR V.TZ_LOCK >= 200000000000000)) AND
      ((A.TZ_LOCK < 300000000000000 OR A.TZ_LOCK >= 400000000000000) AND (A.TZ_LOCK < 100000000000000 OR A.TZ_LOCK >= 200000000000000))
GO


INSERT INTO dbo.DESCRIPTORES (TITULO, IDENTIFICACION, TIPODEARCHIVO, DESCRIPCION, GRUPODELMAPA, NOMBREFISICO, TIPODEDBMS, LARGODELREGISTRO, INICIALIZACIONDELREGISTRO, BASE, SELECCION, ACEPTA_MOVS_DIFERIDO)
VALUES (10, 3351, NULL, 'Vista Direcciones Clientes', 0, 'VW_CLI_DIRECCIONES', 'D', NULL, NULL, 'TOP/CLIENTES', NULL, 'N')
GO

INSERT INTO dbo.INDICES (NUMERODEARCHIVO, NUMERODEINDICE, DESCRIPCION, CLAVESREPETIDAS, CAMPO1, CAMPO2, CAMPO3, CAMPO4, CAMPO5, CAMPO6, CAMPO7, CAMPO8, CAMPO9, CAMPO10, CAMPO11, CAMPO12, CAMPO13, CAMPO14, CAMPO15, CAMPO16, CAMPO17, CAMPO18, CAMPO19, CAMPO20)
VALUES (3351, 1, 'Indice Vista Dir. Clientes', 0, 37181, 37182, 37184, 37186, 37200, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL)
GO

INSERT INTO dbo.AYUDAS (NUMERODEARCHIVO, NUMERODEAYUDA, DESCRIPCION, FILTRO, MOSTRARTODOS, CAMPOS, CAMPOSVISTA, BASEVISTA, NOMBREVISTA, AYUDAGRANDE)
VALUES (3351, 33511, 'Ayuda Vista Dir. Clientes', '', 0, '37176;37177;37178;37179;37180;37181R;37182R;37183;37184R;37185;37186R;37187;37188;37189;37190;37191;37192;37193;37194;37195;37196;37197;37198;37199;37200R;37202;', NULL, NULL, NULL, 0)
GO


INSERT INTO dbo.DICCIONARIO (NUMERODECAMPO, USODELCAMPO, REFERENCIA, DESCRIPCION, PROMPT, LARGO, TIPODECAMPO, DECIMALES, EDICION, CONTABILIZA, CONCEPTO, CALCULO, VALIDACION, TABLADEVALIDACION, TABLADEAYUDA, OPCIONES, TABLA, CAMPO, BASICO, MASCARA)
VALUES (37176, ' ', 0, 'Tipo de Documento', 'Tipo de Documento', 4, 'A', 0, NULL, 0, 0, 0, 0, 0, 0, 0, 3351, 'TIPODOCUMENTO', 0, NULL)
GO

INSERT INTO dbo.DICCIONARIO (NUMERODECAMPO, USODELCAMPO, REFERENCIA, DESCRIPCION, PROMPT, LARGO, TIPODECAMPO, DECIMALES, EDICION, CONTABILIZA, CONCEPTO, CALCULO, VALIDACION, TABLADEVALIDACION, TABLADEAYUDA, OPCIONES, TABLA, CAMPO, BASICO, MASCARA)
VALUES (37177, ' ', 0, 'Número de Documento', 'Número de Documento', 20, 'A', 0, NULL, 0, 0, 0, 0, 0, 0, 0, 3351, 'NUMERODOCUMENTO', 0, NULL)
GO

INSERT INTO dbo.DICCIONARIO (NUMERODECAMPO, USODELCAMPO, REFERENCIA, DESCRIPCION, PROMPT, LARGO, TIPODECAMPO, DECIMALES, EDICION, CONTABILIZA, CONCEPTO, CALCULO, VALIDACION, TABLADEVALIDACION, TABLADEAYUDA, OPCIONES, TABLA, CAMPO, BASICO, MASCARA)
VALUES (37178, ' ', 0, 'Tipo de Documento Físico', 'Tipo de Documento Físico', 4, 'A', 0, NULL, 0, 0, 0, 0, 0, 0, 0, 3351, 'TIPO_DOC_FISICO', 0, NULL)
GO

INSERT INTO dbo.DICCIONARIO (NUMERODECAMPO, USODELCAMPO, REFERENCIA, DESCRIPCION, PROMPT, LARGO, TIPODECAMPO, DECIMALES, EDICION, CONTABILIZA, CONCEPTO, CALCULO, VALIDACION, TABLADEVALIDACION, TABLADEAYUDA, OPCIONES, TABLA, CAMPO, BASICO, MASCARA)
VALUES (37179, ' ', 0, 'Número de Documento Físico', 'Número de Documento Físico', 20, 'A', 0, NULL, 0, 0, 0, 0, 0, 0, 0, 3351, 'NUM_DOC_FISICO', 0, NULL)
GO

INSERT INTO dbo.DICCIONARIO (NUMERODECAMPO, USODELCAMPO, REFERENCIA, DESCRIPCION, PROMPT, LARGO, TIPODECAMPO, DECIMALES, EDICION, CONTABILIZA, CONCEPTO, CALCULO, VALIDACION, TABLADEVALIDACION, TABLADEAYUDA, OPCIONES, TABLA, CAMPO, BASICO, MASCARA)
VALUES (37180, ' ', 0, 'Nombres y Apellidos / Razón Social', 'Nombres y Apellidos / Razón Social', 70, 'A', 0, NULL, 0, 0, 0, 0, 0, 0, 0, 3351, 'NOMBRE', 0, NULL)
GO

INSERT INTO dbo.DICCIONARIO (NUMERODECAMPO, USODELCAMPO, REFERENCIA, DESCRIPCION, PROMPT, LARGO, TIPODECAMPO, DECIMALES, EDICION, CONTABILIZA, CONCEPTO, CALCULO, VALIDACION, TABLADEVALIDACION, TABLADEAYUDA, OPCIONES, TABLA, CAMPO, BASICO, MASCARA)
VALUES (37181, ' ', 0, 'Número de Persona', 'Número de Persona', 12, 'N', 0, NULL, 0, 0, 0, 0, 0, 33511, 0, 3351, 'NUMEROPERSONA', 0, NULL)
GO

INSERT INTO dbo.DICCIONARIO (NUMERODECAMPO, USODELCAMPO, REFERENCIA, DESCRIPCION, PROMPT, LARGO, TIPODECAMPO, DECIMALES, EDICION, CONTABILIZA, CONCEPTO, CALCULO, VALIDACION, TABLADEVALIDACION, TABLADEAYUDA, OPCIONES, TABLA, CAMPO, BASICO, MASCARA)
VALUES (37182, ' ', 0, 'Formato', 'Formato', 2, 'A', 0, NULL, 0, 0, 0, 0, 0, 0, 0, 3351, 'FORMATO', 0, NULL)
GO

INSERT INTO dbo.DICCIONARIO (NUMERODECAMPO, USODELCAMPO, REFERENCIA, DESCRIPCION, PROMPT, LARGO, TIPODECAMPO, DECIMALES, EDICION, CONTABILIZA, CONCEPTO, CALCULO, VALIDACION, TABLADEVALIDACION, TABLADEAYUDA, OPCIONES, TABLA, CAMPO, BASICO, MASCARA)
VALUES (37183, ' ', 0, 'Descripción Formato', 'Descripción Formato', 40, 'A', 0, NULL, 0, 0, 0, 0, 0, 0, 0, 3351, 'DESC_FORMATO', 0, NULL)
GO

INSERT INTO dbo.DICCIONARIO (NUMERODECAMPO, USODELCAMPO, REFERENCIA, DESCRIPCION, PROMPT, LARGO, TIPODECAMPO, DECIMALES, EDICION, CONTABILIZA, CONCEPTO, CALCULO, VALIDACION, TABLADEVALIDACION, TABLADEAYUDA, OPCIONES, TABLA, CAMPO, BASICO, MASCARA)
VALUES (37184, ' ', 0, 'Tipo de Dirección', 'Tipo de Dirección', 2, 'A', 0, NULL, 0, 0, 0, 0, 0, 0, 0, 3351, 'TIPODIRECCION', 0, NULL)
GO

INSERT INTO dbo.DICCIONARIO (NUMERODECAMPO, USODELCAMPO, REFERENCIA, DESCRIPCION, PROMPT, LARGO, TIPODECAMPO, DECIMALES, EDICION, CONTABILIZA, CONCEPTO, CALCULO, VALIDACION, TABLADEVALIDACION, TABLADEAYUDA, OPCIONES, TABLA, CAMPO, BASICO, MASCARA)
VALUES (37185, ' ', 0, 'Descripción del Tipo de Dirección', 'Descripción del Tipo de Dirección', 40, 'A', 0, NULL, 0, 0, 0, 0, 0, 0, 0, 3351, 'DESC_TIPODIRECCION', 0, NULL)
GO

INSERT INTO dbo.DICCIONARIO (NUMERODECAMPO, USODELCAMPO, REFERENCIA, DESCRIPCION, PROMPT, LARGO, TIPODECAMPO, DECIMALES, EDICION, CONTABILIZA, CONCEPTO, CALCULO, VALIDACION, TABLADEVALIDACION, TABLADEAYUDA, OPCIONES, TABLA, CAMPO, BASICO, MASCARA)
VALUES (37186, ' ', 0, 'Ordinal', 'Ordinal', 3, 'N', 0, NULL, 0, 0, 0, 0, 0, 0, 0, 3351, 'ORDINAL_DIR', 0, NULL)
GO

INSERT INTO dbo.DICCIONARIO (NUMERODECAMPO, USODELCAMPO, REFERENCIA, DESCRIPCION, PROMPT, LARGO, TIPODECAMPO, DECIMALES, EDICION, CONTABILIZA, CONCEPTO, CALCULO, VALIDACION, TABLADEVALIDACION, TABLADEAYUDA, OPCIONES, TABLA, CAMPO, BASICO, MASCARA)
VALUES (37187, ' ', 0, 'País', 'País', 20, 'A', 0, NULL, 0, 0, 0, 0, 0, 0, 0, 3351, 'PAIS', 0, NULL)
GO

INSERT INTO dbo.DICCIONARIO (NUMERODECAMPO, USODELCAMPO, REFERENCIA, DESCRIPCION, PROMPT, LARGO, TIPODECAMPO, DECIMALES, EDICION, CONTABILIZA, CONCEPTO, CALCULO, VALIDACION, TABLADEVALIDACION, TABLADEAYUDA, OPCIONES, TABLA, CAMPO, BASICO, MASCARA)
VALUES (37188, ' ', 0, 'Provincia', 'Provincia', 60, 'A', 0, NULL, 0, 0, 0, 0, 0, 0, 0, 3351, 'PROVINCIA', 0, NULL)
GO

INSERT INTO dbo.DICCIONARIO (NUMERODECAMPO, USODELCAMPO, REFERENCIA, DESCRIPCION, PROMPT, LARGO, TIPODECAMPO, DECIMALES, EDICION, CONTABILIZA, CONCEPTO, CALCULO, VALIDACION, TABLADEVALIDACION, TABLADEAYUDA, OPCIONES, TABLA, CAMPO, BASICO, MASCARA)
VALUES (37189, ' ', 0, 'Departamento', 'Departamento', 35, 'A', 0, NULL, 0, 0, 0, 0, 0, 0, 0, 3351, 'DEPARTAMENTO', 0, NULL)
GO

INSERT INTO dbo.DICCIONARIO (NUMERODECAMPO, USODELCAMPO, REFERENCIA, DESCRIPCION, PROMPT, LARGO, TIPODECAMPO, DECIMALES, EDICION, CONTABILIZA, CONCEPTO, CALCULO, VALIDACION, TABLADEVALIDACION, TABLADEAYUDA, OPCIONES, TABLA, CAMPO, BASICO, MASCARA)
VALUES (37190, ' ', 0, 'Localidad', 'Localidad', 60, 'A', 0, NULL, 0, 0, 0, 0, 0, 0, 0, 3351, 'LOCALIDAD', 0, NULL)
GO

INSERT INTO dbo.DICCIONARIO (NUMERODECAMPO, USODELCAMPO, REFERENCIA, DESCRIPCION, PROMPT, LARGO, TIPODECAMPO, DECIMALES, EDICION, CONTABILIZA, CONCEPTO, CALCULO, VALIDACION, TABLADEVALIDACION, TABLADEAYUDA, OPCIONES, TABLA, CAMPO, BASICO, MASCARA)
VALUES (37191, ' ', 0, 'CPA Nuevo', 'CPA Nuevo', 15, 'A', 0, NULL, 0, 0, 0, 0, 0, 0, 0, 3351, 'CPA_NUEVO', 0, NULL)
GO

INSERT INTO dbo.DICCIONARIO (NUMERODECAMPO, USODELCAMPO, REFERENCIA, DESCRIPCION, PROMPT, LARGO, TIPODECAMPO, DECIMALES, EDICION, CONTABILIZA, CONCEPTO, CALCULO, VALIDACION, TABLADEVALIDACION, TABLADEAYUDA, OPCIONES, TABLA, CAMPO, BASICO, MASCARA)
VALUES (37192, ' ', 0, 'Barrio', 'Barrio', 100, 'A', 0, NULL, 0, 0, 0, 0, 0, 0, 0, 3351, 'BARRIO', 0, NULL)
GO

INSERT INTO dbo.DICCIONARIO (NUMERODECAMPO, USODELCAMPO, REFERENCIA, DESCRIPCION, PROMPT, LARGO, TIPODECAMPO, DECIMALES, EDICION, CONTABILIZA, CONCEPTO, CALCULO, VALIDACION, TABLADEVALIDACION, TABLADEAYUDA, OPCIONES, TABLA, CAMPO, BASICO, MASCARA)
VALUES (37193, ' ', 0, 'Calle', 'Calle', 50, 'A', 0, NULL, 0, 0, 0, 0, 0, 0, 0, 3351, 'CALLE', 0, NULL)
GO

INSERT INTO dbo.DICCIONARIO (NUMERODECAMPO, USODELCAMPO, REFERENCIA, DESCRIPCION, PROMPT, LARGO, TIPODECAMPO, DECIMALES, EDICION, CONTABILIZA, CONCEPTO, CALCULO, VALIDACION, TABLADEVALIDACION, TABLADEAYUDA, OPCIONES, TABLA, CAMPO, BASICO, MASCARA)
VALUES (37194, ' ', 0, 'Número de Puerta', 'Número de Puerta', 8, 'N', 0, NULL, 0, 0, 0, 0, 0, 0, 0, 3351, 'NUMERO', 0, NULL)
GO

INSERT INTO dbo.DICCIONARIO (NUMERODECAMPO, USODELCAMPO, REFERENCIA, DESCRIPCION, PROMPT, LARGO, TIPODECAMPO, DECIMALES, EDICION, CONTABILIZA, CONCEPTO, CALCULO, VALIDACION, TABLADEVALIDACION, TABLADEAYUDA, OPCIONES, TABLA, CAMPO, BASICO, MASCARA)
VALUES (37195, ' ', 0, 'Provincia Exterior', 'Provincia Exterior', 100, 'A', 0, NULL, 0, 0, 0, 0, 0, 0, 0, 3351, 'PROVINCIA_EXT', 0, NULL)
GO

INSERT INTO dbo.DICCIONARIO (NUMERODECAMPO, USODELCAMPO, REFERENCIA, DESCRIPCION, PROMPT, LARGO, TIPODECAMPO, DECIMALES, EDICION, CONTABILIZA, CONCEPTO, CALCULO, VALIDACION, TABLADEVALIDACION, TABLADEAYUDA, OPCIONES, TABLA, CAMPO, BASICO, MASCARA)
VALUES (37196, ' ', 0, 'Departamento Exterior', 'Departamento Exterior', 100, 'A', 0, NULL, 0, 0, 0, 0, 0, 0, 0, 3351, 'DEPARTAMENTO_EXT', 0, NULL)
GO

INSERT INTO dbo.DICCIONARIO (NUMERODECAMPO, USODELCAMPO, REFERENCIA, DESCRIPCION, PROMPT, LARGO, TIPODECAMPO, DECIMALES, EDICION, CONTABILIZA, CONCEPTO, CALCULO, VALIDACION, TABLADEVALIDACION, TABLADEAYUDA, OPCIONES, TABLA, CAMPO, BASICO, MASCARA)
VALUES (37197, ' ', 0, 'Localidad Exterior', 'Localidad Exterior', 100, 'A', 0, NULL, 0, 0, 0, 0, 0, 0, 0, 3351, 'LOCALIDAD_EXT', 0, NULL)
GO

INSERT INTO dbo.DICCIONARIO (NUMERODECAMPO, USODELCAMPO, REFERENCIA, DESCRIPCION, PROMPT, LARGO, TIPODECAMPO, DECIMALES, EDICION, CONTABILIZA, CONCEPTO, CALCULO, VALIDACION, TABLADEVALIDACION, TABLADEAYUDA, OPCIONES, TABLA, CAMPO, BASICO, MASCARA)
VALUES (37198, ' ', 0, 'Tipo de Cliente', 'Tipo de Cliente', 40, 'A', 0, NULL, 0, 0, 0, 0, 0, 0, 0, 3351, 'TIPO_CLIENTE', 0, NULL)
GO

INSERT INTO dbo.DICCIONARIO (NUMERODECAMPO, USODELCAMPO, REFERENCIA, DESCRIPCION, PROMPT, LARGO, TIPODECAMPO, DECIMALES, EDICION, CONTABILIZA, CONCEPTO, CALCULO, VALIDACION, TABLADEVALIDACION, TABLADEAYUDA, OPCIONES, TABLA, CAMPO, BASICO, MASCARA)
VALUES (37199, ' ', 0, 'Nombre del Cliente', 'Nombre del Cliente', 70, 'A', 0, NULL, 0, 0, 0, 0, 0, 0, 0, 3351, 'NOMBRECLIENTE', 0, NULL)
GO

INSERT INTO dbo.DICCIONARIO (NUMERODECAMPO, USODELCAMPO, REFERENCIA, DESCRIPCION, PROMPT, LARGO, TIPODECAMPO, DECIMALES, EDICION, CONTABILIZA, CONCEPTO, CALCULO, VALIDACION, TABLADEVALIDACION, TABLADEAYUDA, OPCIONES, TABLA, CAMPO, BASICO, MASCARA)
VALUES (37200, ' ', 0, 'Código del Cliente', 'Código del Cliente', 12, 'N', 0, NULL, 0, 0, 0, 0, 0, 0, 0, 3351, 'CODIGOCLIENTE', 0, NULL)
GO

INSERT INTO dbo.DICCIONARIO (NUMERODECAMPO, USODELCAMPO, REFERENCIA, DESCRIPCION, PROMPT, LARGO, TIPODECAMPO, DECIMALES, EDICION, CONTABILIZA, CONCEPTO, CALCULO, VALIDACION, TABLADEVALIDACION, TABLADEAYUDA, OPCIONES, TABLA, CAMPO, BASICO, MASCARA)
VALUES (37202, ' ', 0, 'Tipo de Persona', 'Tipo de Persona', 40, 'A', 0, NULL, 0, 0, 0, 0, 0, 0, 0, 3351, 'TIPOPERSONA', 0, NULL)
GO

---------------------------------------------------------------------------------------------------------------------------------------------------------------------
DROP VIEW VW_CLI_CORREOS
GO

CREATE VIEW dbo.VW_CLI_CORREOS  (
	TIPODOCUMENTO,
	NUMERODOCUMENTO,
	TIPO_DOC_FISICO,
 	NUM_DOC_FISICO,
	NOMBRE,
	FORMATO,
	DESC_FORMATO,
	TIPO,
	DESC_TIPO,
	ORDINAL,
	EMAIL,
	TIPO_CLIENTE,
	NOMBRECLIENTE,
	CODIGOCLIENTE,
	NUMEROPERSONA,
	TIPOPERSONA
)
AS
SELECT 
 	  v.TIPODOCUMENTO,
 	  v.NUMERODOCUMENTO,
 	  v.TIPO_DOC_FISICO,
 	  v.NUM_DOC_FISICO,
 	  concat(u.APELLIDOPATERNO,' ',u.PRIMERNOMBRE) AS NOMBRE,
   	  a.FORMATO,
   	  (SELECT DESCRIPCION FROM OPCIONES O WHERE O.IDIOMA = 'E' AND O.NUMERODECAMPO = 33460 AND O.OPCIONINTERNA= a.FORMATO) AS DESC_FORMATO,
   	  a.TIPO,
   	  (SELECT DESCRIPCION FROM OPCIONES O WHERE O.IDIOMA = 'E' AND O.NUMERODECAMPO = 33494 AND O.OPCIONINTERNA= a.TIPO) AS DESC_TIPO,
  	  a.ORDINAL,
   	  a.EMAIL,
   	  (SELECT DESCRIPCION FROM OPCIONES WHERE IDIOMA = 'E' AND NUMERODECAMPO = 1040 AND OPCIONINTERNA = r.tipo) AS TIPO_CLIENTE,
   	  R.NOMBRECLIENTE,
   	  R.CODIGOCLIENTE,  
      V.NUMEROPERSONAFJ AS NUMEROPERSONA, 
      (SELECT DESCRIPCION FROM OPCIONES WHERE IDIOMA = 'E' AND NUMERODECAMPO = 1861 AND OPCIONINTERNA = V.TIPOPERSONA) AS TIPOPERSONA        
   FROM 
      dbo.CLI_CLIENTES  AS R, 
      dbo.CLI_CLIENTEPERSONA  AS T, 
      dbo.CLI_PERSONASFISICAS  AS U, 
      dbo.CLI_DOCUMENTOSPFPJ  AS V,
      dbo.CLI_EMAILS AS A      
   WHERE 
      (R.CODIGOCLIENTE = T.CODIGOCLIENTE) AND 
      (U.NUMEROPERSONAFISICA = T.NUMEROPERSONA AND U.NUMEROPERSONAFISICA = V.NUMEROPERSONAFJ) AND 
      (T.TITULARIDAD='T') AND
      (T.NUMEROPERSONA=A.ID) AND (a.ID=t.NUMEROPERSONA) AND 
      ((R.TZ_LOCK < 300000000000000 OR R.TZ_LOCK >= 400000000000000) AND (R.TZ_LOCK < 100000000000000 OR R.TZ_LOCK >= 200000000000000)) AND 
      ((T.TZ_LOCK < 300000000000000 OR T.TZ_LOCK >= 400000000000000) AND (T.TZ_LOCK < 100000000000000 OR T.TZ_LOCK >= 200000000000000)) AND 
      ((U.TZ_LOCK < 300000000000000 OR U.TZ_LOCK >= 400000000000000) AND (U.TZ_LOCK < 100000000000000 OR U.TZ_LOCK >= 200000000000000)) AND 
      ((V.TZ_LOCK < 300000000000000 OR V.TZ_LOCK >= 400000000000000) AND (V.TZ_LOCK < 100000000000000 OR V.TZ_LOCK >= 200000000000000)) AND
      ((A.TZ_LOCK < 300000000000000 OR A.TZ_LOCK >= 400000000000000) AND (A.TZ_LOCK < 100000000000000 OR A.TZ_LOCK >= 200000000000000))
UNION ALL
SELECT 
      v.TIPODOCUMENTO,
 	  v.NUMERODOCUMENTO,
 	  v.TIPO_DOC_FISICO,
 	  v.NUM_DOC_FISICO,
 	  s.RAZONSOCIAL,
 	  a.FORMATO,
   	  (SELECT DESCRIPCION FROM OPCIONES O WHERE O.IDIOMA = 'E' AND O.NUMERODECAMPO = 33460 AND O.OPCIONINTERNA= a.FORMATO) AS DESC_FORMATO,
   	  a.TIPO,
   	  (SELECT DESCRIPCION FROM OPCIONES O WHERE O.IDIOMA = 'E' AND O.NUMERODECAMPO = 33494 AND O.OPCIONINTERNA= a.TIPO) AS DESC_TIPO,
   	  a.ORDINAL,
   	  a.EMAIL,
   	  (SELECT DESCRIPCION FROM OPCIONES WHERE IDIOMA = 'E' AND NUMERODECAMPO = 1040 AND OPCIONINTERNA = r.tipo) AS TIPO_CLIENTE,
   	  R.NOMBRECLIENTE,
   	  R.CODIGOCLIENTE,  
      V.NUMEROPERSONAFJ AS NUMEROPERSONA, 
      (SELECT DESCRIPCION FROM OPCIONES WHERE IDIOMA = 'E' AND NUMERODECAMPO = 1861 AND OPCIONINTERNA = V.TIPOPERSONA) AS TIPOPERSONA     
   FROM 
      dbo.CLI_CLIENTES  AS R, 
      dbo.CLI_PERSONASJURIDICAS  AS S, 
      dbo.CLI_CLIENTEPERSONA  AS T, 
      dbo.CLI_DOCUMENTOSPFPJ  AS V,
      dbo.CLI_EMAILS AS A
   WHERE 
      (R.CODIGOCLIENTE = T.CODIGOCLIENTE) AND 
      (S.NUMEROPERSONAJURIDICA = T.NUMEROPERSONA AND S.NUMEROPERSONAJURIDICA = V.NUMEROPERSONAFJ) AND 
      (T.TITULARIDAD='T') AND
      (T.NUMEROPERSONA=A.ID) AND (a.ID=s.NUMEROPERSONAJURIDICA) AND 
      ((R.TZ_LOCK < 300000000000000 OR R.TZ_LOCK >= 400000000000000) AND (R.TZ_LOCK < 100000000000000 OR R.TZ_LOCK >= 200000000000000)) AND 
      ((T.TZ_LOCK < 300000000000000 OR T.TZ_LOCK >= 400000000000000) AND (T.TZ_LOCK < 100000000000000 OR T.TZ_LOCK >= 200000000000000)) AND 
      ((S.TZ_LOCK < 300000000000000 OR S.TZ_LOCK >= 400000000000000) AND (S.TZ_LOCK < 100000000000000 OR S.TZ_LOCK >= 200000000000000)) AND 
      ((V.TZ_LOCK < 300000000000000 OR V.TZ_LOCK >= 400000000000000) AND (V.TZ_LOCK < 100000000000000 OR V.TZ_LOCK >= 200000000000000)) AND
      ((A.TZ_LOCK < 300000000000000 OR A.TZ_LOCK >= 400000000000000) AND (A.TZ_LOCK < 100000000000000 OR A.TZ_LOCK >= 200000000000000))
GO



INSERT INTO dbo.DESCRIPTORES (TITULO, IDENTIFICACION, TIPODEARCHIVO, DESCRIPCION, GRUPODELMAPA, NOMBREFISICO, TIPODEDBMS, LARGODELREGISTRO, INICIALIZACIONDELREGISTRO, BASE, SELECCION, ACEPTA_MOVS_DIFERIDO)
VALUES (10, 3352, NULL, 'Vista Correos Clientes', 0, 'VW_CLI_CORREOS', 'D', NULL, NULL, 'TOP/CLIENTES', NULL, 'N')
GO


INSERT INTO dbo.INDICES (NUMERODEARCHIVO, NUMERODEINDICE, DESCRIPCION, CLAVESREPETIDAS, CAMPO1, CAMPO2, CAMPO3, CAMPO4, CAMPO5, CAMPO6, CAMPO7, CAMPO8, CAMPO9, CAMPO10, CAMPO11, CAMPO12, CAMPO13, CAMPO14, CAMPO15, CAMPO16, CAMPO17, CAMPO18, CAMPO19, CAMPO20)
VALUES (3352, 1, 'Indice Vista Correos Clientes', 0, 37207, 37208, 37210, 37212, 37216, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL)
GO


INSERT INTO dbo.AYUDAS (NUMERODEARCHIVO, NUMERODEAYUDA, DESCRIPCION, FILTRO, MOSTRARTODOS, CAMPOS, CAMPOSVISTA, BASEVISTA, NOMBREVISTA, AYUDAGRANDE)
VALUES (3352, 33521, 'Ayuda Vista Correos Clientes', '', 0, '37201;37203;37204;37205;37206;37207R;37208R;37209;37210R;37211;37212R;37213;37214;37215;37216R;37217;', NULL, NULL, NULL, 0)
GO

INSERT INTO dbo.DICCIONARIO (NUMERODECAMPO, USODELCAMPO, REFERENCIA, DESCRIPCION, PROMPT, LARGO, TIPODECAMPO, DECIMALES, EDICION, CONTABILIZA, CONCEPTO, CALCULO, VALIDACION, TABLADEVALIDACION, TABLADEAYUDA, OPCIONES, TABLA, CAMPO, BASICO, MASCARA)
VALUES (37201, ' ', 0, 'Tipo de Documento', 'Tipo de Documento', 4, 'A', 0, NULL, 0, 0, 0, 0, 0, 0, 0, 3352, 'TIPODOCUMENTO', 0, NULL)
GO

INSERT INTO dbo.DICCIONARIO (NUMERODECAMPO, USODELCAMPO, REFERENCIA, DESCRIPCION, PROMPT, LARGO, TIPODECAMPO, DECIMALES, EDICION, CONTABILIZA, CONCEPTO, CALCULO, VALIDACION, TABLADEVALIDACION, TABLADEAYUDA, OPCIONES, TABLA, CAMPO, BASICO, MASCARA)
VALUES (37203, ' ', 0, 'Número de Documento', 'Número de Documento', 20, 'A', 0, NULL, 0, 0, 0, 0, 0, 0, 0, 3352, 'NUMERODOCUMENTO', 0, NULL)
GO

INSERT INTO dbo.DICCIONARIO (NUMERODECAMPO, USODELCAMPO, REFERENCIA, DESCRIPCION, PROMPT, LARGO, TIPODECAMPO, DECIMALES, EDICION, CONTABILIZA, CONCEPTO, CALCULO, VALIDACION, TABLADEVALIDACION, TABLADEAYUDA, OPCIONES, TABLA, CAMPO, BASICO, MASCARA)
VALUES (37204, ' ', 0, 'Tipo de Documento Físico', 'Tipo de Documento Físico', 4, 'A', 0, NULL, 0, 0, 0, 0, 0, 0, 0, 3352, 'TIPO_DOC_FISICO', 0, NULL)
GO

INSERT INTO dbo.DICCIONARIO (NUMERODECAMPO, USODELCAMPO, REFERENCIA, DESCRIPCION, PROMPT, LARGO, TIPODECAMPO, DECIMALES, EDICION, CONTABILIZA, CONCEPTO, CALCULO, VALIDACION, TABLADEVALIDACION, TABLADEAYUDA, OPCIONES, TABLA, CAMPO, BASICO, MASCARA)
VALUES (37205, ' ', 0, 'Número de Documento Físico', 'Número de Documento Físico', 20, 'A', 0, NULL, 0, 0, 0, 0, 0, 0, 0, 3352, 'NUM_DOC_FISICO', 0, NULL)
GO

INSERT INTO dbo.DICCIONARIO (NUMERODECAMPO, USODELCAMPO, REFERENCIA, DESCRIPCION, PROMPT, LARGO, TIPODECAMPO, DECIMALES, EDICION, CONTABILIZA, CONCEPTO, CALCULO, VALIDACION, TABLADEVALIDACION, TABLADEAYUDA, OPCIONES, TABLA, CAMPO, BASICO, MASCARA)
VALUES (37206, ' ', 0, 'Nombres y Apellidos / Razón Social', 'Nombres y Apellidos / Razón Social', 70, 'A', 0, NULL, 0, 0, 0, 0, 0, 0, 0, 3352, 'NOMBRE', 0, NULL)
GO

INSERT INTO dbo.DICCIONARIO (NUMERODECAMPO, USODELCAMPO, REFERENCIA, DESCRIPCION, PROMPT, LARGO, TIPODECAMPO, DECIMALES, EDICION, CONTABILIZA, CONCEPTO, CALCULO, VALIDACION, TABLADEVALIDACION, TABLADEAYUDA, OPCIONES, TABLA, CAMPO, BASICO, MASCARA)
VALUES (37207, ' ', 0, 'Número de Persona', 'Número de Persona', 12, 'N', 0, NULL, 0, 0, 0, 0, 0, 33521, 0, 3352, 'NUMEROPERSONA', 0, NULL)
GO

INSERT INTO dbo.DICCIONARIO (NUMERODECAMPO, USODELCAMPO, REFERENCIA, DESCRIPCION, PROMPT, LARGO, TIPODECAMPO, DECIMALES, EDICION, CONTABILIZA, CONCEPTO, CALCULO, VALIDACION, TABLADEVALIDACION, TABLADEAYUDA, OPCIONES, TABLA, CAMPO, BASICO, MASCARA)
VALUES (37208, ' ', 0, 'Formato', 'Formato', 2, 'A', 0, NULL, 0, 0, 0, 0, 0, 0, 0, 3352, 'FORMATO', 0, NULL)
GO

INSERT INTO dbo.DICCIONARIO (NUMERODECAMPO, USODELCAMPO, REFERENCIA, DESCRIPCION, PROMPT, LARGO, TIPODECAMPO, DECIMALES, EDICION, CONTABILIZA, CONCEPTO, CALCULO, VALIDACION, TABLADEVALIDACION, TABLADEAYUDA, OPCIONES, TABLA, CAMPO, BASICO, MASCARA)
VALUES (37209, ' ', 0, 'Descripción Formato', 'Descripción Formato', 40, 'A', 0, NULL, 0, 0, 0, 0, 0, 0, 0, 3352, 'DESC_FORMATO', 0, NULL)
GO

INSERT INTO dbo.DICCIONARIO (NUMERODECAMPO, USODELCAMPO, REFERENCIA, DESCRIPCION, PROMPT, LARGO, TIPODECAMPO, DECIMALES, EDICION, CONTABILIZA, CONCEPTO, CALCULO, VALIDACION, TABLADEVALIDACION, TABLADEAYUDA, OPCIONES, TABLA, CAMPO, BASICO, MASCARA)
VALUES (37210, ' ', 0, 'Tipo de Dirección', 'Tipo de Dirección', 2, 'A', 0, NULL, 0, 0, 0, 0, 0, 0, 0, 3352, 'TIPO', 0, NULL)
GO

INSERT INTO dbo.DICCIONARIO (NUMERODECAMPO, USODELCAMPO, REFERENCIA, DESCRIPCION, PROMPT, LARGO, TIPODECAMPO, DECIMALES, EDICION, CONTABILIZA, CONCEPTO, CALCULO, VALIDACION, TABLADEVALIDACION, TABLADEAYUDA, OPCIONES, TABLA, CAMPO, BASICO, MASCARA)
VALUES (37211, ' ', 0, 'Descripción del Tipo de Dirección', 'Descripción del Tipo de Dirección', 40, 'A', 0, NULL, 0, 0, 0, 0, 0, 0, 0, 3352, 'DESC_TIPO', 0, NULL)
GO

INSERT INTO dbo.DICCIONARIO (NUMERODECAMPO, USODELCAMPO, REFERENCIA, DESCRIPCION, PROMPT, LARGO, TIPODECAMPO, DECIMALES, EDICION, CONTABILIZA, CONCEPTO, CALCULO, VALIDACION, TABLADEVALIDACION, TABLADEAYUDA, OPCIONES, TABLA, CAMPO, BASICO, MASCARA)
VALUES (37212, ' ', 0, 'Ordinal', 'Ordinal', 3, 'N', 0, NULL, 0, 0, 0, 0, 0, 0, 0, 3352, 'ORDINAL', 0, NULL)
GO

INSERT INTO dbo.DICCIONARIO (NUMERODECAMPO, USODELCAMPO, REFERENCIA, DESCRIPCION, PROMPT, LARGO, TIPODECAMPO, DECIMALES, EDICION, CONTABILIZA, CONCEPTO, CALCULO, VALIDACION, TABLADEVALIDACION, TABLADEAYUDA, OPCIONES, TABLA, CAMPO, BASICO, MASCARA)
VALUES (37213, ' ', 0, 'Email', 'Email', 250, 'A', 0, NULL, 0, 0, 0, 0, 0, 0, 0, 3352, 'EMAIL', 0, NULL)
GO

INSERT INTO dbo.DICCIONARIO (NUMERODECAMPO, USODELCAMPO, REFERENCIA, DESCRIPCION, PROMPT, LARGO, TIPODECAMPO, DECIMALES, EDICION, CONTABILIZA, CONCEPTO, CALCULO, VALIDACION, TABLADEVALIDACION, TABLADEAYUDA, OPCIONES, TABLA, CAMPO, BASICO, MASCARA)
VALUES (37214, ' ', 0, 'Tipo de Cliente', 'Tipo de Cliente', 40, 'A', 0, NULL, 0, 0, 0, 0, 0, 0, 0, 3352, 'TIPO_CLIENTE', 0, NULL)
GO

INSERT INTO dbo.DICCIONARIO (NUMERODECAMPO, USODELCAMPO, REFERENCIA, DESCRIPCION, PROMPT, LARGO, TIPODECAMPO, DECIMALES, EDICION, CONTABILIZA, CONCEPTO, CALCULO, VALIDACION, TABLADEVALIDACION, TABLADEAYUDA, OPCIONES, TABLA, CAMPO, BASICO, MASCARA)
VALUES (37215, ' ', 0, 'Nombre del Cliente', 'Nombre del Cliente', 70, 'A', 0, NULL, 0, 0, 0, 0, 0, 0, 0, 3352, 'NOMBRECLIENTE', 0, NULL)
GO

INSERT INTO dbo.DICCIONARIO (NUMERODECAMPO, USODELCAMPO, REFERENCIA, DESCRIPCION, PROMPT, LARGO, TIPODECAMPO, DECIMALES, EDICION, CONTABILIZA, CONCEPTO, CALCULO, VALIDACION, TABLADEVALIDACION, TABLADEAYUDA, OPCIONES, TABLA, CAMPO, BASICO, MASCARA)
VALUES (37216, ' ', 0, 'Código del Cliente', 'Código del Cliente', 12, 'N', 0, NULL, 0, 0, 0, 0, 0, 0, 0, 3352, 'CODIGOCLIENTE', 0, NULL)
GO

INSERT INTO dbo.DICCIONARIO (NUMERODECAMPO, USODELCAMPO, REFERENCIA, DESCRIPCION, PROMPT, LARGO, TIPODECAMPO, DECIMALES, EDICION, CONTABILIZA, CONCEPTO, CALCULO, VALIDACION, TABLADEVALIDACION, TABLADEAYUDA, OPCIONES, TABLA, CAMPO, BASICO, MASCARA)
VALUES (37217, ' ', 0, 'Tipo de Persona', 'Tipo de Persona', 40, 'A', 0, NULL, 0, 0, 0, 0, 0, 0, 0, 3352, 'TIPOPERSONA', 0, NULL)
GO

-------------------------------------------------------------------------------------------------------------------------------------------------------------------
DROP VIEW VW_CLI_TELEFONOS
GO

CREATE VIEW dbo.VW_CLI_TELEFONOS  (
	TIPODOCUMENTO,
	NUMERODOCUMENTO,
    TIPO_DOC_FISICO,
	NUM_DOC_FISICO,
	NOMBRE,
	FORMATO,
	DESC_FORMATO,
	TIPO,
	DESC_TIPO,
	ORDINAL,
	TIPO_CEL_FIJO,
	NUMERO,
	TIPO_CLIENTE,
	NOMBRECLIENTE,
	CODIGOCLIENTE,
	NUMEROPERSONA,
	TIPOPERSONA
)
AS
 SELECT 
 	  v.TIPODOCUMENTO,
 	  v.NUMERODOCUMENTO,
 	  v.TIPO_DOC_FISICO,
      v.NUM_DOC_FISICO,
 	  concat(u.APELLIDOPATERNO,' ',u.PRIMERNOMBRE) AS NOMBRE,
   	  a.FORMATO,
      (SELECT DESCRIPCION FROM OPCIONES O WHERE O.IDIOMA = 'E' AND O.NUMERODECAMPO = 33426 AND O.OPCIONINTERNA= a.FORMATO) AS DESC_FORMATO,
   	  a.TIPO,
   	  (SELECT DESCRIPCION FROM OPCIONES O WHERE O.IDIOMA = 'E' AND O.NUMERODECAMPO = 33427 AND O.OPCIONINTERNA= a.TIPO) AS DESC_TIPO,
   	  a.ORDINAL,
   	  (SELECT DESCRIPCION FROM OPCIONES WHERE IDIOMA = 'E' AND NUMERODECAMPO = 33435 AND OPCIONINTERNA = a.TIPO_CEL_TEL) AS TIPO_CEL_FIJO,
   	  a.NUMERO,
   	  (SELECT DESCRIPCION FROM OPCIONES WHERE IDIOMA = 'E' AND NUMERODECAMPO = 1040 AND OPCIONINTERNA = r.tipo) AS TIPO_CLIENTE,
   	  R.NOMBRECLIENTE,
   	  R.CODIGOCLIENTE,  
      V.NUMEROPERSONAFJ AS NUMEROPERSONA, 
      (SELECT DESCRIPCION FROM OPCIONES WHERE IDIOMA = 'E' AND NUMERODECAMPO = 1861 AND OPCIONINTERNA = V.TIPOPERSONA) AS TIPOPERSONA     
         
   FROM 
      dbo.CLI_CLIENTES  AS R, 
      dbo.CLI_CLIENTEPERSONA  AS T, 
      dbo.CLI_PERSONASFISICAS  AS U, 
      dbo.CLI_DOCUMENTOSPFPJ  AS V,
      dbo.CLI_TELEFONOS AS A
       
      
   WHERE 
      (R.CODIGOCLIENTE = T.CODIGOCLIENTE) AND 
      (U.NUMEROPERSONAFISICA = T.NUMEROPERSONA AND U.NUMEROPERSONAFISICA = V.NUMEROPERSONAFJ) AND 
      (T.TITULARIDAD='T') AND
      (T.NUMEROPERSONA=A.ID) AND (a.ID=t.NUMEROPERSONA) AND 
      ((R.TZ_LOCK < 300000000000000 OR R.TZ_LOCK >= 400000000000000) AND (R.TZ_LOCK < 100000000000000 OR R.TZ_LOCK >= 200000000000000)) AND 
      ((T.TZ_LOCK < 300000000000000 OR T.TZ_LOCK >= 400000000000000) AND (T.TZ_LOCK < 100000000000000 OR T.TZ_LOCK >= 200000000000000)) AND 
      ((U.TZ_LOCK < 300000000000000 OR U.TZ_LOCK >= 400000000000000) AND (U.TZ_LOCK < 100000000000000 OR U.TZ_LOCK >= 200000000000000)) AND 
      ((V.TZ_LOCK < 300000000000000 OR V.TZ_LOCK >= 400000000000000) AND (V.TZ_LOCK < 100000000000000 OR V.TZ_LOCK >= 200000000000000)) AND
      ((A.TZ_LOCK < 300000000000000 OR A.TZ_LOCK >= 400000000000000) AND (A.TZ_LOCK < 100000000000000 OR A.TZ_LOCK >= 200000000000000))
UNION ALL
SELECT 
      v.TIPODOCUMENTO,
 	  v.NUMERODOCUMENTO,
 	  v.TIPO_DOC_FISICO,
      v.NUM_DOC_FISICO,
 	  s.RAZONSOCIAL,
 	  a.FORMATO,
 	  (SELECT DESCRIPCION FROM OPCIONES O WHERE O.IDIOMA = 'E' AND O.NUMERODECAMPO = 33426 AND O.OPCIONINTERNA= a.FORMATO) AS DESC_FORMATO,
   	  a.TIPO,
   	  (SELECT DESCRIPCION FROM OPCIONES O WHERE O.IDIOMA = 'E' AND O.NUMERODECAMPO = 33427 AND O.OPCIONINTERNA= a.TIPO) AS DESC_TIPO,
   	  a.ORDINAL,
   	  (SELECT DESCRIPCION FROM OPCIONES WHERE IDIOMA = 'E' AND NUMERODECAMPO = 33435 AND OPCIONINTERNA = a.TIPO_CEL_TEL) AS TIPO_CEL_TEL,
   	  a.NUMERO,
   	  (SELECT DESCRIPCION FROM OPCIONES WHERE IDIOMA = 'E' AND NUMERODECAMPO = 1040 AND OPCIONINTERNA = r.tipo) AS TIPO_CLIENTE,
   	  R.NOMBRECLIENTE,
   	  R.CODIGOCLIENTE,  
      V.NUMEROPERSONAFJ AS NUMEROPERSONA, 
      (SELECT DESCRIPCION FROM OPCIONES WHERE IDIOMA = 'E' AND NUMERODECAMPO = 1861 AND OPCIONINTERNA = V.TIPOPERSONA) AS TIPOPERSONA     
   FROM 
      dbo.CLI_CLIENTES  AS R, 
      dbo.CLI_PERSONASJURIDICAS  AS S, 
      dbo.CLI_CLIENTEPERSONA  AS T, 
      dbo.CLI_DOCUMENTOSPFPJ  AS V,
      dbo.CLI_TELEFONOS AS A
   WHERE 
      (R.CODIGOCLIENTE = T.CODIGOCLIENTE) AND 
      (S.NUMEROPERSONAJURIDICA = T.NUMEROPERSONA AND S.NUMEROPERSONAJURIDICA = V.NUMEROPERSONAFJ) AND 
      (T.TITULARIDAD='T') AND
      (T.NUMEROPERSONA=A.ID) AND (a.ID=s.NUMEROPERSONAJURIDICA) AND 
      ((R.TZ_LOCK < 300000000000000 OR R.TZ_LOCK >= 400000000000000) AND (R.TZ_LOCK < 100000000000000 OR R.TZ_LOCK >= 200000000000000)) AND 
      ((T.TZ_LOCK < 300000000000000 OR T.TZ_LOCK >= 400000000000000) AND (T.TZ_LOCK < 100000000000000 OR T.TZ_LOCK >= 200000000000000)) AND 
      ((S.TZ_LOCK < 300000000000000 OR S.TZ_LOCK >= 400000000000000) AND (S.TZ_LOCK < 100000000000000 OR S.TZ_LOCK >= 200000000000000)) AND 
      ((V.TZ_LOCK < 300000000000000 OR V.TZ_LOCK >= 400000000000000) AND (V.TZ_LOCK < 100000000000000 OR V.TZ_LOCK >= 200000000000000)) AND
      ((A.TZ_LOCK < 300000000000000 OR A.TZ_LOCK >= 400000000000000) AND (A.TZ_LOCK < 100000000000000 OR A.TZ_LOCK >= 200000000000000))
GO

INSERT INTO dbo.DESCRIPTORES (TITULO, IDENTIFICACION, TIPODEARCHIVO, DESCRIPCION, GRUPODELMAPA, NOMBREFISICO, TIPODEDBMS, LARGODELREGISTRO, INICIALIZACIONDELREGISTRO, BASE, SELECCION, ACEPTA_MOVS_DIFERIDO)
VALUES (10, 3355, NULL, 'Vista Teléfonos Clientes', 0, 'VW_CLI_TELEFONOS', 'D', NULL, NULL, 'TOP/CLIENTES', NULL, 'N')
GO
INSERT INTO dbo.INDICES (NUMERODEARCHIVO, NUMERODEINDICE, DESCRIPCION, CLAVESREPETIDAS, CAMPO1, CAMPO2, CAMPO3, CAMPO4, CAMPO5, CAMPO6, CAMPO7, CAMPO8, CAMPO9, CAMPO10, CAMPO11, CAMPO12, CAMPO13, CAMPO14, CAMPO15, CAMPO16, CAMPO17, CAMPO18, CAMPO19, CAMPO20)
VALUES (3355, 1, 'Indice Vista Teléfonos Cliente', 0, 37223, 37224, 37226, 37228, 37233, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL)
GO


INSERT INTO dbo.AYUDAS (NUMERODEARCHIVO, NUMERODEAYUDA, DESCRIPCION, FILTRO, MOSTRARTODOS, CAMPOS, CAMPOSVISTA, BASEVISTA, NOMBREVISTA, AYUDAGRANDE)
VALUES (3355, 33551, 'Ayuda Vista Teléfonos Cliente', '', 0, '37218;37219;37220;37221;37222;37223R;37224R;37225;37226R;37227;37228R;37229;37230;37231;37232;37233R;37234;', NULL, NULL, NULL, 0)
GO


INSERT INTO dbo.DICCIONARIO (NUMERODECAMPO, USODELCAMPO, REFERENCIA, DESCRIPCION, PROMPT, LARGO, TIPODECAMPO, DECIMALES, EDICION, CONTABILIZA, CONCEPTO, CALCULO, VALIDACION, TABLADEVALIDACION, TABLADEAYUDA, OPCIONES, TABLA, CAMPO, BASICO, MASCARA)
VALUES (37218, ' ', 0, 'Tipo de Documento', 'Tipo de Documento', 4, 'A', 0, NULL, 0, 0, 0, 0, 0, 0, 0, 3355, 'TIPODOCUMENTO', 0, NULL)
GO

INSERT INTO dbo.DICCIONARIO (NUMERODECAMPO, USODELCAMPO, REFERENCIA, DESCRIPCION, PROMPT, LARGO, TIPODECAMPO, DECIMALES, EDICION, CONTABILIZA, CONCEPTO, CALCULO, VALIDACION, TABLADEVALIDACION, TABLADEAYUDA, OPCIONES, TABLA, CAMPO, BASICO, MASCARA)
VALUES (37219, ' ', 0, 'Número de Documento', 'Número de Documento', 20, 'A', 0, NULL, 0, 0, 0, 0, 0, 0, 0, 3355, 'NUMERODOCUMENTO', 0, NULL)
GO

INSERT INTO dbo.DICCIONARIO (NUMERODECAMPO, USODELCAMPO, REFERENCIA, DESCRIPCION, PROMPT, LARGO, TIPODECAMPO, DECIMALES, EDICION, CONTABILIZA, CONCEPTO, CALCULO, VALIDACION, TABLADEVALIDACION, TABLADEAYUDA, OPCIONES, TABLA, CAMPO, BASICO, MASCARA)
VALUES (37220, ' ', 0, 'Tipo de Documento Físico', 'Tipo de Documento Físico', 4, 'A', 0, NULL, 0, 0, 0, 0, 0, 0, 0, 3355, 'TIPO_DOC_FISICO', 0, NULL)
GO

INSERT INTO dbo.DICCIONARIO (NUMERODECAMPO, USODELCAMPO, REFERENCIA, DESCRIPCION, PROMPT, LARGO, TIPODECAMPO, DECIMALES, EDICION, CONTABILIZA, CONCEPTO, CALCULO, VALIDACION, TABLADEVALIDACION, TABLADEAYUDA, OPCIONES, TABLA, CAMPO, BASICO, MASCARA)
VALUES (37221, ' ', 0, 'Número de Documento Físico', 'Número de Documento Físico', 20, 'A', 0, NULL, 0, 0, 0, 0, 0, 0, 0, 3355, 'NUM_DOC_FISICO', 0, NULL)
GO

INSERT INTO dbo.DICCIONARIO (NUMERODECAMPO, USODELCAMPO, REFERENCIA, DESCRIPCION, PROMPT, LARGO, TIPODECAMPO, DECIMALES, EDICION, CONTABILIZA, CONCEPTO, CALCULO, VALIDACION, TABLADEVALIDACION, TABLADEAYUDA, OPCIONES, TABLA, CAMPO, BASICO, MASCARA)
VALUES (37222, ' ', 0, 'Nombres y Apellidos / Razón Social', 'Nombres y Apellidos / Razón Social', 70, 'A', 0, NULL, 0, 0, 0, 0, 0, 0, 0, 3355, 'NOMBRE', 0, NULL)
GO

INSERT INTO dbo.DICCIONARIO (NUMERODECAMPO, USODELCAMPO, REFERENCIA, DESCRIPCION, PROMPT, LARGO, TIPODECAMPO, DECIMALES, EDICION, CONTABILIZA, CONCEPTO, CALCULO, VALIDACION, TABLADEVALIDACION, TABLADEAYUDA, OPCIONES, TABLA, CAMPO, BASICO, MASCARA)
VALUES (37223, ' ', 0, 'Número de Persona', 'Número de Persona', 12, 'N', 0, NULL, 0, 0, 0, 0, 0, 33551, 0, 3355, 'NUMEROPERSONA', 0, NULL)
GO

INSERT INTO dbo.DICCIONARIO (NUMERODECAMPO, USODELCAMPO, REFERENCIA, DESCRIPCION, PROMPT, LARGO, TIPODECAMPO, DECIMALES, EDICION, CONTABILIZA, CONCEPTO, CALCULO, VALIDACION, TABLADEVALIDACION, TABLADEAYUDA, OPCIONES, TABLA, CAMPO, BASICO, MASCARA)
VALUES (37224, ' ', 0, 'Formato', 'Formato', 2, 'A', 0, NULL, 0, 0, 0, 0, 0, 0, 0, 3355, 'FORMATO', 0, NULL)
GO

INSERT INTO dbo.DICCIONARIO (NUMERODECAMPO, USODELCAMPO, REFERENCIA, DESCRIPCION, PROMPT, LARGO, TIPODECAMPO, DECIMALES, EDICION, CONTABILIZA, CONCEPTO, CALCULO, VALIDACION, TABLADEVALIDACION, TABLADEAYUDA, OPCIONES, TABLA, CAMPO, BASICO, MASCARA)
VALUES (37225, ' ', 0, 'Descripción Formato', 'Descripción Formato', 40, 'A', 0, NULL, 0, 0, 0, 0, 0, 0, 0, 3355, 'DESC_FORMATO', 0, NULL)
GO

INSERT INTO dbo.DICCIONARIO (NUMERODECAMPO, USODELCAMPO, REFERENCIA, DESCRIPCION, PROMPT, LARGO, TIPODECAMPO, DECIMALES, EDICION, CONTABILIZA, CONCEPTO, CALCULO, VALIDACION, TABLADEVALIDACION, TABLADEAYUDA, OPCIONES, TABLA, CAMPO, BASICO, MASCARA)
VALUES (37226, ' ', 0, 'Tipo de Dirección', 'Tipo de Dirección', 2, 'A', 0, NULL, 0, 0, 0, 0, 0, 0, 0, 3355, 'TIPO', 0, NULL)
GO

INSERT INTO dbo.DICCIONARIO (NUMERODECAMPO, USODELCAMPO, REFERENCIA, DESCRIPCION, PROMPT, LARGO, TIPODECAMPO, DECIMALES, EDICION, CONTABILIZA, CONCEPTO, CALCULO, VALIDACION, TABLADEVALIDACION, TABLADEAYUDA, OPCIONES, TABLA, CAMPO, BASICO, MASCARA)
VALUES (37227, ' ', 0, 'Descripción del Tipo de Dirección', 'Descripción del Tipo de Dirección', 40, 'A', 0, NULL, 0, 0, 0, 0, 0, 0, 0, 3355, 'DESC_TIPO', 0, NULL)
GO

INSERT INTO dbo.DICCIONARIO (NUMERODECAMPO, USODELCAMPO, REFERENCIA, DESCRIPCION, PROMPT, LARGO, TIPODECAMPO, DECIMALES, EDICION, CONTABILIZA, CONCEPTO, CALCULO, VALIDACION, TABLADEVALIDACION, TABLADEAYUDA, OPCIONES, TABLA, CAMPO, BASICO, MASCARA)
VALUES (37228, ' ', 0, 'Ordinal', 'Ordinal', 3, 'N', 0, NULL, 0, 0, 0, 0, 0, 0, 0, 3355, 'ORDINAL', 0, NULL)
GO

INSERT INTO dbo.DICCIONARIO (NUMERODECAMPO, USODELCAMPO, REFERENCIA, DESCRIPCION, PROMPT, LARGO, TIPODECAMPO, DECIMALES, EDICION, CONTABILIZA, CONCEPTO, CALCULO, VALIDACION, TABLADEVALIDACION, TABLADEAYUDA, OPCIONES, TABLA, CAMPO, BASICO, MASCARA)
VALUES (37229, ' ', 0, 'Tipo Fijo/Celular', 'Tipo Fijo/Celular', 40, 'A', 0, NULL, 0, 0, 0, 0, 0, 0, 0, 3355, 'TIPO_CEL_FIJO', 0, NULL)
GO

INSERT INTO dbo.DICCIONARIO (NUMERODECAMPO, USODELCAMPO, REFERENCIA, DESCRIPCION, PROMPT, LARGO, TIPODECAMPO, DECIMALES, EDICION, CONTABILIZA, CONCEPTO, CALCULO, VALIDACION, TABLADEVALIDACION, TABLADEAYUDA, OPCIONES, TABLA, CAMPO, BASICO, MASCARA)
VALUES (37230, ' ', 0, 'Número', 'Número', 17, 'A', 0, NULL, 0, 0, 0, 0, 0, 0, 0, 3355, 'NUMERO', 0, NULL)
GO

INSERT INTO dbo.DICCIONARIO (NUMERODECAMPO, USODELCAMPO, REFERENCIA, DESCRIPCION, PROMPT, LARGO, TIPODECAMPO, DECIMALES, EDICION, CONTABILIZA, CONCEPTO, CALCULO, VALIDACION, TABLADEVALIDACION, TABLADEAYUDA, OPCIONES, TABLA, CAMPO, BASICO, MASCARA)
VALUES (37231, ' ', 0, 'Tipo de Cliente', 'Tipo de Cliente', 40, 'A', 0, NULL, 0, 0, 0, 0, 0, 0, 0, 3355, 'TIPO_CLIENTE', 0, NULL)
GO

INSERT INTO dbo.DICCIONARIO (NUMERODECAMPO, USODELCAMPO, REFERENCIA, DESCRIPCION, PROMPT, LARGO, TIPODECAMPO, DECIMALES, EDICION, CONTABILIZA, CONCEPTO, CALCULO, VALIDACION, TABLADEVALIDACION, TABLADEAYUDA, OPCIONES, TABLA, CAMPO, BASICO, MASCARA)
VALUES (37232, ' ', 0, 'Nombre del Cliente', 'Nombre del Cliente', 70, 'A', 0, NULL, 0, 0, 0, 0, 0, 0, 0, 3355, 'NOMBRECLIENTE', 0, NULL)
GO

INSERT INTO dbo.DICCIONARIO (NUMERODECAMPO, USODELCAMPO, REFERENCIA, DESCRIPCION, PROMPT, LARGO, TIPODECAMPO, DECIMALES, EDICION, CONTABILIZA, CONCEPTO, CALCULO, VALIDACION, TABLADEVALIDACION, TABLADEAYUDA, OPCIONES, TABLA, CAMPO, BASICO, MASCARA)
VALUES (37233, ' ', 0, 'Código del Cliente', 'Código del Cliente', 12, 'N', 0, NULL, 0, 0, 0, 0, 0, 0, 0, 3355, 'CODIGOCLIENTE', 0, NULL)
GO

INSERT INTO dbo.DICCIONARIO (NUMERODECAMPO, USODELCAMPO, REFERENCIA, DESCRIPCION, PROMPT, LARGO, TIPODECAMPO, DECIMALES, EDICION, CONTABILIZA, CONCEPTO, CALCULO, VALIDACION, TABLADEVALIDACION, TABLADEAYUDA, OPCIONES, TABLA, CAMPO, BASICO, MASCARA)
VALUES (37234, ' ', 0, 'Tipo de Persona', 'Tipo de Persona', 40, 'A', 0, NULL, 0, 0, 0, 0, 0, 0, 0, 3355, 'TIPOPERSONA', 0, NULL)
GO

