


-- Parche_NUBANKIBR_183

-- Tabla para almacenar códigos de errores conocidos de los Servicios interpretados
CREATE TABLE ERROR_CODE_WS
(
  TZ_LOCK NUMERIC(15) default (0) not null,
  CODIGO    		VARCHAR(50) not null,
  CODIGO_HTTP    	NUMERIC(5) not null,
  DESCRIPCION 		VARCHAR(100)
);

ALTER TABLE ERROR_CODE_WS ADD CONSTRAINT PK_ERROR_CODE_WS primary key (CODIGO);

INSERT INTO ERROR_CODE_WS (CODIGO, CODIGO_HTTP, DESCRIPCION) values ('CancelledControlException', 500, 'Control de cuenta cerrada');

INSERT INTO ERROR_CODE_WS (CODIGO, CODIGO_HTTP, DESCRIPCION) values ('ConcurrencyException', 500, 'Control de concurrencia sobre registros');

INSERT INTO ERROR_CODE_WS (CODIGO, CODIGO_HTTP, DESCRIPCION) values ('LockControlException', 500, 'Control de bloqueos en cuentas');

INSERT INTO ERROR_CODE_WS (CODIGO, CODIGO_HTTP, DESCRIPCION) values ('OverdraftControlException', 412, 'Control de sobregiro de cuenta');

INSERT INTO ERROR_CODE_WS (CODIGO, CODIGO_HTTP, DESCRIPCION) values ('UncheckedDataException', 412, 'Control de existencia de dato');




INSERT INTO BITACORA_HM (ACTUALIZACION,FECHA_APLICADO,TIPO_ACTUALIZACION,ESTADO,SCRIPT_SQL,SCRIPT_SQL_UNDO,ULT_SENTENCIA_OK)  VALUES ('20221005_1',NULL,'MANUAL','NO_DEFINIDO','CgoNCi0tIFBhcmNoZV9OVUJBTktJQlJfMTgzCg0KLS0gVGFibGEgcGFyYSBhbG1hY2VuYXIgY/Nk
aWdvcyBkZSBlcnJvcmVzIGNvbm9jaWRvcyBkZSBsb3MgU2VydmljaW9zIGludGVycHJldGFkb3MN
CkNSRUFURSBUQUJMRSBFUlJPUl9DT0RFX1dTCigKICBUWl9MT0NLIE5VTUVSSUMoMTUpIGRlZmF1
bHQgKDApIG5vdCBudWxsLAogIENPRElHTyAgICAJCVZBUkNIQVIoNTApIG5vdCBudWxsLAogIENP
RElHT19IVFRQICAgIAlOVU1FUklDKDUpIG5vdCBudWxsLAogIERFU0NSSVBDSU9OIAkJVkFSQ0hB
UigxMDApCik7CgpBTFRFUiBUQUJMRSBFUlJPUl9DT0RFX1dTIEFERCBDT05TVFJBSU5UIFBLX0VS
Uk9SX0NPREVfV1MgcHJpbWFyeSBrZXkgKENPRElHTyk7CgpJTlNFUlQgSU5UTyBFUlJPUl9DT0RF
X1dTIChDT0RJR08sIENPRElHT19IVFRQLCBERVNDUklQQ0lPTikgdmFsdWVzICgnQ2FuY2VsbGVk
Q29udHJvbEV4Y2VwdGlvbicsIDUwMCwgJ0NvbnRyb2wgZGUgY3VlbnRhIGNlcnJhZGEnKTsKCklO
U0VSVCBJTlRPIEVSUk9SX0NPREVfV1MgKENPRElHTywgQ09ESUdPX0hUVFAsIERFU0NSSVBDSU9O
KSB2YWx1ZXMgKCdDb25jdXJyZW5jeUV4Y2VwdGlvbicsIDUwMCwgJ0NvbnRyb2wgZGUgY29uY3Vy
cmVuY2lhIHNvYnJlIHJlZ2lzdHJvcycpOwoKSU5TRVJUIElOVE8gRVJST1JfQ09ERV9XUyAoQ09E
SUdPLCBDT0RJR09fSFRUUCwgREVTQ1JJUENJT04pIHZhbHVlcyAoJ0xvY2tDb250cm9sRXhjZXB0
aW9uJywgNTAwLCAnQ29udHJvbCBkZSBibG9xdWVvcyBlbiBjdWVudGFzJyk7CgpJTlNFUlQgSU5U
TyBFUlJPUl9DT0RFX1dTIChDT0RJR08sIENPRElHT19IVFRQLCBERVNDUklQQ0lPTikgdmFsdWVz
ICgnT3ZlcmRyYWZ0Q29udHJvbEV4Y2VwdGlvbicsIDQxMiwgJ0NvbnRyb2wgZGUgc29icmVnaXJv
IGRlIGN1ZW50YScpOwoKSU5TRVJUIElOVE8gRVJST1JfQ09ERV9XUyAoQ09ESUdPLCBDT0RJR09f
SFRUUCwgREVTQ1JJUENJT04pIHZhbHVlcyAoJ1VuY2hlY2tlZERhdGFFeGNlcHRpb24nLCA0MTIs
ICdDb250cm9sIGRlIGV4aXN0ZW5jaWEgZGUgZGF0bycpOwoNCgoKDQo=', NULL, 0);
