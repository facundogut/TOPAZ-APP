

ALTER TABLE SALDOS ADD FECHA_FIN_GRACIA DATETIME;

ALTER TABLE BS_HISTORIA_PLAZO ADD TIPO_CANCELACION VARCHAR(5) DEFAULT('') WITH VALUES;

INSERT INTO CONCEPTOS (CODIGO, DESCRIPCION, CAMPOV25) VALUES (636, 'Fecha Fin Gracia', 0);

INSERT INTO CONCEPTOS (CODIGO, DESCRIPCION, CAMPOV25) VALUES (645, 'Tipo de Cancelacion HP', 0);

INSERT INTO CONCEPTOS (CODIGO, DESCRIPCION, CAMPOV25) VALUES (646, 'Tipo de Cancelacion', 0);

INSERT INTO OPCIONES (NUMERODECAMPO, IDIOMA, DESCRIPCION, OPCIONINTERNA, OPCIONDEPANTALLA)
VALUES (49997, 'E', 'Absoluta Prorrogada', 'C', 'C');

INSERT INTO DICCIONARIO (NUMERODECAMPO, USODELCAMPO, REFERENCIA, DESCRIPCION, PROMPT, LARGO, TIPODECAMPO, DECIMALES, EDICION, CONTABILIZA, CONCEPTO, CALCULO, VALIDACION, TABLADEVALIDACION, TABLADEAYUDA, OPCIONES, TABLA, CAMPO, BASICO, MASCARA)
VALUES (3368, ' ', 0, 'Fecha Fin de Gracia', 'Fch.Fin Gracia', 8, 'F', 0, 'I', 0, 636, 0, 0, 0, 0, 0, 21, 'FECHA_FIN_GRACIA', 0, NULL);

INSERT INTO DICCIONARIO (NUMERODECAMPO, USODELCAMPO, REFERENCIA, DESCRIPCION, PROMPT, LARGO, TIPODECAMPO, DECIMALES, EDICION, CONTABILIZA, CONCEPTO, CALCULO, VALIDACION, TABLADEVALIDACION, TABLADEAYUDA, OPCIONES, TABLA, CAMPO, BASICO, MASCARA)
VALUES (3369, ' ', 0, 'Tipo de Cancelacion HP', 'Tipo Canc.HP.', 5, 'A', 0, 'I', 0, 645, 0, 0, 0, 0, 0, 555, 'TIPO_CANCELACION', 0, NULL);

INSERT INTO DICCIONARIO (NUMERODECAMPO, USODELCAMPO, REFERENCIA, DESCRIPCION, PROMPT, LARGO, TIPODECAMPO, DECIMALES, EDICION, CONTABILIZA, CONCEPTO, CALCULO, VALIDACION, TABLADEVALIDACION, TABLADEAYUDA, OPCIONES, TABLA, CAMPO, BASICO, MASCARA)
VALUES (3506, ' ', 0, 'Tipo de Cancelacion ', 'Tipo Canc.', 5, 'A', 0, 'I', 0, 646, 0, 0, 0, 0, 0, 0, 'TIPO_CANCELACION', 0, NULL);

-- Parche_NUGAN106_273

-- Crear tabla BS_PAYS_ULTPAGO_A_CONFIRMAR y agregar campo en BS_PAYS_DETAIL_ULTPAGO
ALTER TABLE BS_PAYS_DETAIL_ULTPAGO ADD TIPO_MOV_HP VARCHAR(1) DEFAULT (' ');


CREATE TABLE BS_PAYS_ULTPAGO_A_CONFIRMAR
						(
						TZ_LOCK          NUMERIC(16) DEFAULT ((0)),
						NROASIENTOMOV    NUMERIC(10) DEFAULT ((0)) NOT NULL,
						ORDINALASIENTO   NUMERIC(5) DEFAULT ((0)) NOT NULL,
						FECHAPROCESOMOV  DATE NOT NULL,
						SUCURSALMVTO     NUMERIC(5) DEFAULT ((0)) NOT NULL,
						SALDOS_JTS_OID   NUMERIC(10) DEFAULT ((0)) NOT NULL,
						CUOTA            NUMERIC(4),
						VENCIMIENTOCUOTA DATE NOT NULL,
						MORAPAGADA       NUMERIC(15,2),
						MORACONDONADA    NUMERIC(15,2),
						CONSTRAINT PK_PAYS_ULTPAGO_A_CONFIRMAR PRIMARY KEY (NROASIENTOMOV, ORDINALASIENTO, FECHAPROCESOMOV, SUCURSALMVTO, SALDOS_JTS_OID)
						);
					




INSERT INTO BITACORA_HM (ACTUALIZACION,FECHA_APLICADO,TIPO_ACTUALIZACION,ESTADO,SCRIPT_SQL,SCRIPT_SQL_UNDO,ULT_SENTENCIA_OK)  VALUES ('20210920_1',NULL,'MANUAL','NO_DEFINIDO','CgoNCi0tIFBhcmNoZV9OVUdBTjEwNl8yNjUKDQpjcmVhdGUgdGFibGUgREVTR0xPU0VfQ0FQSVRB
TF9QQUdBRE8KKAogIFRaX0xPQ0sJCQkJTlVNRVJJQygxNSkgCWRlZmF1bHQgKDApIAlOT1QgTlVM
TCwKICBTQUxET19KVFNfT0lEIAkJTlVNRVJJQygxMCkJZGVmYXVsdCAoMCkJTk9UIE5VTEwsCiAg
SFBfSlRTX09JRCAJCQlOVU1FUklDKDEwKQlkZWZhdWx0ICgwKQlOT1QgTlVMTCwKICBGRUNIQVZB
TE9SCQkJREFURVRJTUUJCQkJTk9UIE5VTEwsCiAgQ0FQSVRBTFZFTkNJRE8JCU5VTUVSSUMoMTUs
MikgCWRlZmF1bHQgKDApLAogIENBUElUQUxERUxNRVMJCQlOVU1FUklDKDE1LDIpIAlkZWZhdWx0
ICgwKSwKICBDQVBJVEFMQURFTEFOVEFETwkJTlVNRVJJQygxNSwyKSAJZGVmYXVsdCAoMCkKKTsK
CmFsdGVyIHRhYmxlIERFU0dMT1NFX0NBUElUQUxfUEFHQURPCiAgYWRkIGNvbnN0cmFpbnQgUEtf
REVTR0xPU0VfQ0FQSVRBTF9QQUdBRE8gcHJpbWFyeSBrZXkgKFNBTERPX0pUU19PSUQsIEhQX0pU
U19PSUQpOwoNCkFMVEVSIFRBQkxFIFNBTERPUyBBREQgRkVDSEFfRklOX0dSQUNJQSBEQVRFVElN
RTsKCkFMVEVSIFRBQkxFIEJTX0hJU1RPUklBX1BMQVpPIEFERCBUSVBPX0NBTkNFTEFDSU9OIFZB
UkNIQVIoNSkgREVGQVVMVCgnJykgV0lUSCBWQUxVRVM7Cg0KSU5TRVJUIElOVE8gQ09OQ0VQVE9T
IChDT0RJR08sIERFU0NSSVBDSU9OLCBDQU1QT1YyNSkgVkFMVUVTICg2MzYsICdGZWNoYSBGaW4g
R3JhY2lhJywgMCk7CgpJTlNFUlQgSU5UTyBDT05DRVBUT1MgKENPRElHTywgREVTQ1JJUENJT04s
IENBTVBPVjI1KSBWQUxVRVMgKDY0NSwgJ1RpcG8gZGUgQ2FuY2VsYWNpb24gSFAnLCAwKTsKCklO
U0VSVCBJTlRPIENPTkNFUFRPUyAoQ09ESUdPLCBERVNDUklQQ0lPTiwgQ0FNUE9WMjUpIFZBTFVF
UyAoNjQ2LCAnVGlwbyBkZSBDYW5jZWxhY2lvbicsIDApOwoKSU5TRVJUIElOVE8gT1BDSU9ORVMg
KE5VTUVST0RFQ0FNUE8sIElESU9NQSwgREVTQ1JJUENJT04sIE9QQ0lPTklOVEVSTkEsIE9QQ0lP
TkRFUEFOVEFMTEEpClZBTFVFUyAoNDk5OTcsICdFJywgJ0Fic29sdXRhIFByb3Jyb2dhZGEnLCAn
QycsICdDJyk7CgpJTlNFUlQgSU5UTyBESUNDSU9OQVJJTyAoTlVNRVJPREVDQU1QTywgVVNPREVM
Q0FNUE8sIFJFRkVSRU5DSUEsIERFU0NSSVBDSU9OLCBQUk9NUFQsIExBUkdPLCBUSVBPREVDQU1Q
TywgREVDSU1BTEVTLCBFRElDSU9OLCBDT05UQUJJTElaQSwgQ09OQ0VQVE8sIENBTENVTE8sIFZB
TElEQUNJT04sIFRBQkxBREVWQUxJREFDSU9OLCBUQUJMQURFQVlVREEsIE9QQ0lPTkVTLCBUQUJM
QSwgQ0FNUE8sIEJBU0lDTywgTUFTQ0FSQSkKVkFMVUVTICgzMzY4LCAnICcsIDAsICdGZWNoYSBG
aW4gZGUgR3JhY2lhJywgJ0ZjaC5GaW4gR3JhY2lhJywgOCwgJ0YnLCAwLCAnSScsIDAsIDYzNiwg
MCwgMCwgMCwgMCwgMCwgMjEsICdGRUNIQV9GSU5fR1JBQ0lBJywgMCwgTlVMTCk7CgpJTlNFUlQg
SU5UTyBESUNDSU9OQVJJTyAoTlVNRVJPREVDQU1QTywgVVNPREVMQ0FNUE8sIFJFRkVSRU5DSUEs
IERFU0NSSVBDSU9OLCBQUk9NUFQsIExBUkdPLCBUSVBPREVDQU1QTywgREVDSU1BTEVTLCBFRElD
SU9OLCBDT05UQUJJTElaQSwgQ09OQ0VQVE8sIENBTENVTE8sIFZBTElEQUNJT04sIFRBQkxBREVW
QUxJREFDSU9OLCBUQUJMQURFQVlVREEsIE9QQ0lPTkVTLCBUQUJMQSwgQ0FNUE8sIEJBU0lDTywg
TUFTQ0FSQSkKVkFMVUVTICgzMzY5LCAnICcsIDAsICdUaXBvIGRlIENhbmNlbGFjaW9uIEhQJywg
J1RpcG8gQ2FuYy5IUC4nLCA1LCAnQScsIDAsICdJJywgMCwgNjQ1LCAwLCAwLCAwLCAwLCAwLCA1
NTUsICdUSVBPX0NBTkNFTEFDSU9OJywgMCwgTlVMTCk7CgpJTlNFUlQgSU5UTyBESUNDSU9OQVJJ
TyAoTlVNRVJPREVDQU1QTywgVVNPREVMQ0FNUE8sIFJFRkVSRU5DSUEsIERFU0NSSVBDSU9OLCBQ
Uk9NUFQsIExBUkdPLCBUSVBPREVDQU1QTywgREVDSU1BTEVTLCBFRElDSU9OLCBDT05UQUJJTEla
QSwgQ09OQ0VQVE8sIENBTENVTE8sIFZBTElEQUNJT04sIFRBQkxBREVWQUxJREFDSU9OLCBUQUJM
QURFQVlVREEsIE9QQ0lPTkVTLCBUQUJMQSwgQ0FNUE8sIEJBU0lDTywgTUFTQ0FSQSkKVkFMVUVT
ICgzNTA2LCAnICcsIDAsICdUaXBvIGRlIENhbmNlbGFjaW9uICcsICdUaXBvIENhbmMuJywgNSwg
J0EnLCAwLCAnSScsIDAsIDY0NiwgMCwgMCwgMCwgMCwgMCwgMCwgJ1RJUE9fQ0FOQ0VMQUNJT04n
LCAwLCBOVUxMKTsKDQotLSBQYXJjaGVfTlVHQU4xMDZfMjczCg0KLS0gQ3JlYXIgdGFibGEgQlNf
UEFZU19VTFRQQUdPX0FfQ09ORklSTUFSIHkgYWdyZWdhciBjYW1wbyBlbiBCU19QQVlTX0RFVEFJ
TF9VTFRQQUdPDQpBTFRFUiBUQUJMRSBCU19QQVlTX0RFVEFJTF9VTFRQQUdPIEFERCBUSVBPX01P
Vl9IUCBWQVJDSEFSKDEpIERFRkFVTFQgKCcgJyk7CgpHTzsKCkNSRUFURSBUQUJMRSBCU19QQVlT
X1VMVFBBR09fQV9DT05GSVJNQVIKKApUWl9MT0NLICAgICAgICAgIE5VTUVSSUMoMTYpIERFRkFV
TFQgKCgwKSksCk5ST0FTSUVOVE9NT1YgICAgTlVNRVJJQygxMCkgREVGQVVMVCAoKDApKSBOT1Qg
TlVMTCwKT1JESU5BTEFTSUVOVE8gICBOVU1FUklDKDUpIERFRkFVTFQgKCgwKSkgTk9UIE5VTEws
CkZFQ0hBUFJPQ0VTT01PViAgREFURSBOT1QgTlVMTCwKU1VDVVJTQUxNVlRPICAgICBOVU1FUklD
KDUpIERFRkFVTFQgKCgwKSkgTk9UIE5VTEwsClNBTERPU19KVFNfT0lEICAgTlVNRVJJQygxMCkg
REVGQVVMVCAoKDApKSBOT1QgTlVMTCwKQ1VPVEEgICAgICAgICAgICBOVU1FUklDKDQpLApWRU5D
SU1JRU5UT0NVT1RBIERBVEUgTk9UIE5VTEwsCk1PUkFQQUdBREEgICAgICAgTlVNRVJJQygxNSwy
KSwKTU9SQUNPTkRPTkFEQSAgICBOVU1FUklDKDE1LDIpLApDT05TVFJBSU5UIFBLX1BBWVNfVUxU
UEFHT19BX0NPTkZJUk1BUiBQUklNQVJZIEtFWSAoTlJPQVNJRU5UT01PViwgT1JESU5BTEFTSUVO
VE8sIEZFQ0hBUFJPQ0VTT01PViwgU1VDVVJTQUxNVlRPLCBTQUxET1NfSlRTX09JRCkKKTsKCkdP
OwoNCgoKDQo=', NULL, 0);
