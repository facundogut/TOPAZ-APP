EXECUTE('
-----------------------------------
--NUEVOS CAMPOS DE TIPO DE CUENTA--
-----------------------------------
IF COLUMNPROPERTY(OBJECT_ID(''dbo.TOPESPRODUCTO''), ''TIPO_CTA_REDLINK'', ''ColumnId'') IS NULL
BEGIN
	ALTER TABLE TOPESPRODUCTO ADD TIPO_CTA_REDLINK VARCHAR(2)
END
--
IF COLUMNPROPERTY(OBJECT_ID(''dbo.TOPESPRODUCTO''), ''TIPO_CTA_INTERBANK'', ''ColumnId'') IS NULL
BEGIN
	ALTER TABLE TOPESPRODUCTO ADD TIPO_CTA_INTERBANK VARCHAR(2)
END
------------------------------------
--AJUSTE LARGO DE CAMPO VTA_SALDOS--
------------------------------------
ALTER TABLE VTA_SALDOS ALTER COLUMN CTA_REDLINK VARCHAR(21)
--
ALTER TABLE VTA_SALDOS ALTER COLUMN CTA_INTERBANK VARCHAR(19)
----
')
EXECUTE('
-----------------------------------
--NUEVOS CAMPOS DE TIPO DE CUENTA--
-----------------------------------
IF NOT EXISTS(SELECT * FROM DICCIONARIO WHERE NUMERODECAMPO = 35497)
BEGIN
	INSERT INTO dbo.DICCIONARIO (NUMERODECAMPO, USODELCAMPO, REFERENCIA, DESCRIPCION, PROMPT, LARGO, TIPODECAMPO, DECIMALES, EDICION, CONTABILIZA, CONCEPTO, CALCULO, VALIDACION, TABLADEVALIDACION, TABLADEAYUDA, OPCIONES, TABLA, CAMPO, BASICO, MASCARA)
	VALUES (35497, '' '', 0, ''Tipo de Cuenta Red Link'', ''Tipo de Cuenta Red Link'', 2, ''A'', 0, NULL, 0, 0, 0, 0, 0, 0, 1, 311, ''TIPO_CTA_REDLINK'', 0, NULL)
END
--
IF NOT EXISTS(SELECT * FROM DICCIONARIO WHERE NUMERODECAMPO = 35498)
BEGIN
	INSERT INTO dbo.DICCIONARIO (NUMERODECAMPO, USODELCAMPO, REFERENCIA, DESCRIPCION, PROMPT, LARGO, TIPODECAMPO, DECIMALES, EDICION, CONTABILIZA, CONCEPTO, CALCULO, VALIDACION, TABLADEVALIDACION, TABLADEAYUDA, OPCIONES, TABLA, CAMPO, BASICO, MASCARA)
	VALUES (35498, '' '', 0, ''Tipo de Cuenta Interbanking'', ''Tipo de Cuenta Interbanking'', 2, ''A'', 0, NULL, 0, 0, 0, 0, 0, 0, 1, 311, ''TIPO_CTA_INTERBANK'', 0, NULL)
END
------------
--OPCIONES--
------------
INSERT INTO dbo.OPCIONES (NUMERODECAMPO, IDIOMA, DESCRIPCION, OPCIONINTERNA, OPCIONDEPANTALLA)
VALUES (35497, ''E'', ''Cuenta Corriente en Pesos'', ''01'', ''01'')
--
INSERT INTO dbo.OPCIONES (NUMERODECAMPO, IDIOMA, DESCRIPCION, OPCIONINTERNA, OPCIONDEPANTALLA)
VALUES (35497, ''E'', ''Caja de Ahorro en Pesos'', ''11'', ''11'')
--
INSERT INTO dbo.OPCIONES (NUMERODECAMPO, IDIOMA, DESCRIPCION, OPCIONINTERNA, OPCIONDEPANTALLA)
VALUES (35497, ''E'', ''Caja de Ahorro en Dólares'', ''15'', ''15'')
----
INSERT INTO dbo.OPCIONES (NUMERODECAMPO, IDIOMA, DESCRIPCION, OPCIONINTERNA, OPCIONDEPANTALLA)
VALUES (35498, ''E'', ''Cuenta Corriente en Pesos'', ''01'', ''01'')
--
INSERT INTO dbo.OPCIONES (NUMERODECAMPO, IDIOMA, DESCRIPCION, OPCIONINTERNA, OPCIONDEPANTALLA)
VALUES (35498, ''E'', ''Caja de Ahorro en Pesos'', ''02'', ''02'')
--
INSERT INTO dbo.OPCIONES (NUMERODECAMPO, IDIOMA, DESCRIPCION, OPCIONINTERNA, OPCIONDEPANTALLA)
VALUES (35498, ''E'', ''Caja de Ahorro UVA/UVI'', ''11'', ''11'')
--
INSERT INTO dbo.OPCIONES (NUMERODECAMPO, IDIOMA, DESCRIPCION, OPCIONINTERNA, OPCIONDEPANTALLA)
VALUES (35498, ''E'', ''Caja de Ahorro en Dólares'', ''15'', ''15'')
------------------
--LARGO DE CAMPO--
------------------
UPDATE dbo.DICCIONARIO
SET LARGO = 21
WHERE NUMERODECAMPO = 34063
--
UPDATE dbo.DICCIONARIO
SET LARGO = 19
WHERE NUMERODECAMPO = 34064
-------------------------------
--PARAMETRÍA DE TOPESPRODUCTO--
-------------------------------
UPDATE T
SET T.TIPO_CTA_REDLINK = ''01''
FROM TOPESPRODUCTO AS T
INNER JOIN PRODUCTOS AS P ON
	P.C6250 = T.CODPRODUCTO
	AND P.C6252 = 2
WHERE
	T.MONEDA IN (1)
--
UPDATE T
SET T.TIPO_CTA_REDLINK = ''11''
FROM TOPESPRODUCTO AS T
INNER JOIN PRODUCTOS AS P ON
	P.C6250 = T.CODPRODUCTO
	AND P.C6252 = 3
WHERE
	T.MONEDA IN (1,988,999)
--
UPDATE T
SET T.TIPO_CTA_REDLINK = ''15''
FROM TOPESPRODUCTO AS T
INNER JOIN PRODUCTOS AS P ON
	P.C6250 = T.CODPRODUCTO
	AND P.C6252 = 3
WHERE
	T.MONEDA IN (2)
------
------
UPDATE T
SET T.TIPO_CTA_INTERBANK = ''01''
FROM TOPESPRODUCTO AS T
INNER JOIN PRODUCTOS AS P ON
	P.C6250 = T.CODPRODUCTO
	AND P.C6252 = 2
WHERE
	T.MONEDA IN (1)
--
UPDATE T
SET T.TIPO_CTA_INTERBANK = ''02''
FROM TOPESPRODUCTO AS T
INNER JOIN PRODUCTOS AS P ON
	P.C6250 = T.CODPRODUCTO
	AND P.C6252 = 3
WHERE
	T.MONEDA IN (1)
--
UPDATE T
SET T.TIPO_CTA_INTERBANK = ''11''
FROM TOPESPRODUCTO AS T
INNER JOIN PRODUCTOS AS P ON
	P.C6250 = T.CODPRODUCTO
	AND P.C6252 = 3
WHERE
	T.MONEDA IN (988,999)
--
UPDATE T
SET T.TIPO_CTA_INTERBANK = ''15''
FROM TOPESPRODUCTO AS T
INNER JOIN PRODUCTOS AS P ON
	P.C6250 = T.CODPRODUCTO
	AND P.C6252 = 3
WHERE
	T.MONEDA IN (2)
------
')