


-- Parche_NUNBCHACO_888

-- Sobre la sentencia
CREATE TABLE HISTORICO_OPE_CAMBIO (
FECHAPROCESO         DATETIME NOT NULL,
SUCURSAL             NUMERIC (5) NOT NULL,
MONEDA               NUMERIC (4),
FECHAVALOR           DATETIME,
IMPORTE_ME_TOTAL	 NUMERIC (15, 2),
IMPORTE_MN_TOTAL     NUMERIC (15, 2),
CONSTRAINT PK_HISTORICO_OPE_CAMBIO PRIMARY KEY (FECHAPROCESO, SUCURSAL, MONEDA, FECHAVALOR)
);

-- Sobre la sentencia
INSERT INTO PARAMETROS_JTS (FUNCIONALIDAD, PARAMETRO, VALOR, TZ_LOCK)
VALUES ('AJUSTE_OPER_CAMBIO', 'RUBRO_GANANCIA', '5410060000', 0);

INSERT INTO PARAMETROS_JTS (FUNCIONALIDAD, PARAMETRO, VALOR, TZ_LOCK)
VALUES ('AJUSTE_OPER_CAMBIO', 'RUBRO_PERDIDA', '5600450070', 0);

INSERT INTO PARAMETROS_JTS (FUNCIONALIDAD, PARAMETRO, VALOR, TZ_LOCK)
VALUES ('AJUSTE_OPER_CAMBIO', 'DESCRIPCION', 'Historico Ajuste de Operaciones de Cambio', 0);

INSERT INTO PARAMETROS_JTS (FUNCIONALIDAD, PARAMETRO, VALOR, TZ_LOCK)
VALUES ('AJUSTE_OPER_CAMBIO', 'OPERACION', '38', 0);

INSERT INTO PARAMETROS_JTS (FUNCIONALIDAD, PARAMETRO, VALOR, TZ_LOCK)
VALUES ('AJUSTE_OPER_CAMBIO', 'CANAL', '0', 0);

-- Actualizar OPERACIONES
INSERT INTO OPERACIONES (TITULO, IDENTIFICACION, NOMBRE, DESCRIPCION, MNEMOTECNICO, AUTORIZACION, FORMULARIOPRINCIPAL, PROXOPERACION, ESTADO, TZ_LOCK, COPIAS, SUBOPERACION, PERMITEBAJA, COMPORTAMIENTOENCIERRE, REQUIERECONTRASENA, PERMITECONCURRENTE, PERMITEESTADODIFERIDO)
VALUES (8600 , 38 , 'Operaciones de cambio retroactiva', 'Operaciones de cambio retroactiva', 38, 'N', NULL, NULL, 'P', 0, NULL, 0, 'S', 'N', 'N', 'S', 'S');




INSERT INTO BITACORA_HM (ACTUALIZACION,FECHA_APLICADO,TIPO_ACTUALIZACION,ESTADO,SCRIPT_SQL,SCRIPT_SQL_UNDO,ULT_SENTENCIA_OK)  VALUES ('20220407_1NBCH',NULL,'MANUAL','NO_DEFINIDO','CgoNCi0tIFBhcmNoZV9OVU5CQ0hBQ09fODg4Cg0KLS0gU29icmUgbGEgc2VudGVuY2lhDQpDUkVB
VEUgVEFCTEUgSElTVE9SSUNPX09QRV9DQU1CSU8gKApGRUNIQVBST0NFU08gICAgICAgICBEQVRF
VElNRSBOT1QgTlVMTCwKU1VDVVJTQUwgICAgICAgICAgICAgTlVNRVJJQyAoNSkgTk9UIE5VTEws
Ck1PTkVEQSAgICAgICAgICAgICAgIE5VTUVSSUMgKDQpLApGRUNIQVZBTE9SICAgICAgICAgICBE
QVRFVElNRSwKSU1QT1JURV9NRV9UT1RBTAkgTlVNRVJJQyAoMTUsIDIpLApJTVBPUlRFX01OX1RP
VEFMICAgICBOVU1FUklDICgxNSwgMiksCkNPTlNUUkFJTlQgUEtfSElTVE9SSUNPX09QRV9DQU1C
SU8gUFJJTUFSWSBLRVkgKEZFQ0hBUFJPQ0VTTywgU1VDVVJTQUwsIE1PTkVEQSwgRkVDSEFWQUxP
UikKKTsKDQotLSBTb2JyZSBsYSBzZW50ZW5jaWENCklOU0VSVCBJTlRPIFBBUkFNRVRST1NfSlRT
IChGVU5DSU9OQUxJREFELCBQQVJBTUVUUk8sIFZBTE9SLCBUWl9MT0NLKQpWQUxVRVMgKCdBSlVT
VEVfT1BFUl9DQU1CSU8nLCAnUlVCUk9fR0FOQU5DSUEnLCAnNTQxMDA2MDAwMCcsIDApOwoKSU5T
RVJUIElOVE8gUEFSQU1FVFJPU19KVFMgKEZVTkNJT05BTElEQUQsIFBBUkFNRVRSTywgVkFMT1Is
IFRaX0xPQ0spClZBTFVFUyAoJ0FKVVNURV9PUEVSX0NBTUJJTycsICdSVUJST19QRVJESURBJywg
JzU2MDA0NTAwNzAnLCAwKTsKCklOU0VSVCBJTlRPIFBBUkFNRVRST1NfSlRTIChGVU5DSU9OQUxJ
REFELCBQQVJBTUVUUk8sIFZBTE9SLCBUWl9MT0NLKQpWQUxVRVMgKCdBSlVTVEVfT1BFUl9DQU1C
SU8nLCAnREVTQ1JJUENJT04nLCAnSGlzdG9yaWNvIEFqdXN0ZSBkZSBPcGVyYWNpb25lcyBkZSBD
YW1iaW8nLCAwKTsKCklOU0VSVCBJTlRPIFBBUkFNRVRST1NfSlRTIChGVU5DSU9OQUxJREFELCBQ
QVJBTUVUUk8sIFZBTE9SLCBUWl9MT0NLKQpWQUxVRVMgKCdBSlVTVEVfT1BFUl9DQU1CSU8nLCAn
T1BFUkFDSU9OJywgJzM4JywgMCk7CgpJTlNFUlQgSU5UTyBQQVJBTUVUUk9TX0pUUyAoRlVOQ0lP
TkFMSURBRCwgUEFSQU1FVFJPLCBWQUxPUiwgVFpfTE9DSykKVkFMVUVTICgnQUpVU1RFX09QRVJf
Q0FNQklPJywgJ0NBTkFMJywgJzAnLCAwKTsKDQotLSBBY3R1YWxpemFyIE9QRVJBQ0lPTkVTDQpJ
TlNFUlQgSU5UTyBPUEVSQUNJT05FUyAoVElUVUxPLCBJREVOVElGSUNBQ0lPTiwgTk9NQlJFLCBE
RVNDUklQQ0lPTiwgTU5FTU9URUNOSUNPLCBBVVRPUklaQUNJT04sIEZPUk1VTEFSSU9QUklOQ0lQ
QUwsIFBST1hPUEVSQUNJT04sIEVTVEFETywgVFpfTE9DSywgQ09QSUFTLCBTVUJPUEVSQUNJT04s
IFBFUk1JVEVCQUpBLCBDT01QT1JUQU1JRU5UT0VOQ0lFUlJFLCBSRVFVSUVSRUNPTlRSQVNFTkEs
IFBFUk1JVEVDT05DVVJSRU5URSwgUEVSTUlURUVTVEFET0RJRkVSSURPKQpWQUxVRVMgKDg2MDAg
LCAzOCAsICdPcGVyYWNpb25lcyBkZSBjYW1iaW8gcmV0cm9hY3RpdmEnLCAnT3BlcmFjaW9uZXMg
ZGUgY2FtYmlvIHJldHJvYWN0aXZhJywgMzgsICdOJywgTlVMTCwgTlVMTCwgJ1AnLCAwLCBOVUxM
LCAwLCAnUycsICdOJywgJ04nLCAnUycsICdTJyk7Cg0KCgoNCg==', NULL, 0);
