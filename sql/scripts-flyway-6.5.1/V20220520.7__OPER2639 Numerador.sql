EXECUTE('
DELETE FROM dbo.NUMERATORDEFINITION
WHERE NUMERO = 45040

DELETE FROM dbo.NUMERATORASIGNED WHERE OID IN (
		SELECT OID FROM NUMERATORVALUES WHERE NUMERO = 45040
	)

DELETE FROM dbo.NUMERATORVALUES WHERE (DIA <> 0 OR MES <> 0 OR ANIO <> 0 OR SUCURSAL <> 0) AND NUMERO = 45040
')

EXECUTE('
UPDATE dbo.DICCIONARIO
SET CONCEPTO = 19
	, VALIDACION = 0
WHERE NUMERODECAMPO = 45040


INSERT INTO dbo.NUMERATORDEFINITION (NUMERO, INIVAL, INCREMENTO, PERIODO, ULTIMAINIC, REUTILIZABLE, CENTRALIZADO, MAXIMO, DESCRIPCION, TIPO)
VALUES (45040, 1, 1, ''P'', NULL, 1, 1, 0, NULL, ''T'')


IF EXISTS 
		(SELECT 1 FROM dbo.NUMERATORVALUES 
		WHERE DIA = 0 AND MES = 0 AND ANIO = 0 AND SUCURSAL = 0 AND NUMERO = 45040)
	BEGIN
		UPDATE dbo.NUMERATORVALUES
		SET VALOR = ISNULL((SELECT max(Id_CesionRec)+1 FROM CONV_CESIONES), 0)
		WHERE DIA = 0 AND MES = 0 AND ANIO = 0 AND SUCURSAL = 0 AND NUMERO = 45040
	END
ELSE
	BEGIN
		INSERT INTO dbo.NUMERATORVALUES(DIA,MES,ANIO,SUCURSAL,NUMERO,VALOR) 
		VALUES (0,0,0,0,45040,ISNULL((SELECT max(Id_CesionRec)+1 FROM CONV_CESIONES), 0))
	END 
')
