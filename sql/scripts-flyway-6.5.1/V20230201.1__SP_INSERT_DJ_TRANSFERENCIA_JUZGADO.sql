EXECUTE('CREATE    PROCEDURE SP_INSERT_DJ_TRANSFERENCIA_JUZGADO
   (
   @P_TIP_CAUSA  VARCHAR(12),
   @P_NUM_CAUSA float(12),
   @P_NUM_JUZ float(12),
   @P_ACCION VARCHAR(1),
   @P_ESTADO VARCHAR(1),
   @P_FECHA_ESTADO VARCHAR(12),   
   @P_FECHA_CAUSA VARCHAR(12),   
   @P_SUC float(12),
   @P_COMENTARIO VARCHAR(60),   
   @P_NUM_JUZ_NUEVO float(12),
   
   @P_NUM_SOLIC float(12) OUTPUT )
   
   AS 

   BEGIN
   	SET @P_NUM_SOLIC = NULL
   	DECLARE @P_NUM_SOL float(12)
	SET @P_NUM_SOL = (SELECT TOP 1 NRO_SOLICITUD FROM DJ_SOL_ACT_INAC_CAUSAS ORDER BY NRO_SOLICITUD DESC)+1
	 BEGIN TRANSACTION	
      
     BEGIN TRY  
		INSERT INTO dbo.DJ_SOL_ACT_INAC_CAUSAS (NRO_SOLICITUD, NRO_CAUSA, TIPO_CAUSA, NRO_JUZGADO, ACCION, ESTADO, FECHA_ESTADO, FECHA_CAUSA, SUCURSAL, COMENTARIO, TZ_LOCK, NRO_JUZGADO_NUEVO)
		VALUES (@P_NUM_SOL, @P_NUM_CAUSA, @P_TIP_CAUSA, @P_NUM_JUZ, @P_ACCION, @P_ESTADO, @P_FECHA_ESTADO,@P_FECHA_CAUSA, @P_SUC, @P_COMENTARIO, 0, @P_NUM_JUZ_NUEVO)
	   	COMMIT TRANSACTION;
	   	SET @P_NUM_SOLIC=@P_NUM_SOL
   	END TRY
   	BEGIN CATCH
   	END CATCH
   END
   
  ')


