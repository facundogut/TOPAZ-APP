EXECUTE('
IF OBJECT_ID (''VW_CON_ASIENTOS_TIPO_CV_LINEAS'') IS NOT NULL
	DROP VIEW VW_CON_ASIENTOS_TIPO_CV_LINEAS
')

EXECUTE('
CREATE  VIEW VW_CON_ASIENTOS_TIPO_CV_LINEAS
AS
SELECT
	L.ID_ASIENTO,
	L.NRO_LINEA,
	OD.DESCRIPCION AS DEBITO_CREDITO,
	OT.DESCRIPCION AS TIPO_CUENTA,
	OA.DESCRIPCION AS APERTURA,
	L.SUCURSAL_CUENTA,
	L.PRODUCTO_CUENTA,
	L.CUENTA,
	L.MONEDA_CUENTA
FROM
	CON_ASIENTOS_TIPO_CV_LINEAS AS L WITH (nolock)
INNER JOIN OPCIONES AS OD WITH (nolock) ON
	OD.OPCIONINTERNA = L.DEBITO_CREDITO
	AND OD.NUMERODECAMPO = 49692
	AND OD.IDIOMA =''E''
INNER JOIN OPCIONES AS OT WITH (nolock) ON
	OT.OPCIONINTERNA = L.TIPO_CUENTA
	AND OT.NUMERODECAMPO = 49693
	AND OT.IDIOMA = ''E''
LEFT JOIN OPCIONES AS OA WITH (nolock) ON
	OA.OPCIONINTERNA = L.APERTURA
	AND OA.NUMERODECAMPO = 49698
	AND OA.IDIOMA = ''E''
WHERE
	( (L.TZ_LOCK < 300000000000000 OR L.TZ_LOCK >= 400000000000000) 
	AND (L.TZ_LOCK < 100000000000000 OR L.TZ_LOCK >= 200000000000000))
')