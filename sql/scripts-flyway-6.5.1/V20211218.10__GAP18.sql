EXECUTE('


INSERT INTO dbo.OPERACIONES (TITULO, IDENTIFICACION, NOMBRE, DESCRIPCION, MNEMOTECNICO, AUTORIZACION, FORMULARIOPRINCIPAL, PROXOPERACION, ESTADO, TZ_LOCK, COPIAS, SUBOPERACION, PERMITEBAJA, COMPORTAMIENTOENCIERRE, REQUIERECONTRASENA, PERMITECONCURRENTE, PERMITEESTADODIFERIDO, ICONO_TITULO, ESTILO)
VALUES (2001, 2032, ''Productos contables para créditos diversos'', ''Productos contables para créditos diversos'', ''2032'', ''N'', 500, NULL, ''P'', 0, NULL, 0, ''S'', ''N'', ''N'', ''S'', ''S'', NULL, NULL)

INSERT INTO dbo.OPCIONES (NUMERODECAMPO, IDIOMA, DESCRIPCION, OPCIONINTERNA, OPCIONDEPANTALLA)
VALUES (6800, ''E'', ''Créditos Diversos'', ''E'', ''E'')



CREATE TABLE dbo.CON_CREDITO_DIVERSO
	(
	JTSOID            NUMERIC (15) DEFAULT ((0)) NOT NULL,
	FECHA_VENCIMIENTO DATETIME,
	GARANTIA          VARCHAR (20) DEFAULT ('' ''),
	TZ_LOCK           NUMERIC (15) DEFAULT ((0)) NOT NULL,
	CONSTRAINT PK_CON_CREDITO_DIVERSO_01 PRIMARY KEY (JTSOID)
	)

INSERT INTO dbo.INDICES (NUMERODEARCHIVO, NUMERODEINDICE, DESCRIPCION, CLAVESREPETIDAS, CAMPO1, CAMPO2, CAMPO3, CAMPO4, CAMPO5, CAMPO6, CAMPO7, CAMPO8, CAMPO9, CAMPO10, CAMPO11, CAMPO12, CAMPO13, CAMPO14, CAMPO15, CAMPO16, CAMPO17, CAMPO18, CAMPO19, CAMPO20)
VALUES (5002, 1, ''Principal'', 0, 49619, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL)


INSERT INTO dbo.DESCRIPTORES (TITULO, IDENTIFICACION, TIPODEARCHIVO, DESCRIPCION, GRUPODELMAPA, NOMBREFISICO, TIPODEDBMS, LARGODELREGISTRO, INICIALIZACIONDELREGISTRO, BASE, SELECCION, ACEPTA_MOVS_DIFERIDO)
VALUES (20, 5002, NULL, ''Prod. Cont. créditos diversos'', 0, ''CON_CREDITO_DIVERSO'', ''D'', NULL, NULL, ''Top/Clientes'', NULL, ''N'')


INSERT INTO dbo.DICCIONARIO (NUMERODECAMPO, USODELCAMPO, REFERENCIA, DESCRIPCION, PROMPT, LARGO, TIPODECAMPO, DECIMALES, EDICION, CONTABILIZA, CONCEPTO, CALCULO, VALIDACION, TABLADEVALIDACION, TABLADEAYUDA, OPCIONES, TABLA, CAMPO, BASICO, MASCARA)
VALUES (49619, '' '', 0, ''JTD_OID'', ''Jts oid'', 15, ''N'', 0, NULL, 0, 0, 0, 0, 0, 0, 0, 5002, ''JTSOID'', 0, NULL)


INSERT INTO dbo.DICCIONARIO (NUMERODECAMPO, USODELCAMPO, REFERENCIA, DESCRIPCION, PROMPT, LARGO, TIPODECAMPO, DECIMALES, EDICION, CONTABILIZA, CONCEPTO, CALCULO, VALIDACION, TABLADEVALIDACION, TABLADEAYUDA, OPCIONES, TABLA, CAMPO, BASICO, MASCARA)
VALUES (49620, '' '', 0, ''Fecha Vencimiento'', ''Fecha Vencimiento'', 8, ''F'', 0, ''F'', 0, 0, 0, 0, 0, 0, 0, 5002, ''FECHA_VENCIMIENTO'', 0, NULL)


INSERT INTO dbo.DICCIONARIO (NUMERODECAMPO, USODELCAMPO, REFERENCIA, DESCRIPCION, PROMPT, LARGO, TIPODECAMPO, DECIMALES, EDICION, CONTABILIZA, CONCEPTO, CALCULO, VALIDACION, TABLADEVALIDACION, TABLADEAYUDA, OPCIONES, TABLA, CAMPO, BASICO, MASCARA)
VALUES (49621, NULL, 0, ''Garantía'', ''Garantía'', 20, ''A'', 0, NULL, 0, 0, 0, 0, 0, 0, 1, 5002, ''GARANTIA'', 0, NULL)


INSERT INTO dbo.OPCIONES (NUMERODECAMPO, IDIOMA, DESCRIPCION, OPCIONINTERNA, OPCIONDEPANTALLA)
VALUES (49621, ''E'', ''Garantía A'', ''A'', ''A'')


INSERT INTO dbo.OPCIONES (NUMERODECAMPO, IDIOMA, DESCRIPCION, OPCIONINTERNA, OPCIONDEPANTALLA)
VALUES (49621, ''E'', ''Garantía B'', ''B'', ''B'')


INSERT INTO dbo.OPCIONES (NUMERODECAMPO, IDIOMA, DESCRIPCION, OPCIONINTERNA, OPCIONDEPANTALLA)
VALUES (49621, ''E'', ''Sin Garantía'', ''S'', ''S'')


-----

INSERT INTO dbo.AYUDAS (NUMERODEARCHIVO, NUMERODEAYUDA, DESCRIPCION, FILTRO, MOSTRARTODOS, CAMPOS, CAMPOSVISTA, BASEVISTA, NOMBREVISTA, AYUDAGRANDE)
VALUES (0, 282, ''VW_CREDITO_DIVERSO'', '''', 0, ''198;114;80;191;350;502;1200;93;6585R;'', ''Producto;Descripción Producto;Cliente;Nombre Cliente;Signo;Importe Actual;Fecha Vencimiento;Garantía;Jts_Oid;'', ''TOP/CLIENTES'', ''VW_CREDITO_DIVERSO'', 0)


INSERT INTO dbo.DICCIONARIO (NUMERODECAMPO, USODELCAMPO, REFERENCIA, DESCRIPCION, PROMPT, LARGO, TIPODECAMPO, DECIMALES, EDICION, CONTABILIZA, CONCEPTO, CALCULO, VALIDACION, TABLADEVALIDACION, TABLADEAYUDA, OPCIONES, TABLA, CAMPO, BASICO, MASCARA)
VALUES (49622, NULL, 0, ''Ayuda Credito Diverso'', ''Ayuda Credito Diverso'', 15, ''N'', 0, NULL, 0, 0, 0, 0, 0, 282, 0, 0, NULL, 0, NULL)

')
EXECUTE('

CREATE VIEW DBO.VW_CREDITO_DIVERSO AS
SELECT 
p.C6250 AS ''Producto'',
p.C6251 AS ''Descripción Producto'',
s.C1803 AS ''Cliente'',
l.NOMBRECLIENTE AS ''Nombre Cliente'',
(CASE
WHEN s.C1604<0 THEN ''Deudor''
ELSE ''Acreedor''
END) AS ''Signo'',
(CASE
WHEN s.C1604<0 THEN s.C1604*-1
ELSE s.C1604
END) AS ''Importe Actual'',
c.FECHA_VENCIMIENTO AS ''Fecha Vencimiento'',
(SELECT DESCRIPCION FROM OPCIONES WHERE NUMERODECAMPO=49621 AND OPCIONINTERNA=c.GARANTIA ) AS ''Garantía'',
c.JTSOID AS ''Jts_Oid''
FROM CON_CREDITO_DIVERSO c INNER JOIN SALDOS s ON c.JTSOID=s.JTS_OID INNER JOIN PRODUCTOS p ON p.C6250=s.PRODUCTO LEFT JOIN CLI_CLIENTES l ON l.CODIGOCLIENTE=s.C1803
WHERE ((c.TZ_LOCK < 300000000000000 OR c.TZ_LOCK >= 400000000000000) AND (c.TZ_LOCK < 100000000000000 OR c.TZ_LOCK >= 200000000000000))


')