EXECUTE('
IF OBJECT_ID (''VW_TABLA_CAJAS'') IS NOT NULL
	DROP VIEW VW_TABLA_CAJAS
')

EXECUTE('
CREATE VIEW [VW_TABLA_CAJAS] AS
SELECT 
	t.SUCURSAL AS ''Sucursal'',
	t.NRO_CAJA AS ''Nro de Caja'',
	u.INICIALES AS ''Usuario'',
	t.DESCRIPCION AS ''Descripci√≥n'',
	t.ESTADO
FROM TABLA_CAJAS t  WITH (NOLOCK)
INNER JOIN USUARIOS u  WITH (NOLOCK)ON t.NRO_CAJA=u.NRODECAJA 
									AND t.SUCURSAL=u.NROSUCURSAL 
									AND ((t.TZ_LOCK < 300000000000000 OR t.TZ_LOCK >= 400000000000000) 
									 AND (t.TZ_LOCK < 100000000000000 OR t.TZ_LOCK >= 200000000000000)) 
									AND ((u.TZ_LOCK < 300000000000000 OR u.TZ_LOCK >= 400000000000000) 
									 AND (u.TZ_LOCK < 100000000000000 OR u.TZ_LOCK >= 200000000000000))
')

EXECUTE('
INSERT INTO DICCIONARIO (NUMERODECAMPO, USODELCAMPO, REFERENCIA, DESCRIPCION, PROMPT, LARGO, TIPODECAMPO, DECIMALES, EDICION, CONTABILIZA, CONCEPTO, CALCULO, VALIDACION, TABLADEVALIDACION, TABLADEAYUDA, OPCIONES, TABLA, CAMPO, BASICO, MASCARA)
VALUES (49200, '' '', 0, ''Ayuda de Tabla Caja'', ''Ayuda de Tabla Caja'', 3, ''N'', 0, NULL, 0, 0, 0, 0, 54, 543, 0, 0, NULL, 0, NULL)
')