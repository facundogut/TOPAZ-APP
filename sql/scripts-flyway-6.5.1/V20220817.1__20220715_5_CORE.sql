


-- Parche_NUSICREDBR_2536

CREATE TABLE BS_IOF_COMPLEMENTARIO (
TZ_LOCK        			NUMERIC (15) DEFAULT (0) NOT NULL,
SALDOS_JTS_OID 			NUMERIC (10) NOT NULL,
NUMERO_CUOTA   			NUMERIC (3) NOT NULL,
VENCIMIENTO				DATETIME NOT NULL,
CAPITAL_ORIGINAL		NUMERIC (15,2) NOT NULL,
DIAS_COBRADOS			NUMERIC (4) DEFAULT (0) NOT NULL,
FECHA_MAXIMA			DATETIME NOT NULL,
CAPITAL_CANCELADO		NUMERIC (15,2) DEFAULT (0),
SALDO_CAPITAL			NUMERIC (15,2) DEFAULT (0),
CAP_ADEL_CUO_VENC		NUMERIC (15,2) DEFAULT (0),
FECHA_CAP_ADEL_CUO_VENC	DATETIME,
FECHA_PAGO_PARCIAL		DATETIME,	
CONSTRAINT PK_BS_IOF_COMPLEMENTARIO PRIMARY KEY (SALDOS_JTS_OID, NUMERO_CUOTA)
)


ALTER TABLE BS_CONTEXTO_POR_EVENTO_HP ADD DETALLE_IOF_COMP VARBINARY (max);

INSERT INTO PARAMETROS_JTS (FUNCIONALIDAD, PARAMETRO, VALOR, TZ_LOCK)
VALUES ('MIGRACION_IOF_COMPLEMENTARIO', 'DESCRIPCION', 'Migración nuevo modelo de IOF Complementario', 0);

INSERT INTO PARAMETROS_JTS (FUNCIONALIDAD, PARAMETRO, VALOR, TZ_LOCK)
VALUES ('MIGRACION_IOF_COMPLEMENTARIO', 'OPERACION', '53', 0);

INSERT INTO PARAMETROS_JTS (FUNCIONALIDAD, PARAMETRO, VALOR, TZ_LOCK)
VALUES ('MIGRACION_IOF_COMPLEMENTARIO', 'CANAL', '0', 0);

INSERT INTO OPERACIONES (TITULO, IDENTIFICACION, NOMBRE, DESCRIPCION, MNEMOTECNICO, AUTORIZACION, FORMULARIOPRINCIPAL, PROXOPERACION, ESTADO, TZ_LOCK, COPIAS, SUBOPERACION, PERMITEBAJA, COMPORTAMIENTOENCIERRE, REQUIERECONTRASENA, PERMITECONCURRENTE, PERMITEESTADODIFERIDO, ICONO_TITULO, ESTILO)
VALUES (8600, 53, 'Migracion IOF Comp', NULL, '53', 'N', NULL, NULL, 'P', 0, NULL, NULL, NULL, 'I', 'N', 'S', 'S', NULL, NULL);




INSERT INTO BITACORA_HM (ACTUALIZACION,FECHA_APLICADO,TIPO_ACTUALIZACION,ESTADO,SCRIPT_SQL,SCRIPT_SQL_UNDO,ULT_SENTENCIA_OK)  VALUES ('20220715_5',NULL,'MANUAL','NO_DEFINIDO','CgoNCi0tIFBhcmNoZV9OVVNJQ1JFREJSXzI1MzYKDQpDUkVBVEUgVEFCTEUgQlNfSU9GX0NPTVBM
RU1FTlRBUklPICgKVFpfTE9DSyAgICAgICAgCQkJTlVNRVJJQyAoMTUpIERFRkFVTFQgKDApIE5P
VCBOVUxMLApTQUxET1NfSlRTX09JRCAJCQlOVU1FUklDICgxMCkgTk9UIE5VTEwsCk5VTUVST19D
VU9UQSAgIAkJCU5VTUVSSUMgKDMpIE5PVCBOVUxMLApWRU5DSU1JRU5UTwkJCQlEQVRFVElNRSBO
T1QgTlVMTCwKQ0FQSVRBTF9PUklHSU5BTAkJTlVNRVJJQyAoMTUsMikgTk9UIE5VTEwsCkRJQVNf
Q09CUkFET1MJCQlOVU1FUklDICg0KSBERUZBVUxUICgwKSBOT1QgTlVMTCwKRkVDSEFfTUFYSU1B
CQkJREFURVRJTUUgTk9UIE5VTEwsCkNBUElUQUxfQ0FOQ0VMQURPCQlOVU1FUklDICgxNSwyKSBE
RUZBVUxUICgwKSwKU0FMRE9fQ0FQSVRBTAkJCU5VTUVSSUMgKDE1LDIpIERFRkFVTFQgKDApLApD
QVBfQURFTF9DVU9fVkVOQwkJTlVNRVJJQyAoMTUsMikgREVGQVVMVCAoMCksCkZFQ0hBX0NBUF9B
REVMX0NVT19WRU5DCURBVEVUSU1FLApGRUNIQV9QQUdPX1BBUkNJQUwJCURBVEVUSU1FLAkKQ09O
U1RSQUlOVCBQS19CU19JT0ZfQ09NUExFTUVOVEFSSU8gUFJJTUFSWSBLRVkgKFNBTERPU19KVFNf
T0lELCBOVU1FUk9fQ1VPVEEpCikKR087Cg0KQUxURVIgVEFCTEUgQlNfQ09OVEVYVE9fUE9SX0VW
RU5UT19IUCBBREQgREVUQUxMRV9JT0ZfQ09NUCBWQVJCSU5BUlkgKG1heCk7Cg0KSU5TRVJUIElO
VE8gUEFSQU1FVFJPU19KVFMgKEZVTkNJT05BTElEQUQsIFBBUkFNRVRSTywgVkFMT1IsIFRaX0xP
Q0spClZBTFVFUyAoJ01JR1JBQ0lPTl9JT0ZfQ09NUExFTUVOVEFSSU8nLCAnREVTQ1JJUENJT04n
LCAnTWlncmFjafNuIG51ZXZvIG1vZGVsbyBkZSBJT0YgQ29tcGxlbWVudGFyaW8nLCAwKTsKCklO
U0VSVCBJTlRPIFBBUkFNRVRST1NfSlRTIChGVU5DSU9OQUxJREFELCBQQVJBTUVUUk8sIFZBTE9S
LCBUWl9MT0NLKQpWQUxVRVMgKCdNSUdSQUNJT05fSU9GX0NPTVBMRU1FTlRBUklPJywgJ09QRVJB
Q0lPTicsICc1MycsIDApOwoKSU5TRVJUIElOVE8gUEFSQU1FVFJPU19KVFMgKEZVTkNJT05BTElE
QUQsIFBBUkFNRVRSTywgVkFMT1IsIFRaX0xPQ0spClZBTFVFUyAoJ01JR1JBQ0lPTl9JT0ZfQ09N
UExFTUVOVEFSSU8nLCAnQ0FOQUwnLCAnMCcsIDApOwoKSU5TRVJUIElOVE8gT1BFUkFDSU9ORVMg
KFRJVFVMTywgSURFTlRJRklDQUNJT04sIE5PTUJSRSwgREVTQ1JJUENJT04sIE1ORU1PVEVDTklD
TywgQVVUT1JJWkFDSU9OLCBGT1JNVUxBUklPUFJJTkNJUEFMLCBQUk9YT1BFUkFDSU9OLCBFU1RB
RE8sIFRaX0xPQ0ssIENPUElBUywgU1VCT1BFUkFDSU9OLCBQRVJNSVRFQkFKQSwgQ09NUE9SVEFN
SUVOVE9FTkNJRVJSRSwgUkVRVUlFUkVDT05UUkFTRU5BLCBQRVJNSVRFQ09OQ1VSUkVOVEUsIFBF
Uk1JVEVFU1RBRE9ESUZFUklETywgSUNPTk9fVElUVUxPLCBFU1RJTE8pClZBTFVFUyAoODYwMCwg
NTMsICdNaWdyYWNpb24gSU9GIENvbXAnLCBOVUxMLCAnNTMnLCAnTicsIE5VTEwsIE5VTEwsICdQ
JywgMCwgTlVMTCwgTlVMTCwgTlVMTCwgJ0knLCAnTicsICdTJywgJ1MnLCBOVUxMLCBOVUxMKTsK
DQoKCg0K', NULL, 0);
