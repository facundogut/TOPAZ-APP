


-- Patch_NUSICREDBR_3032

-- Patch_NUSICREDBR_3032

-- HM begin sentence
				BEGIN TRAN
					IF EXISTS 
						(SELECT * FROM sysobjects WHERE name = 'AOP_SALDOS')
					DROP TABLE AOP_SALDOS;
				COMMIT; 
			-- HM end sentence;

-- HM begin sentence
				BEGIN TRAN
					IF EXISTS 
						(SELECT * FROM sysobjects WHERE name = 'AOP_PLANPAGOS')
					DROP TABLE AOP_PLANPAGOS;
				COMMIT; 
			-- HM end sentence;

-- HM begin sentence
				BEGIN TRAN
					IF EXISTS 
						(SELECT * FROM sysobjects WHERE name = 'AOP_GASTOS_POR_CUOTA')
					DROP TABLE AOP_GASTOS_POR_CUOTA;
				COMMIT; 
			-- HM end sentence;

-- HM begin sentence
				BEGIN TRAN
					IF EXISTS 
						(SELECT * FROM sysobjects WHERE name = 'AOP_EVENTOS_INT_POR_TRAMO')
					DROP TABLE AOP_EVENTOS_INT_POR_TRAMO;
				COMMIT; 
			-- HM end sentence;

-- HM begin sentence
				BEGIN TRAN
					IF EXISTS 
						(SELECT * FROM sysobjects WHERE name = 'AOP_HIST_PLAZO_INI_RECALC')
					DROP TABLE AOP_HIST_PLAZO_INI_RECALC;
				COMMIT; 
			-- HM end sentence;

-- HM begin sentence
				BEGIN TRAN
					IF EXISTS 
						(SELECT * FROM sysobjects WHERE name = 'AOP_HISTORIA_PLAZO_S')
					DROP TABLE AOP_HISTORIA_PLAZO_S;
				COMMIT; 
			-- HM end sentence;

-- HM begin sentence
				BEGIN TRAN
					IF EXISTS 
						(SELECT * FROM sysobjects WHERE name = 'AOP_HISTORIA_PLAZO_K')
					DROP TABLE AOP_HISTORIA_PLAZO_K;
				COMMIT; 
			-- HM end sentence;

-- HM begin sentence
				BEGIN TRAN
					IF EXISTS 
						(SELECT * FROM sysobjects WHERE name = 'AOP_HISTORIA_PLAZO_G')
					DROP TABLE AOP_HISTORIA_PLAZO_G;
				COMMIT; 
			-- HM end sentence;

-- HM begin sentence
				BEGIN TRAN
					IF EXISTS 
						(SELECT * FROM sysobjects WHERE name = 'AOP_HISTORIA_PLAZO_P')
					DROP TABLE AOP_HISTORIA_PLAZO_P;
				COMMIT; 
			-- HM end sentence;

-- HM begin sentence
				BEGIN TRAN
					IF EXISTS 
						(SELECT * FROM sysobjects WHERE name = 'AOP_HISTORIA_PLAZO_V')
					DROP TABLE AOP_HISTORIA_PLAZO_V;
				COMMIT; 
			-- HM end sentence;

-- HM begin sentence
				BEGIN TRAN
					IF EXISTS 
						(SELECT * FROM sysobjects WHERE name = 'AOP_HISTORIA_PLAZO_B')
					DROP TABLE AOP_HISTORIA_PLAZO_B;
				COMMIT; 
			-- HM end sentence;

-- HM begin sentence
				BEGIN TRAN
					IF EXISTS 
						(SELECT * FROM sysobjects WHERE name = 'AOP_HISTORIA_PLAZO_M')
					DROP TABLE AOP_HISTORIA_PLAZO_M;
				COMMIT; 
			-- HM end sentence;

-- HM begin sentence
				BEGIN TRAN
					IF EXISTS 
						(SELECT * FROM sysobjects WHERE name = 'AOP_HISTORIA_PLAZO_D')
					DROP TABLE AOP_HISTORIA_PLAZO_D;
				COMMIT; 
			-- HM end sentence;

-- HM begin sentence
				BEGIN TRAN
					IF EXISTS 
						(SELECT * FROM sysobjects WHERE name = 'AOP_HISTORIA_PLAZO_E')
					DROP TABLE AOP_HISTORIA_PLAZO_E;
				COMMIT; 
			-- HM end sentence;

-- HM begin sentence
				BEGIN TRAN
					IF EXISTS 
						(SELECT * FROM sysobjects WHERE name = 'AOP_HISTORIA_PLAZO_F')
					DROP TABLE AOP_HISTORIA_PLAZO_F;
				COMMIT; 
			-- HM end sentence;

-- HM begin sentence
				BEGIN TRAN
					IF EXISTS 
						(SELECT * FROM sysobjects WHERE name = 'AOP_HISTORIA_PLAZO_J')
					DROP TABLE AOP_HISTORIA_PLAZO_J;
				COMMIT; 
			-- HM end sentence;

-- HM begin sentence
				BEGIN TRAN
					IF EXISTS 
						(SELECT * FROM sysobjects WHERE name = 'AOP_DETALLE_CALC_MORA')
					DROP TABLE AOP_DETALLE_CALC_MORA;
				COMMIT; 
			-- HM end sentence;

-- HM begin sentence
				BEGIN TRAN
					IF EXISTS 
						(SELECT * FROM sysobjects WHERE name = 'AOP_DETALLE_CALC_MORA_TRAMO')
					DROP TABLE AOP_DETALLE_CALC_MORA_TRAMO;
				COMMIT; 
			-- HM end sentence;

-- HM begin sentence
				BEGIN TRAN
					IF EXISTS 
						(SELECT * FROM sysobjects WHERE name = 'AOP_DETALLE_CALC_ICMORA')
					DROP TABLE AOP_DETALLE_CALC_ICMORA;
				COMMIT; 
			-- HM end sentence;

-- HM begin sentence
				BEGIN TRAN
					IF EXISTS 
						(SELECT * FROM sysobjects WHERE name = 'AOP_DET_CALC_ICMORA_TRAMO')
					DROP TABLE AOP_DET_CALC_ICMORA_TRAMO;
				COMMIT; 
			-- HM end sentence;

-- HM begin sentence
				BEGIN TRAN
					IF EXISTS 
						(SELECT * FROM sysobjects WHERE name = 'AOP_DETALLE_ASIENTO_AJUSTE')
					DROP TABLE AOP_DETALLE_ASIENTO_AJUSTE;
				COMMIT; 
			-- HM end sentence;




INSERT INTO BITACORA_HM (ACTUALIZACION,FECHA_APLICADO,TIPO_ACTUALIZACION,ESTADO,SCRIPT_SQL,SCRIPT_SQL_UNDO,ULT_SENTENCIA_OK)  VALUES ('20231004_1',NULL,'MANUAL','NO_DEFINIDO','CgoNCi0tIFBhdGNoX05VU0lDUkVEQlJfMzAzMgoNCi0tIFBhdGNoX05VU0lDUkVEQlJfMzAzMgoN
Ci0tIEhNIGJlZ2luIHNlbnRlbmNlCgkJCQlCRUdJTiBUUkFOCgkJCQkJSUYgRVhJU1RTIAoJCQkJ
CQkoU0VMRUNUICogRlJPTSBzeXNvYmplY3RzIFdIRVJFIG5hbWUgPSAnQU9QX1NBTERPUycpCgkJ
CQkJRFJPUCBUQUJMRSBBT1BfU0FMRE9TOwoJCQkJQ09NTUlUOyAKCQkJLS0gSE0gZW5kIHNlbnRl
bmNlOwoNCi0tIEhNIGJlZ2luIHNlbnRlbmNlCgkJCQlCRUdJTiBUUkFOCgkJCQkJSUYgRVhJU1RT
IAoJCQkJCQkoU0VMRUNUICogRlJPTSBzeXNvYmplY3RzIFdIRVJFIG5hbWUgPSAnQU9QX1BMQU5Q
QUdPUycpCgkJCQkJRFJPUCBUQUJMRSBBT1BfUExBTlBBR09TOwoJCQkJQ09NTUlUOyAKCQkJLS0g
SE0gZW5kIHNlbnRlbmNlOwoNCi0tIEhNIGJlZ2luIHNlbnRlbmNlCgkJCQlCRUdJTiBUUkFOCgkJ
CQkJSUYgRVhJU1RTIAoJCQkJCQkoU0VMRUNUICogRlJPTSBzeXNvYmplY3RzIFdIRVJFIG5hbWUg
PSAnQU9QX0dBU1RPU19QT1JfQ1VPVEEnKQoJCQkJCURST1AgVEFCTEUgQU9QX0dBU1RPU19QT1Jf
Q1VPVEE7CgkJCQlDT01NSVQ7IAoJCQktLSBITSBlbmQgc2VudGVuY2U7Cg0KLS0gSE0gYmVnaW4g
c2VudGVuY2UKCQkJCUJFR0lOIFRSQU4KCQkJCQlJRiBFWElTVFMgCgkJCQkJCShTRUxFQ1QgKiBG
Uk9NIHN5c29iamVjdHMgV0hFUkUgbmFtZSA9ICdBT1BfRVZFTlRPU19JTlRfUE9SX1RSQU1PJykK
CQkJCQlEUk9QIFRBQkxFIEFPUF9FVkVOVE9TX0lOVF9QT1JfVFJBTU87CgkJCQlDT01NSVQ7IAoJ
CQktLSBITSBlbmQgc2VudGVuY2U7Cg0KLS0gSE0gYmVnaW4gc2VudGVuY2UKCQkJCUJFR0lOIFRS
QU4KCQkJCQlJRiBFWElTVFMgCgkJCQkJCShTRUxFQ1QgKiBGUk9NIHN5c29iamVjdHMgV0hFUkUg
bmFtZSA9ICdBT1BfSElTVF9QTEFaT19JTklfUkVDQUxDJykKCQkJCQlEUk9QIFRBQkxFIEFPUF9I
SVNUX1BMQVpPX0lOSV9SRUNBTEM7CgkJCQlDT01NSVQ7IAoJCQktLSBITSBlbmQgc2VudGVuY2U7
Cg0KLS0gSE0gYmVnaW4gc2VudGVuY2UKCQkJCUJFR0lOIFRSQU4KCQkJCQlJRiBFWElTVFMgCgkJ
CQkJCShTRUxFQ1QgKiBGUk9NIHN5c29iamVjdHMgV0hFUkUgbmFtZSA9ICdBT1BfSElTVE9SSUFf
UExBWk9fUycpCgkJCQkJRFJPUCBUQUJMRSBBT1BfSElTVE9SSUFfUExBWk9fUzsKCQkJCUNPTU1J
VDsgCgkJCS0tIEhNIGVuZCBzZW50ZW5jZTsKDQotLSBITSBiZWdpbiBzZW50ZW5jZQoJCQkJQkVH
SU4gVFJBTgoJCQkJCUlGIEVYSVNUUyAKCQkJCQkJKFNFTEVDVCAqIEZST00gc3lzb2JqZWN0cyBX
SEVSRSBuYW1lID0gJ0FPUF9ISVNUT1JJQV9QTEFaT19LJykKCQkJCQlEUk9QIFRBQkxFIEFPUF9I
SVNUT1JJQV9QTEFaT19LOwoJCQkJQ09NTUlUOyAKCQkJLS0gSE0gZW5kIHNlbnRlbmNlOwoNCi0t
IEhNIGJlZ2luIHNlbnRlbmNlCgkJCQlCRUdJTiBUUkFOCgkJCQkJSUYgRVhJU1RTIAoJCQkJCQko
U0VMRUNUICogRlJPTSBzeXNvYmplY3RzIFdIRVJFIG5hbWUgPSAnQU9QX0hJU1RPUklBX1BMQVpP
X0cnKQoJCQkJCURST1AgVEFCTEUgQU9QX0hJU1RPUklBX1BMQVpPX0c7CgkJCQlDT01NSVQ7IAoJ
CQktLSBITSBlbmQgc2VudGVuY2U7Cg0KLS0gSE0gYmVnaW4gc2VudGVuY2UKCQkJCUJFR0lOIFRS
QU4KCQkJCQlJRiBFWElTVFMgCgkJCQkJCShTRUxFQ1QgKiBGUk9NIHN5c29iamVjdHMgV0hFUkUg
bmFtZSA9ICdBT1BfSElTVE9SSUFfUExBWk9fUCcpCgkJCQkJRFJPUCBUQUJMRSBBT1BfSElTVE9S
SUFfUExBWk9fUDsKCQkJCUNPTU1JVDsgCgkJCS0tIEhNIGVuZCBzZW50ZW5jZTsKDQotLSBITSBi
ZWdpbiBzZW50ZW5jZQoJCQkJQkVHSU4gVFJBTgoJCQkJCUlGIEVYSVNUUyAKCQkJCQkJKFNFTEVD
VCAqIEZST00gc3lzb2JqZWN0cyBXSEVSRSBuYW1lID0gJ0FPUF9ISVNUT1JJQV9QTEFaT19WJykK
CQkJCQlEUk9QIFRBQkxFIEFPUF9ISVNUT1JJQV9QTEFaT19WOwoJCQkJQ09NTUlUOyAKCQkJLS0g
SE0gZW5kIHNlbnRlbmNlOwoNCi0tIEhNIGJlZ2luIHNlbnRlbmNlCgkJCQlCRUdJTiBUUkFOCgkJ
CQkJSUYgRVhJU1RTIAoJCQkJCQkoU0VMRUNUICogRlJPTSBzeXNvYmplY3RzIFdIRVJFIG5hbWUg
PSAnQU9QX0hJU1RPUklBX1BMQVpPX0InKQoJCQkJCURST1AgVEFCTEUgQU9QX0hJU1RPUklBX1BM
QVpPX0I7CgkJCQlDT01NSVQ7IAoJCQktLSBITSBlbmQgc2VudGVuY2U7Cg0KLS0gSE0gYmVnaW4g
c2VudGVuY2UKCQkJCUJFR0lOIFRSQU4KCQkJCQlJRiBFWElTVFMgCgkJCQkJCShTRUxFQ1QgKiBG
Uk9NIHN5c29iamVjdHMgV0hFUkUgbmFtZSA9ICdBT1BfSElTVE9SSUFfUExBWk9fTScpCgkJCQkJ
RFJPUCBUQUJMRSBBT1BfSElTVE9SSUFfUExBWk9fTTsKCQkJCUNPTU1JVDsgCgkJCS0tIEhNIGVu
ZCBzZW50ZW5jZTsKDQotLSBITSBiZWdpbiBzZW50ZW5jZQoJCQkJQkVHSU4gVFJBTgoJCQkJCUlG
IEVYSVNUUyAKCQkJCQkJKFNFTEVDVCAqIEZST00gc3lzb2JqZWN0cyBXSEVSRSBuYW1lID0gJ0FP
UF9ISVNUT1JJQV9QTEFaT19EJykKCQkJCQlEUk9QIFRBQkxFIEFPUF9ISVNUT1JJQV9QTEFaT19E
OwoJCQkJQ09NTUlUOyAKCQkJLS0gSE0gZW5kIHNlbnRlbmNlOwoNCi0tIEhNIGJlZ2luIHNlbnRl
bmNlCgkJCQlCRUdJTiBUUkFOCgkJCQkJSUYgRVhJU1RTIAoJCQkJCQkoU0VMRUNUICogRlJPTSBz
eXNvYmplY3RzIFdIRVJFIG5hbWUgPSAnQU9QX0hJU1RPUklBX1BMQVpPX0UnKQoJCQkJCURST1Ag
VEFCTEUgQU9QX0hJU1RPUklBX1BMQVpPX0U7CgkJCQlDT01NSVQ7IAoJCQktLSBITSBlbmQgc2Vu
dGVuY2U7Cg0KLS0gSE0gYmVnaW4gc2VudGVuY2UKCQkJCUJFR0lOIFRSQU4KCQkJCQlJRiBFWElT
VFMgCgkJCQkJCShTRUxFQ1QgKiBGUk9NIHN5c29iamVjdHMgV0hFUkUgbmFtZSA9ICdBT1BfSElT
VE9SSUFfUExBWk9fRicpCgkJCQkJRFJPUCBUQUJMRSBBT1BfSElTVE9SSUFfUExBWk9fRjsKCQkJ
CUNPTU1JVDsgCgkJCS0tIEhNIGVuZCBzZW50ZW5jZTsKDQotLSBITSBiZWdpbiBzZW50ZW5jZQoJ
CQkJQkVHSU4gVFJBTgoJCQkJCUlGIEVYSVNUUyAKCQkJCQkJKFNFTEVDVCAqIEZST00gc3lzb2Jq
ZWN0cyBXSEVSRSBuYW1lID0gJ0FPUF9ISVNUT1JJQV9QTEFaT19KJykKCQkJCQlEUk9QIFRBQkxF
IEFPUF9ISVNUT1JJQV9QTEFaT19KOwoJCQkJQ09NTUlUOyAKCQkJLS0gSE0gZW5kIHNlbnRlbmNl
OwoNCi0tIEhNIGJlZ2luIHNlbnRlbmNlCgkJCQlCRUdJTiBUUkFOCgkJCQkJSUYgRVhJU1RTIAoJ
CQkJCQkoU0VMRUNUICogRlJPTSBzeXNvYmplY3RzIFdIRVJFIG5hbWUgPSAnQU9QX0RFVEFMTEVf
Q0FMQ19NT1JBJykKCQkJCQlEUk9QIFRBQkxFIEFPUF9ERVRBTExFX0NBTENfTU9SQTsKCQkJCUNP
TU1JVDsgCgkJCS0tIEhNIGVuZCBzZW50ZW5jZTsKDQotLSBITSBiZWdpbiBzZW50ZW5jZQoJCQkJ
QkVHSU4gVFJBTgoJCQkJCUlGIEVYSVNUUyAKCQkJCQkJKFNFTEVDVCAqIEZST00gc3lzb2JqZWN0
cyBXSEVSRSBuYW1lID0gJ0FPUF9ERVRBTExFX0NBTENfTU9SQV9UUkFNTycpCgkJCQkJRFJPUCBU
QUJMRSBBT1BfREVUQUxMRV9DQUxDX01PUkFfVFJBTU87CgkJCQlDT01NSVQ7IAoJCQktLSBITSBl
bmQgc2VudGVuY2U7Cg0KLS0gSE0gYmVnaW4gc2VudGVuY2UKCQkJCUJFR0lOIFRSQU4KCQkJCQlJ
RiBFWElTVFMgCgkJCQkJCShTRUxFQ1QgKiBGUk9NIHN5c29iamVjdHMgV0hFUkUgbmFtZSA9ICdB
T1BfREVUQUxMRV9DQUxDX0lDTU9SQScpCgkJCQkJRFJPUCBUQUJMRSBBT1BfREVUQUxMRV9DQUxD
X0lDTU9SQTsKCQkJCUNPTU1JVDsgCgkJCS0tIEhNIGVuZCBzZW50ZW5jZTsKDQotLSBITSBiZWdp
biBzZW50ZW5jZQoJCQkJQkVHSU4gVFJBTgoJCQkJCUlGIEVYSVNUUyAKCQkJCQkJKFNFTEVDVCAq
IEZST00gc3lzb2JqZWN0cyBXSEVSRSBuYW1lID0gJ0FPUF9ERVRfQ0FMQ19JQ01PUkFfVFJBTU8n
KQoJCQkJCURST1AgVEFCTEUgQU9QX0RFVF9DQUxDX0lDTU9SQV9UUkFNTzsKCQkJCUNPTU1JVDsg
CgkJCS0tIEhNIGVuZCBzZW50ZW5jZTsKDQotLSBITSBiZWdpbiBzZW50ZW5jZQoJCQkJQkVHSU4g
VFJBTgoJCQkJCUlGIEVYSVNUUyAKCQkJCQkJKFNFTEVDVCAqIEZST00gc3lzb2JqZWN0cyBXSEVS
RSBuYW1lID0gJ0FPUF9ERVRBTExFX0FTSUVOVE9fQUpVU1RFJykKCQkJCQlEUk9QIFRBQkxFIEFP
UF9ERVRBTExFX0FTSUVOVE9fQUpVU1RFOwoJCQkJQ09NTUlUOyAKCQkJLS0gSE0gZW5kIHNlbnRl
bmNlOwoNCgoKDQo=', NULL, 0);
