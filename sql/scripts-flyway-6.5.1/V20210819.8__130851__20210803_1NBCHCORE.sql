

-- Parche_NUNBCHACO_165

-- Crear tablas CAMPOS_CONDONA, BS_PAYS_DETAIL_CONDONA, BS_PAYS_CONDONA_A_CONFIRMAR
CREATE TABLE CAMPOS_CONDONA
(
CODIGO		           	NUMERIC (5) NOT NULL,
DESCRIPCION            	VARCHAR (35),
CAMPO_COBRADO  		   	NUMERIC (5) DEFAULT ((0)),
CAMPO_CONTAB   		   	NUMERIC (5) DEFAULT ((0)),
CAMPO_NO_CONTAB	       	NUMERIC (5) DEFAULT ((0)),	
CONSTRAINT PK_CAMPOS_CONDONA PRIMARY KEY (CODIGO)
)


CREATE TABLE BS_PAYS_DETAIL_CONDONA
(
TZ_LOCK                 NUMERIC (15) DEFAULT ((0)),
SALDOS_JTS_OID          NUMERIC (10) DEFAULT ((0)) NOT NULL,
HP_JTS_OID              NUMERIC (10) DEFAULT ((0)) NOT NULL,
CUOTA                   NUMERIC (4) NOT NULL,
CAPITAL_COBRADO			NUMERIC (15, 2) DEFAULT ((0)),
CAPITAL_CONTAB          NUMERIC (15, 2) DEFAULT ((0)),
CAPITAL_NO_CONTAB       NUMERIC (15, 2) DEFAULT ((0)),
INTERES_COBRADO			NUMERIC (15, 2) DEFAULT ((0)),
INTERES_CONTAB          NUMERIC (15, 2) DEFAULT ((0)),
INTERES_NO_CONTAB       NUMERIC (15, 2) DEFAULT ((0)),
MORA_COBRADO			NUMERIC (15, 2) DEFAULT ((0)),
MORA_CONTAB             NUMERIC (15, 2) DEFAULT ((0)),
MORA_NO_CONTAB          NUMERIC (15, 2) DEFAULT ((0)),
ICMORA_COBRADO			NUMERIC (15, 2) DEFAULT ((0)),
ICMORA_CONTAB           NUMERIC (15, 2) DEFAULT ((0)),
ICMORA_NO_CONTAB        NUMERIC (15, 2) DEFAULT ((0)),
GASTO_COBRADO			NUMERIC (15, 2) DEFAULT ((0)),
GASTOS_CONTAB           NUMERIC (15, 2) DEFAULT ((0)),
GASTOS_NO_CONTAB        NUMERIC (15, 2) DEFAULT ((0)),
CONSTRAINT BS_PAYS_DETAIL_CONDONA_KEY PRIMARY KEY (SALDOS_JTS_OID,HP_JTS_OID,CUOTA)
)


CREATE TABLE BS_PAYS_CONDONA_A_CONFIRMAR
(
TZ_LOCK                    NUMERIC (15) DEFAULT ((0)),
NROASIENTOMOV              NUMERIC (10) DEFAULT ((0)) NOT NULL,
ORDINALASIENTO             NUMERIC (5) DEFAULT ((0)) NOT NULL,
FECHAPROCESOMOV            DATETIME NOT NULL,
SUCURSALMVTO               NUMERIC (5) DEFAULT ((0)) NOT NULL,
SALDOS_JTS_OID             NUMERIC (10) DEFAULT ((0)) NOT NULL,
CUOTA                      NUMERIC (4) NOT NULL,
CAPITAL_COBRADO			NUMERIC (15, 2) DEFAULT ((0)),
CAPITAL_CONTAB          NUMERIC (15, 2) DEFAULT ((0)),
CAPITAL_NO_CONTAB       NUMERIC (15, 2) DEFAULT ((0)),
INTERES_COBRADO			NUMERIC (15, 2) DEFAULT ((0)),
INTERES_CONTAB          NUMERIC (15, 2) DEFAULT ((0)),
INTERES_NO_CONTAB       NUMERIC (15, 2) DEFAULT ((0)),
MORA_COBRADO			NUMERIC (15, 2) DEFAULT ((0)),
MORA_CONTAB             NUMERIC (15, 2) DEFAULT ((0)),
MORA_NO_CONTAB          NUMERIC (15, 2) DEFAULT ((0)),
ICMORA_COBRADO			NUMERIC (15, 2) DEFAULT ((0)),
ICMORA_CONTAB           NUMERIC (15, 2) DEFAULT ((0)),
ICMORA_NO_CONTAB        NUMERIC (15, 2) DEFAULT ((0)),
GASTO_COBRADO			NUMERIC (15, 2) DEFAULT ((0)),
GASTOS_CONTAB           NUMERIC (15, 2) DEFAULT ((0)),
GASTOS_NO_CONTAB        NUMERIC (15, 2) DEFAULT ((0)),	
CONSTRAINT BS_PAYS_CONDONA_A_CONFIRMAR_KEY PRIMARY KEY (NROASIENTOMOV,ORDINALASIENTO,FECHAPROCESOMOV,SUCURSALMVTO,SALDOS_JTS_OID,CUOTA)
)





INSERT INTO BITACORA_HM (ACTUALIZACION,FECHA_APLICADO,TIPO_ACTUALIZACION,ESTADO,SCRIPT_SQL,SCRIPT_SQL_UNDO,ULT_SENTENCIA_OK)  VALUES ('20210804_3',NULL,'MANUAL','NO_DEFINIDO','CgoNCi0tIFBhcmNoZV9OVU5CQ0hBQ09fMTY1Cg0KLS0gQ3JlYXIgdGFibGFzIENBTVBPU19DT05E
T05BLCBCU19QQVlTX0RFVEFJTF9DT05ET05BLCBCU19QQVlTX0NPTkRPTkFfQV9DT05GSVJNQVIN
CkNSRUFURSBUQUJMRSBDQU1QT1NfQ09ORE9OQQooCkNPRElHTwkJICAgICAgICAgICAJTlVNRVJJ
QyAoNSkgTk9UIE5VTEwsCkRFU0NSSVBDSU9OICAgICAgICAgICAgCVZBUkNIQVIgKDM1KSwKQ0FN
UE9fQ09CUkFETyAgCQkgICAJTlVNRVJJQyAoNSkgREVGQVVMVCAoKDApKSwKQ0FNUE9fQ09OVEFC
ICAgCQkgICAJTlVNRVJJQyAoNSkgREVGQVVMVCAoKDApKSwKQ0FNUE9fTk9fQ09OVEFCCSAgICAg
ICAJTlVNRVJJQyAoNSkgREVGQVVMVCAoKDApKSwJCkNPTlNUUkFJTlQgUEtfQ0FNUE9TX0NPTkRP
TkEgUFJJTUFSWSBLRVkgKENPRElHTykKKQpHTzsKCkNSRUFURSBUQUJMRSBCU19QQVlTX0RFVEFJ
TF9DT05ET05BCigKVFpfTE9DSyAgICAgICAgICAgICAgICAgTlVNRVJJQyAoMTUpIERFRkFVTFQg
KCgwKSksClNBTERPU19KVFNfT0lEICAgICAgICAgIE5VTUVSSUMgKDEwKSBERUZBVUxUICgoMCkp
IE5PVCBOVUxMLApIUF9KVFNfT0lEICAgICAgICAgICAgICBOVU1FUklDICgxMCkgREVGQVVMVCAo
KDApKSBOT1QgTlVMTCwKQ1VPVEEgICAgICAgICAgICAgICAgICAgTlVNRVJJQyAoNCkgTk9UIE5V
TEwsCkNBUElUQUxfQ09CUkFETwkJCU5VTUVSSUMgKDE1LCAyKSBERUZBVUxUICgoMCkpLApDQVBJ
VEFMX0NPTlRBQiAgICAgICAgICBOVU1FUklDICgxNSwgMikgREVGQVVMVCAoKDApKSwKQ0FQSVRB
TF9OT19DT05UQUIgICAgICAgTlVNRVJJQyAoMTUsIDIpIERFRkFVTFQgKCgwKSksCklOVEVSRVNf
Q09CUkFETwkJCU5VTUVSSUMgKDE1LCAyKSBERUZBVUxUICgoMCkpLApJTlRFUkVTX0NPTlRBQiAg
ICAgICAgICBOVU1FUklDICgxNSwgMikgREVGQVVMVCAoKDApKSwKSU5URVJFU19OT19DT05UQUIg
ICAgICAgTlVNRVJJQyAoMTUsIDIpIERFRkFVTFQgKCgwKSksCk1PUkFfQ09CUkFETwkJCU5VTUVS
SUMgKDE1LCAyKSBERUZBVUxUICgoMCkpLApNT1JBX0NPTlRBQiAgICAgICAgICAgICBOVU1FUklD
ICgxNSwgMikgREVGQVVMVCAoKDApKSwKTU9SQV9OT19DT05UQUIgICAgICAgICAgTlVNRVJJQyAo
MTUsIDIpIERFRkFVTFQgKCgwKSksCklDTU9SQV9DT0JSQURPCQkJTlVNRVJJQyAoMTUsIDIpIERF
RkFVTFQgKCgwKSksCklDTU9SQV9DT05UQUIgICAgICAgICAgIE5VTUVSSUMgKDE1LCAyKSBERUZB
VUxUICgoMCkpLApJQ01PUkFfTk9fQ09OVEFCICAgICAgICBOVU1FUklDICgxNSwgMikgREVGQVVM
VCAoKDApKSwKR0FTVE9fQ09CUkFETwkJCU5VTUVSSUMgKDE1LCAyKSBERUZBVUxUICgoMCkpLApH
QVNUT1NfQ09OVEFCICAgICAgICAgICBOVU1FUklDICgxNSwgMikgREVGQVVMVCAoKDApKSwKR0FT
VE9TX05PX0NPTlRBQiAgICAgICAgTlVNRVJJQyAoMTUsIDIpIERFRkFVTFQgKCgwKSksCkNPTlNU
UkFJTlQgQlNfUEFZU19ERVRBSUxfQ09ORE9OQV9LRVkgUFJJTUFSWSBLRVkgKFNBTERPU19KVFNf
T0lELEhQX0pUU19PSUQsQ1VPVEEpCikKR087CgpDUkVBVEUgVEFCTEUgQlNfUEFZU19DT05ET05B
X0FfQ09ORklSTUFSCigKVFpfTE9DSyAgICAgICAgICAgICAgICAgICAgTlVNRVJJQyAoMTUpIERF
RkFVTFQgKCgwKSksCk5ST0FTSUVOVE9NT1YgICAgICAgICAgICAgIE5VTUVSSUMgKDEwKSBERUZB
VUxUICgoMCkpIE5PVCBOVUxMLApPUkRJTkFMQVNJRU5UTyAgICAgICAgICAgICBOVU1FUklDICg1
KSBERUZBVUxUICgoMCkpIE5PVCBOVUxMLApGRUNIQVBST0NFU09NT1YgICAgICAgICAgICBEQVRF
VElNRSBOT1QgTlVMTCwKU1VDVVJTQUxNVlRPICAgICAgICAgICAgICAgTlVNRVJJQyAoNSkgREVG
QVVMVCAoKDApKSBOT1QgTlVMTCwKU0FMRE9TX0pUU19PSUQgICAgICAgICAgICAgTlVNRVJJQyAo
MTApIERFRkFVTFQgKCgwKSkgTk9UIE5VTEwsCkNVT1RBICAgICAgICAgICAgICAgICAgICAgIE5V
TUVSSUMgKDQpIE5PVCBOVUxMLApDQVBJVEFMX0NPQlJBRE8JCQlOVU1FUklDICgxNSwgMikgREVG
QVVMVCAoKDApKSwKQ0FQSVRBTF9DT05UQUIgICAgICAgICAgTlVNRVJJQyAoMTUsIDIpIERFRkFV
TFQgKCgwKSksCkNBUElUQUxfTk9fQ09OVEFCICAgICAgIE5VTUVSSUMgKDE1LCAyKSBERUZBVUxU
ICgoMCkpLApJTlRFUkVTX0NPQlJBRE8JCQlOVU1FUklDICgxNSwgMikgREVGQVVMVCAoKDApKSwK
SU5URVJFU19DT05UQUIgICAgICAgICAgTlVNRVJJQyAoMTUsIDIpIERFRkFVTFQgKCgwKSksCklO
VEVSRVNfTk9fQ09OVEFCICAgICAgIE5VTUVSSUMgKDE1LCAyKSBERUZBVUxUICgoMCkpLApNT1JB
X0NPQlJBRE8JCQlOVU1FUklDICgxNSwgMikgREVGQVVMVCAoKDApKSwKTU9SQV9DT05UQUIgICAg
ICAgICAgICAgTlVNRVJJQyAoMTUsIDIpIERFRkFVTFQgKCgwKSksCk1PUkFfTk9fQ09OVEFCICAg
ICAgICAgIE5VTUVSSUMgKDE1LCAyKSBERUZBVUxUICgoMCkpLApJQ01PUkFfQ09CUkFETwkJCU5V
TUVSSUMgKDE1LCAyKSBERUZBVUxUICgoMCkpLApJQ01PUkFfQ09OVEFCICAgICAgICAgICBOVU1F
UklDICgxNSwgMikgREVGQVVMVCAoKDApKSwKSUNNT1JBX05PX0NPTlRBQiAgICAgICAgTlVNRVJJ
QyAoMTUsIDIpIERFRkFVTFQgKCgwKSksCkdBU1RPX0NPQlJBRE8JCQlOVU1FUklDICgxNSwgMikg
REVGQVVMVCAoKDApKSwKR0FTVE9TX0NPTlRBQiAgICAgICAgICAgTlVNRVJJQyAoMTUsIDIpIERF
RkFVTFQgKCgwKSksCkdBU1RPU19OT19DT05UQUIgICAgICAgIE5VTUVSSUMgKDE1LCAyKSBERUZB
VUxUICgoMCkpLAkKQ09OU1RSQUlOVCBCU19QQVlTX0NPTkRPTkFfQV9DT05GSVJNQVJfS0VZIFBS
SU1BUlkgS0VZIChOUk9BU0lFTlRPTU9WLE9SRElOQUxBU0lFTlRPLEZFQ0hBUFJPQ0VTT01PVixT
VUNVUlNBTE1WVE8sU0FMRE9TX0pUU19PSUQsQ1VPVEEpCikKR087Cg0KCgoNCg==', NULL, 0);
