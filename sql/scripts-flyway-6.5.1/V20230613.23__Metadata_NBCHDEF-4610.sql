--Liberación Operación 2086
--Creación de la VW
EXECUTE('
IF OBJECT_ID (''dbo.VW_CERTIF_IVA'') IS NOT NULL
	DROP VIEW dbo.VW_CERTIF_IVA
')
EXECUTE('
CREATE   VIEW [dbo].[VW_CERTIF_IVA]
AS
SELECT DISTINCT *,
CASE WHEN CBI.FECHA_FIN IS NULL THEN
	''P''
	ELSE
	''T''
END AS PERM_TEMP

FROM CON_BITACORA_IMPUESTOS CBI WITH (nolock)
WHERE CBI.TABLA_CARGOS_IMPUESTOS IS NULL AND 
	CBI.ID_CLIENTE IS NOT NULL
')

--Creación del descriptor

EXECUTE('
DELETE FROM dbo.DESCRIPTORES
WHERE TITULO = 20 AND IDENTIFICACION = 3552
')
EXECUTE('
INSERT INTO dbo.DESCRIPTORES (TITULO, IDENTIFICACION, TIPODEARCHIVO, DESCRIPCION, GRUPODELMAPA, NOMBREFISICO, TIPODEDBMS, LARGODELREGISTRO, INICIALIZACIONDELREGISTRO, BASE, SELECCION, ACEPTA_MOVS_DIFERIDO)
VALUES (20, 3552, NULL, ''Vw para certifi de exclusion'', 0, ''VW_CERTIF_IVA'', ''D'', NULL, NULL, ''Top/Clientes'', NULL, ''N'')
')

EXECUTE('

DELETE FROM dbo.DICCIONARIO
WHERE NUMERODECAMPO = 45285

DELETE FROM dbo.DICCIONARIO
WHERE NUMERODECAMPO = 45287

DELETE FROM dbo.DICCIONARIO
WHERE NUMERODECAMPO = 45288

DELETE FROM dbo.DICCIONARIO
WHERE NUMERODECAMPO = 45289

DELETE FROM dbo.DICCIONARIO
WHERE NUMERODECAMPO = 45290

DELETE FROM dbo.DICCIONARIO
WHERE NUMERODECAMPO = 45291

DELETE FROM dbo.DICCIONARIO
WHERE NUMERODECAMPO = 45292

DELETE FROM dbo.DICCIONARIO
WHERE NUMERODECAMPO = 45293

DELETE FROM dbo.DICCIONARIO
WHERE NUMERODECAMPO = 45294

DELETE FROM dbo.DICCIONARIO
WHERE NUMERODECAMPO = 45295

DELETE FROM dbo.DICCIONARIO
WHERE NUMERODECAMPO = 45296

DELETE FROM dbo.DICCIONARIO
WHERE NUMERODECAMPO = 45297

DELETE FROM dbo.DICCIONARIO
WHERE NUMERODECAMPO = 45317

DELETE FROM dbo.DICCIONARIO
WHERE NUMERODECAMPO = 45318

DELETE FROM dbo.DICCIONARIO
WHERE NUMERODECAMPO = 45319

DELETE FROM dbo.DICCIONARIO
WHERE NUMERODECAMPO = 45336

DELETE FROM dbo.DICCIONARIO
WHERE NUMERODECAMPO = 45337

DELETE FROM dbo.DICCIONARIO
WHERE NUMERODECAMPO = 45338

DELETE FROM dbo.DICCIONARIO
WHERE NUMERODECAMPO = 45339

DELETE FROM dbo.DICCIONARIO
WHERE NUMERODECAMPO = 45340

DELETE FROM dbo.DICCIONARIO
WHERE NUMERODECAMPO = 45341

DELETE FROM dbo.DICCIONARIO
WHERE NUMERODECAMPO = 45342

DELETE FROM dbo.DICCIONARIO
WHERE NUMERODECAMPO = 45343

DELETE FROM dbo.DICCIONARIO
WHERE NUMERODECAMPO = 45344

DELETE FROM dbo.DICCIONARIO
WHERE NUMERODECAMPO = 45345

DELETE FROM dbo.DICCIONARIO
WHERE NUMERODECAMPO = 45346

DELETE FROM dbo.DICCIONARIO
WHERE NUMERODECAMPO = 45347
')
EXECUTE('
INSERT INTO dbo.DICCIONARIO (NUMERODECAMPO, USODELCAMPO, REFERENCIA, DESCRIPCION, PROMPT, LARGO, TIPODECAMPO, DECIMALES, EDICION, CONTABILIZA, CONCEPTO, CALCULO, VALIDACION, TABLADEVALIDACION, TABLADEAYUDA, OPCIONES, TABLA, CAMPO, BASICO, MASCARA)
VALUES (45285, '' '', 0, ''JTS_NOVEDAD'', ''JTS_NOVEDAD'', 15, ''N'', 0, NULL, 0, 0, 0, 0, 0, 0, 0, 3552, ''JTS_NOVEDAD'', 0, NULL)

INSERT INTO dbo.DICCIONARIO (NUMERODECAMPO, USODELCAMPO, REFERENCIA, DESCRIPCION, PROMPT, LARGO, TIPODECAMPO, DECIMALES, EDICION, CONTABILIZA, CONCEPTO, CALCULO, VALIDACION, TABLADEVALIDACION, TABLADEAYUDA, OPCIONES, TABLA, CAMPO, BASICO, MASCARA)
VALUES (45287, '' '', 0, ''TIPO_NOVEDAD'', ''TIPO_NOVEDAD'', 1, ''A'', 0, NULL, 0, 0, 0, 0, 0, 0, 0, 3552, ''TIPO_NOVEDAD'', 0, NULL)

INSERT INTO dbo.DICCIONARIO (NUMERODECAMPO, USODELCAMPO, REFERENCIA, DESCRIPCION, PROMPT, LARGO, TIPODECAMPO, DECIMALES, EDICION, CONTABILIZA, CONCEPTO, CALCULO, VALIDACION, TABLADEVALIDACION, TABLADEAYUDA, OPCIONES, TABLA, CAMPO, BASICO, MASCARA)
VALUES (45288, '' '', 0, ''OPERACION_TOPAZ'', ''OPERACION_TOPAZ'', 4, ''N'', 0, NULL, 0, 0, 0, 0, 0, 0, 0, 3552, ''OPERACION_TOPAZ'', 0, NULL)

INSERT INTO dbo.DICCIONARIO (NUMERODECAMPO, USODELCAMPO, REFERENCIA, DESCRIPCION, PROMPT, LARGO, TIPODECAMPO, DECIMALES, EDICION, CONTABILIZA, CONCEPTO, CALCULO, VALIDACION, TABLADEVALIDACION, TABLADEAYUDA, OPCIONES, TABLA, CAMPO, BASICO, MASCARA)
VALUES (45289, '' '', 0, ''FECHA_PROCESO'', ''FECHA_PROCESO'', 8, ''F'', 0, ''F'', 0, 0, 0, 0, 0, 0, 0, 3552, ''FECHA_PROCESO'', 0, NULL)


INSERT INTO dbo.DICCIONARIO (NUMERODECAMPO, USODELCAMPO, REFERENCIA, DESCRIPCION, PROMPT, LARGO, TIPODECAMPO, DECIMALES, EDICION, CONTABILIZA, CONCEPTO, CALCULO, VALIDACION, TABLADEVALIDACION, TABLADEAYUDA, OPCIONES, TABLA, CAMPO, BASICO, MASCARA)
VALUES (45290, '' '', 0, ''HORA'', ''HORA'', 6, ''H'', 0, ''H'', 0, 0, 0, 0, 0, 0, 0, 3552, ''HORA'', 0, NULL)


INSERT INTO dbo.DICCIONARIO (NUMERODECAMPO, USODELCAMPO, REFERENCIA, DESCRIPCION, PROMPT, LARGO, TIPODECAMPO, DECIMALES, EDICION, CONTABILIZA, CONCEPTO, CALCULO, VALIDACION, TABLADEVALIDACION, TABLADEAYUDA, OPCIONES, TABLA, CAMPO, BASICO, MASCARA)
VALUES (45291, '' '', 0, ''ASIENTO'', ''ASIENTO'', 7, ''N'', 0, NULL, 0, 0, 0, 0, 0, 0, 0, 3552, ''ASIENTO'', 0, NULL)


INSERT INTO dbo.DICCIONARIO (NUMERODECAMPO, USODELCAMPO, REFERENCIA, DESCRIPCION, PROMPT, LARGO, TIPODECAMPO, DECIMALES, EDICION, CONTABILIZA, CONCEPTO, CALCULO, VALIDACION, TABLADEVALIDACION, TABLADEAYUDA, OPCIONES, TABLA, CAMPO, BASICO, MASCARA)
VALUES (45292, '' '', 0, ''COD_USUARIO'', ''COD_USUARIO'', 10, ''A'', 0, NULL, 0, 0, 0, 0, 0, 0, 0, 3552, ''COD_USUARIO'', 0, NULL)


INSERT INTO dbo.DICCIONARIO (NUMERODECAMPO, USODELCAMPO, REFERENCIA, DESCRIPCION, PROMPT, LARGO, TIPODECAMPO, DECIMALES, EDICION, CONTABILIZA, CONCEPTO, CALCULO, VALIDACION, TABLADEVALIDACION, TABLADEAYUDA, OPCIONES, TABLA, CAMPO, BASICO, MASCARA)
VALUES (45293, '' '', 0, ''ARCHIVO_PADRON'', ''ARCHIVO_PADRON'', 30, ''A'', 0, NULL, 0, 0, 0, 0, 0, 0, 0, 3552, ''ARCHIVO_PADRON'', 0, NULL)


INSERT INTO dbo.DICCIONARIO (NUMERODECAMPO, USODELCAMPO, REFERENCIA, DESCRIPCION, PROMPT, LARGO, TIPODECAMPO, DECIMALES, EDICION, CONTABILIZA, CONCEPTO, CALCULO, VALIDACION, TABLADEVALIDACION, TABLADEAYUDA, OPCIONES, TABLA, CAMPO, BASICO, MASCARA)
VALUES (45294, '' '', 0, ''NUM_CERTIFICADO'', ''NUM_CERTIFICADO'', 30, ''A'', 0, NULL, 0, 0, 0, 0, 0, 0, 0, 3552, ''NUM_CERTIFICADO'', 0, NULL)


INSERT INTO dbo.DICCIONARIO (NUMERODECAMPO, USODELCAMPO, REFERENCIA, DESCRIPCION, PROMPT, LARGO, TIPODECAMPO, DECIMALES, EDICION, CONTABILIZA, CONCEPTO, CALCULO, VALIDACION, TABLADEVALIDACION, TABLADEAYUDA, OPCIONES, TABLA, CAMPO, BASICO, MASCARA)
VALUES (45295, '' '', 0, ''F_EMISION'', ''F_EMISION'', 8, ''F'', 0, ''F'', 0, 0, 0, 0, 0, 0, 0, 3552, ''F_EMISION'', 0, NULL)


INSERT INTO dbo.DICCIONARIO (NUMERODECAMPO, USODELCAMPO, REFERENCIA, DESCRIPCION, PROMPT, LARGO, TIPODECAMPO, DECIMALES, EDICION, CONTABILIZA, CONCEPTO, CALCULO, VALIDACION, TABLADEVALIDACION, TABLADEAYUDA, OPCIONES, TABLA, CAMPO, BASICO, MASCARA)
VALUES (45296, '' '', 0, ''SUCURSAL'', ''SUCURSAL'', 5, ''N'', 0, NULL, 0, 0, 0, 0, 0, 0, 0, 3552, ''SUCURSAL'', 0, NULL)


INSERT INTO dbo.DICCIONARIO (NUMERODECAMPO, USODELCAMPO, REFERENCIA, DESCRIPCION, PROMPT, LARGO, TIPODECAMPO, DECIMALES, EDICION, CONTABILIZA, CONCEPTO, CALCULO, VALIDACION, TABLADEVALIDACION, TABLADEAYUDA, OPCIONES, TABLA, CAMPO, BASICO, MASCARA)
VALUES (45297, '' '', 0, ''ID_CLIENTE'', ''ID_CLIENTE'', 12, ''N'', 0, NULL, 0, 0, 0, 0, 0, 0, 0, 3552, ''ID_CLIENTE'', 0, NULL)


INSERT INTO dbo.DICCIONARIO (NUMERODECAMPO, USODELCAMPO, REFERENCIA, DESCRIPCION, PROMPT, LARGO, TIPODECAMPO, DECIMALES, EDICION, CONTABILIZA, CONCEPTO, CALCULO, VALIDACION, TABLADEVALIDACION, TABLADEAYUDA, OPCIONES, TABLA, CAMPO, BASICO, MASCARA)
VALUES (45317, '' '', 0, ''ID_PERSONA'', ''ID_PERSONA'', 12, ''N'', 0, NULL, 0, 0, 0, 0, 0, 0, 0, 3552, ''ID_PERSONA'', 0, NULL)


INSERT INTO dbo.DICCIONARIO (NUMERODECAMPO, USODELCAMPO, REFERENCIA, DESCRIPCION, PROMPT, LARGO, TIPODECAMPO, DECIMALES, EDICION, CONTABILIZA, CONCEPTO, CALCULO, VALIDACION, TABLADEVALIDACION, TABLADEAYUDA, OPCIONES, TABLA, CAMPO, BASICO, MASCARA)
VALUES (45318, '' '', 0, ''TIPO_ID'', ''TIPO_ID'', 1, ''A'', 0, NULL, 0, 0, 0, 0, 0, 0, 0, 3552, ''TIPO_ID'', 0, NULL)


INSERT INTO dbo.DICCIONARIO (NUMERODECAMPO, USODELCAMPO, REFERENCIA, DESCRIPCION, PROMPT, LARGO, TIPODECAMPO, DECIMALES, EDICION, CONTABILIZA, CONCEPTO, CALCULO, VALIDACION, TABLADEVALIDACION, TABLADEAYUDA, OPCIONES, TABLA, CAMPO, BASICO, MASCARA)
VALUES (45319, '' '', 0, ''CUIT'', ''CUIT'', 11, ''N'', 0, NULL, 0, 0, 0, 0, 0, 0, 0, 3552, ''CUIT'', 0, NULL)


INSERT INTO dbo.DICCIONARIO (NUMERODECAMPO, USODELCAMPO, REFERENCIA, DESCRIPCION, PROMPT, LARGO, TIPODECAMPO, DECIMALES, EDICION, CONTABILIZA, CONCEPTO, CALCULO, VALIDACION, TABLADEVALIDACION, TABLADEAYUDA, OPCIONES, TABLA, CAMPO, BASICO, MASCARA)
VALUES (45336, '' '', 0, ''TIPO_CARGO_IMPOSITIVO'', ''TIPO_CARGO_IMPOSITIVO'', 2, ''N'', 0, NULL, 0, 0, 0, 0, 0, 0, 0, 3552, ''TIPO_CARGO_IMPOSITIVO'', 0, NULL)


INSERT INTO dbo.DICCIONARIO (NUMERODECAMPO, USODELCAMPO, REFERENCIA, DESCRIPCION, PROMPT, LARGO, TIPODECAMPO, DECIMALES, EDICION, CONTABILIZA, CONCEPTO, CALCULO, VALIDACION, TABLADEVALIDACION, TABLADEAYUDA, OPCIONES, TABLA, CAMPO, BASICO, MASCARA)
VALUES (45337, '' '', 0, ''TABLA_CARGOS_IMPUESTOS'', ''TABLA_CARGOS_IMPUESTOS'', 1, ''A'', 0, NULL, 0, 0, 0, 0, 0, 0, 0, 3552, ''TABLA_CARGOS_IMPUESTOS'', 0, NULL)


INSERT INTO dbo.DICCIONARIO (NUMERODECAMPO, USODELCAMPO, REFERENCIA, DESCRIPCION, PROMPT, LARGO, TIPODECAMPO, DECIMALES, EDICION, CONTABILIZA, CONCEPTO, CALCULO, VALIDACION, TABLADEVALIDACION, TABLADEAYUDA, OPCIONES, TABLA, CAMPO, BASICO, MASCARA)
VALUES (45338, '' '', 0, ''ID_CARGO_IMPUESTO'', ''ID_CARGO_IMPUESTO'', 4, ''N'', 0, NULL, 0, 0, 0, 0, 0, 0, 0, 3552, ''ID_CARGO_IMPUESTO'', 0, NULL)


INSERT INTO dbo.DICCIONARIO (NUMERODECAMPO, USODELCAMPO, REFERENCIA, DESCRIPCION, PROMPT, LARGO, TIPODECAMPO, DECIMALES, EDICION, CONTABILIZA, CONCEPTO, CALCULO, VALIDACION, TABLADEVALIDACION, TABLADEAYUDA, OPCIONES, TABLA, CAMPO, BASICO, MASCARA)
VALUES (45339, '' '', 0, ''CONDICION'', ''CONDICION'', 2, ''A'', 0, NULL, 0, 0, 0, 0, 0, 0, 0, 3552, ''CONDICION'', 0, NULL)


INSERT INTO dbo.DICCIONARIO (NUMERODECAMPO, USODELCAMPO, REFERENCIA, DESCRIPCION, PROMPT, LARGO, TIPODECAMPO, DECIMALES, EDICION, CONTABILIZA, CONCEPTO, CALCULO, VALIDACION, TABLADEVALIDACION, TABLADEAYUDA, OPCIONES, TABLA, CAMPO, BASICO, MASCARA)
VALUES (45340, '' '', 0, ''VALOR_EXCLUSION'', ''VALOR_EXCLUSION'', 11, ''N'', 7, NULL, 0, 0, 0, 0, 0, 0, 0, 3552, ''VALOR_EXCLUSION'', 0, NULL)


INSERT INTO dbo.DICCIONARIO (NUMERODECAMPO, USODELCAMPO, REFERENCIA, DESCRIPCION, PROMPT, LARGO, TIPODECAMPO, DECIMALES, EDICION, CONTABILIZA, CONCEPTO, CALCULO, VALIDACION, TABLADEVALIDACION, TABLADEAYUDA, OPCIONES, TABLA, CAMPO, BASICO, MASCARA)
VALUES (45341, '' '', 0, ''ALICUOTA'', ''ALICUOTA'', 2, ''A'', 0, NULL, 0, 0, 0, 0, 0, 0, 0, 3552, ''ALICUOTA'', 0, NULL)


INSERT INTO dbo.DICCIONARIO (NUMERODECAMPO, USODELCAMPO, REFERENCIA, DESCRIPCION, PROMPT, LARGO, TIPODECAMPO, DECIMALES, EDICION, CONTABILIZA, CONCEPTO, CALCULO, VALIDACION, TABLADEVALIDACION, TABLADEAYUDA, OPCIONES, TABLA, CAMPO, BASICO, MASCARA)
VALUES (45342, '' '', 0, ''VALOR_ALICUOTA_IIBB'', ''VALOR_ALICUOTA_IIBB'', 11, ''N'', 7, NULL, 0, 0, 0, 0, 0, 0, 0, 3552, ''VALOR_ALICUOTA_IIBB'', 0, NULL)


INSERT INTO dbo.DICCIONARIO (NUMERODECAMPO, USODELCAMPO, REFERENCIA, DESCRIPCION, PROMPT, LARGO, TIPODECAMPO, DECIMALES, EDICION, CONTABILIZA, CONCEPTO, CALCULO, VALIDACION, TABLADEVALIDACION, TABLADEAYUDA, OPCIONES, TABLA, CAMPO, BASICO, MASCARA)
VALUES (45343, '' '', 0, ''FECHA_INICIO'', ''FECHA_INICIO'', 8, ''F'', 0, ''F'', 0, 0, 0, 0, 0, 0, 0, 3552, ''FECHA_INICIO'', 0, NULL)


INSERT INTO dbo.DICCIONARIO (NUMERODECAMPO, USODELCAMPO, REFERENCIA, DESCRIPCION, PROMPT, LARGO, TIPODECAMPO, DECIMALES, EDICION, CONTABILIZA, CONCEPTO, CALCULO, VALIDACION, TABLADEVALIDACION, TABLADEAYUDA, OPCIONES, TABLA, CAMPO, BASICO, MASCARA)
VALUES (45344, '' '', 0, ''FECHA_FIN'', ''FECHA_FIN'', 8, ''F'', 0, ''F'', 0, 0, 0, 0, 0, 0, 0, 3552, ''FECHA_FIN'', 0, NULL)


INSERT INTO dbo.DICCIONARIO (NUMERODECAMPO, USODELCAMPO, REFERENCIA, DESCRIPCION, PROMPT, LARGO, TIPODECAMPO, DECIMALES, EDICION, CONTABILIZA, CONCEPTO, CALCULO, VALIDACION, TABLADEVALIDACION, TABLADEAYUDA, OPCIONES, TABLA, CAMPO, BASICO, MASCARA)
VALUES (45345, '' '', 0, ''COMENTARIOS'', ''COMENTARIOS'', 300, ''A'', 0, NULL, 0, 0, 0, 0, 0, 0, 0, 3552, ''COMENTARIOS'', 0, NULL)


INSERT INTO dbo.DICCIONARIO (NUMERODECAMPO, USODELCAMPO, REFERENCIA, DESCRIPCION, PROMPT, LARGO, TIPODECAMPO, DECIMALES, EDICION, CONTABILIZA, CONCEPTO, CALCULO, VALIDACION, TABLADEVALIDACION, TABLADEAYUDA, OPCIONES, TABLA, CAMPO, BASICO, MASCARA)
VALUES (45346, '' '', 0, ''CBU'', ''CBU'', 22, ''A'', 0, NULL, 0, 0, 0, 0, 0, 0, 0, 3552, ''CBU'', 0, NULL)


INSERT INTO dbo.DICCIONARIO (NUMERODECAMPO, USODELCAMPO, REFERENCIA, DESCRIPCION, PROMPT, LARGO, TIPODECAMPO, DECIMALES, EDICION, CONTABILIZA, CONCEPTO, CALCULO, VALIDACION, TABLADEVALIDACION, TABLADEAYUDA, OPCIONES, TABLA, CAMPO, BASICO, MASCARA)
VALUES (45347, '' '', 0, ''PERM_TEMP'', ''PERM_TEMP'', 1, ''A'', 0, NULL, 0, 0, 0, 0, 0, 0, 0, 3552, ''PERM_TEMP'', 0, NULL)
')
--Indices
EXECUTE('
DELETE FROM dbo.INDICES
WHERE NUMERODEARCHIVO = 3552 AND NUMERODEINDICE = 1

INSERT INTO dbo.INDICES (NUMERODEARCHIVO, NUMERODEINDICE, DESCRIPCION, CLAVESREPETIDAS, CAMPO1, CAMPO2, CAMPO3, CAMPO4, CAMPO5, CAMPO6, CAMPO7, CAMPO8, CAMPO9, CAMPO10, CAMPO11, CAMPO12, CAMPO13, CAMPO14, CAMPO15, CAMPO16, CAMPO17, CAMPO18, CAMPO19, CAMPO20)
VALUES (3552, 1, NULL, 0, 45297, 45285, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL)
')
--Operación
EXECUTE('
DELETE FROM dbo.OPERACIONES
WHERE TITULO = 2080 AND IDENTIFICACION = 2086
')
EXECUTE('
INSERT INTO dbo.OPERACIONES (TITULO, IDENTIFICACION, NOMBRE, DESCRIPCION, MNEMOTECNICO, AUTORIZACION, FORMULARIOPRINCIPAL, PROXOPERACION, ESTADO, TZ_LOCK, COPIAS, SUBOPERACION, PERMITEBAJA, COMPORTAMIENTOENCIERRE, REQUIERECONTRASENA, PERMITECONCURRENTE, PERMITEESTADODIFERIDO, ICONO_TITULO, ESTILO)
VALUES (2080, 2086, ''Consulta condiciones impositivas '', ''Consulta condiciones impositivas de Pers y Cli'', ''2086'', ''N'', NULL, NULL, ''P'', 0, NULL, 0, ''N'', ''N'', ''N'', ''N'', ''N'', NULL, 0)
')
