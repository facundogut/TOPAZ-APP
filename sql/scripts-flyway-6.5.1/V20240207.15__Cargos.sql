EXECUTE('
----campos de tipo cargo impositovo
DELETE FROM dbo.OPCIONES WHERE NUMERODECAMPO = 51420 AND IDIOMA = ''E'' AND OPCIONINTERNA = ''16''

DELETE FROM dbo.OPCIONES WHERE NUMERODECAMPO = 51420 AND IDIOMA = ''E'' AND OPCIONINTERNA = ''17''
')

EXECUTE('
INSERT INTO dbo.OPCIONES (NUMERODECAMPO, IDIOMA, DESCRIPCION, OPCIONINTERNA, OPCIONDEPANTALLA)
VALUES (51420, ''E'', ''SIRCREB EXENTOS'', ''16'', ''16'')

INSERT INTO dbo.OPCIONES (NUMERODECAMPO, IDIOMA, DESCRIPCION, OPCIONINTERNA, OPCIONDEPANTALLA)
VALUES (51420, ''E'', ''CREDEB EXENTOS'', ''17'', ''17'')
')

EXECUTE('
----creacion de campos para el módulo de cargos
DELETE DICCIONARIO WHERE NUMERODECAMPO IN (58372,58408)

INSERT INTO dbo.DICCIONARIO (NUMERODECAMPO, USODELCAMPO, REFERENCIA, DESCRIPCION, PROMPT, LARGO, TIPODECAMPO, DECIMALES, EDICION, CONTABILIZA, CONCEPTO, CALCULO, VALIDACION, TABLADEVALIDACION, TABLADEAYUDA, OPCIONES, TABLA, CAMPO, BASICO, MASCARA)
VALUES (58372, '' '', 0, ''Campo SIRCREB Ex'', ''Campo SIRCREB Ex'', 1, ''A'', 0, NULL, 0, 0, 0, 0, 0, 0, 0, 0, NULL, 0, NULL)

INSERT INTO dbo.DICCIONARIO (NUMERODECAMPO, USODELCAMPO, REFERENCIA, DESCRIPCION, PROMPT, LARGO, TIPODECAMPO, DECIMALES, EDICION, CONTABILIZA, CONCEPTO, CALCULO, VALIDACION, TABLADEVALIDACION, TABLADEAYUDA, OPCIONES, TABLA, CAMPO, BASICO, MASCARA)
VALUES (58408, '' '', 0, ''Campo CREDEB Ex'', ''Campo CREDEB Ex'', 1, ''A'', 0, NULL, 0, 0, 0, 0, 0, 0, 0, 0, NULL, 0, NULL)
')

EXECUTE('
---conceptos codigos de transaccion

DELETE TTR_CODIGO_TRANSACCION_DEF WHERE CODIGO_TRANSACCION IN (219,220)
')

EXECUTE('
INSERT INTO dbo.TTR_CODIGO_TRANSACCION_DEF (TZ_LOCK, CODIGO_TRANSACCION, DESCRIPCION, UTILIZA_CONTADOR_MOVIM, EN_PROMEDIO_MENSUAL, USO_COMERCIAL, INFO_EXTENDIDA, GRUPO, TIPO, DEBITO_CREDITO)
VALUES (0, 219, ''Sircreb Exento'', ''N'', NULL, '' '', ''N'', 0, NULL, NULL)

INSERT INTO dbo.TTR_CODIGO_TRANSACCION_DEF (TZ_LOCK, CODIGO_TRANSACCION, DESCRIPCION, UTILIZA_CONTADOR_MOVIM, EN_PROMEDIO_MENSUAL, USO_COMERCIAL, INFO_EXTENDIDA, GRUPO, TIPO, DEBITO_CREDITO)
VALUES (0, 220, ''Credeb Exento'', ''N'', NULL, '' '', ''N'', 0, NULL, NULL)
')


EXECUTE('
----sircreb es 5 y credeb es 6 creacion de cargos exentos  (ojo con campo genera_factura_en_cero, formula=1)
DELETE CI_CARGOS WHERE ID_CARGO IN (505,420,421)
')

EXECUTE('
INSERT INTO dbo.CI_CARGOS (ID_CARGO, DESCRIPCION, ENQUEUE, EXONERABLE, ID_FORMULA, ACTUALIZABLE, CONDICION, PIVOT_, MONEDA_IMPORTE, IMPORTE_MINIMO, IMPORTE_MAXIMO, TRATAMIENTO_MINIMO, TZ_LOCK, CAMPO_MONTO_IMPONIBLE, CAMPO_RANGO_TARIFA, NETEAR, CANTIDAD_REINTENTOS, CONCEPTO, PIVOT_ENCOLA, CONTABILIZA, SOBREGIRO, BLOQUEO, CONTROL_MAX_MIN, TIPO_FECHA_VIGENCIA, TIPO_DOCUMENTO, ACEPTAPAGOPARCIAL, FECHAHASTA, FECHADESDE, MONEDA_RANGO, BUSCA_MONEDA_RANGO, CODIGO_TRANSACCION, REGENERA_AL_PAGAR, CARGO_O_IMPUESTO, INCLUIRENCUOTA, CUOTASNOCONSIDERARALFINAL, COBRARHASTADIAS, PORCENTAJE_MINIMO, PORCENTAJE_MAXIMO, CAMPO_DIA_COBRO, GENERA_RESERVA, DIAS_COBRO_HASTA_INMOVILIZADA, DESCRIPCION_1, DESCRIPCION_2, DESCRIPCION_3, GENERA_FACTURA_EN_CERO, TIPO_CARGO_IMPOSITIVO)
VALUES (505, ''SIRCREB EX'', ''N'', ''N'', 16, ''N'', 502, 58370, 1, 0, 9999999999999, ''C'', 0, 0, 0, ''N'', 9999, 0, NULL, NULL, ''R'', ''R'', ''N'', 2, ''F'', ''N'', ''20500331'', ''19990301'', 0, ''N'', 219, ''N'', ''I'', ''N'', 0, 0, 0, 0, 0, NULL, 0, NULL, NULL, NULL, ''S'', 16)

INSERT INTO dbo.CI_CARGOS (ID_CARGO, DESCRIPCION, ENQUEUE, EXONERABLE, ID_FORMULA, ACTUALIZABLE, CONDICION, PIVOT_, MONEDA_IMPORTE, IMPORTE_MINIMO, IMPORTE_MAXIMO, TRATAMIENTO_MINIMO, TZ_LOCK, CAMPO_MONTO_IMPONIBLE, CAMPO_RANGO_TARIFA, NETEAR, CANTIDAD_REINTENTOS, CONCEPTO, PIVOT_ENCOLA, CONTABILIZA, SOBREGIRO, BLOQUEO, CONTROL_MAX_MIN, TIPO_FECHA_VIGENCIA, TIPO_DOCUMENTO, ACEPTAPAGOPARCIAL, FECHAHASTA, FECHADESDE, MONEDA_RANGO, BUSCA_MONEDA_RANGO, CODIGO_TRANSACCION, REGENERA_AL_PAGAR, CARGO_O_IMPUESTO, INCLUIRENCUOTA, CUOTASNOCONSIDERARALFINAL, COBRARHASTADIAS, PORCENTAJE_MINIMO, PORCENTAJE_MAXIMO, CAMPO_DIA_COBRO, GENERA_RESERVA, DIAS_COBRO_HASTA_INMOVILIZADA, DESCRIPCION_1, DESCRIPCION_2, DESCRIPCION_3, GENERA_FACTURA_EN_CERO, TIPO_CARGO_IMPOSITIVO)
VALUES (420, ''IMPUESTO AL DÉBITO LEY 25413 EX'', ''N'', ''N'', 16, ''N'', 420, 58365, 1, 0, 9999999999999, ''C'', 0, 0, 0, ''N'', 9999, 0, NULL, NULL, ''R'', ''R'', ''N'', 2, ''F'', ''N'', ''20500331'', ''19990301'', 0, ''N'', 220, ''N'', ''I'', ''N'', 0, 0, 0, 0, 0, NULL, 0, NULL, NULL, NULL, ''S'', 17)

INSERT INTO dbo.CI_CARGOS (ID_CARGO, DESCRIPCION, ENQUEUE, EXONERABLE, ID_FORMULA, ACTUALIZABLE, CONDICION, PIVOT_, MONEDA_IMPORTE, IMPORTE_MINIMO, IMPORTE_MAXIMO, TRATAMIENTO_MINIMO, TZ_LOCK, CAMPO_MONTO_IMPONIBLE, CAMPO_RANGO_TARIFA, NETEAR, CANTIDAD_REINTENTOS, CONCEPTO, PIVOT_ENCOLA, CONTABILIZA, SOBREGIRO, BLOQUEO, CONTROL_MAX_MIN, TIPO_FECHA_VIGENCIA, TIPO_DOCUMENTO, ACEPTAPAGOPARCIAL, FECHAHASTA, FECHADESDE, MONEDA_RANGO, BUSCA_MONEDA_RANGO, CODIGO_TRANSACCION, REGENERA_AL_PAGAR, CARGO_O_IMPUESTO, INCLUIRENCUOTA, CUOTASNOCONSIDERARALFINAL, COBRARHASTADIAS, PORCENTAJE_MINIMO, PORCENTAJE_MAXIMO, CAMPO_DIA_COBRO, GENERA_RESERVA, DIAS_COBRO_HASTA_INMOVILIZADA, DESCRIPCION_1, DESCRIPCION_2, DESCRIPCION_3, GENERA_FACTURA_EN_CERO, TIPO_CARGO_IMPOSITIVO)
VALUES (421, ''IMPUESTO AL CRÉDITO LEY 25413 EX'', ''N'', ''N'', 16, ''N'', 421, 58365, 1, 0, 9999999999999, ''C'', 0, 0, 0, ''N'', 9999, 0, NULL, NULL, ''R'', ''R'', ''N'', 2, ''F'', ''N'', ''20500331'', ''19990301'', 0, ''N'', 220, ''N'', ''I'', ''N'', 0, 0, 0, 0, 0, NULL, 0, NULL, NULL, NULL, ''S'', 17)
')

EXECUTE('
----creacion nuevas formulas

INSERT INTO dbo.CI_FORMULAS (ID_FORMULA, DESCRIPCION, FORMULA, TZ_LOCK, ES_CONDICION)
VALUES (16, ''EXENTOS IMPUESTOS'', ''C36*0'', 0, 0)

INSERT INTO dbo.CI_FORMULAS (ID_FORMULA, DESCRIPCION, FORMULA, TZ_LOCK, ES_CONDICION)
VALUES (502, ''CONDICIÓN SIRCREB TRANSFERENCIA EXENTA'', ''(C33991#'''''''')Y(C58401#''''S'''')Y(C58700#''''70'''')Y(C1728#''''I'''')Y(C58372=''''S'''')'', 0, 1)

INSERT INTO dbo.CI_FORMULAS (ID_FORMULA, DESCRIPCION, FORMULA, TZ_LOCK, ES_CONDICION)
VALUES (420, ''CONDICIÓN CREDEB DÉBITO GENERICA EXENTOS'', ''(C34095=''''AC'''')Y(C58400#''''S'''')Y(C58402#''''S'''')Y(C58403#''''S'''')Y(C58404#''''S'''')Y(C1728#''''I'''')Y(C1592#86)Y(C1592#80)Y(C1592#90)Y(C58408=''''S'''')'', 0, 1)

INSERT INTO dbo.CI_FORMULAS (ID_FORMULA, DESCRIPCION, FORMULA, TZ_LOCK, ES_CONDICION)
VALUES (421, ''CONDICIÓN CREDEB CRÉDITO GENERICA EXENTOS'', ''(C34095=''''AC'''')Y(C58400#''''S'''')Y(C58700#''''70'''')Y(C1728#''''I'''')Y(C35690#90)Y(C35690#80)Y(C58408=''''S'''')'', 0, 1)
')

EXECUTE('
---ajustes en formulas para sircreb y credeb actuales

UPDATE dbo.CI_FORMULAS
SET FORMULA = ''(C33991#'''''''')Y(C58401#''''S'''')Y(C58700#''''70'''')Y(C1728#''''I'''')Y(C58372#''''S'''')''
WHERE ID_FORMULA = 501

UPDATE dbo.CI_FORMULAS
SET FORMULA = ''(C34095=''''AC'''')Y(C58400#''''S'''')Y(C58402#''''S'''')Y(C58403#''''S'''')Y(C58404#''''S'''')Y(C1728#''''I'''')Y(C1592#86)Y(C1592#80)Y(C1592#90)Y(C58408#''''S'''')''
WHERE ID_FORMULA = 400

UPDATE dbo.CI_FORMULAS
SET FORMULA = ''(C34095=''''AC'''')Y(C58400#''''S'''')Y(C58700#''''70'''')Y(C1728#''''I'''')Y(C35690#90)Y(C35690#80)Y(C58408#''''S'''')''
WHERE ID_FORMULA = 401
')
