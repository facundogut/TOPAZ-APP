--EXEC sys.sp_dropextendedproperty @name=N'MS_SSMA_SOURCE' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'VW_APODERADOS'
--GO

/****** Object:  View [dbo].[VW_APODERADOS]    Script Date: 24/02/2021 12:17:51 ******/
DROP VIEW [dbo].[VW_APODERADOS]
GO

/****** Object:  View [dbo].[VW_APODERADOS]    Script Date: 24/02/2021 12:17:51 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE VIEW [dbo].[VW_APODERADOS] (
   ID_ENTIDAD, 
   TIPO_PODER, 
   PODER, 
   TIPO_ENTIDAD, 
   ENTIDAD, 
   ID_PERSONA, 
   CATEGORIA, 
   PRIMERNOMBRE, 
   APELLIDOPATERNO, 
   APELLIDOMATERNO)
AS 
   /*Generated by SQL Server Migration Assistant for Oracle version 7.9.0.*/
   SELECT --TOP 9223372036854775807 WITH TIES 
      A.ID_ENTIDAD, 
      A.TIPO_PODER, 
      B.DESCRIPCION AS PODER, 
      A.TIPO_ENTIDAD, 
      C.DESCRIPCION AS ENTIDAD, 
      A.ID_PERSONA, 
      A.CATEGORIA, 
      E.PRIMERNOMBRE, 
      E.APELLIDOPATERNO, 
      E.APELLIDOMATERNO
   FROM 
      dbo.PYF_APODERADOS  AS A WITH (NOLOCK) 
      INNER JOIN dbo.PYF_TIPOPODERES  AS B WITH (NOLOCK) ON A.TIPO_PODER = B.TIPO_PODER
      INNER JOIN dbo.PYF_TIPOENTIDAD  AS C WITH (NOLOCK) ON A.TIPO_ENTIDAD = C.TIPO_ENTIDAD 
      INNER JOIN dbo.CLI_PERSONASFISICAS  AS E WITH (NOLOCK) ON A.ID_PERSONA = E.NUMEROPERSONAFISICA
   WHERE 
      A.TZ_LOCK = 0 AND 
      B.TZ_LOCK = 0 AND 
      C.TZ_LOCK = 0 AND 
      E.TZ_LOCK = 0
 /*  ORDER BY 
      A.ID_ENTIDAD, 
      A.TIPO_ENTIDAD, 
      A.TIPO_PODER, 
      A.CATEGORIA
*/
GO

--EXEC sys.sp_addextendedproperty @name=N'MS_SSMA_SOURCE', @value=N'BANKPROD.VW_APODERADOS' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'VW_APODERADOS'
--GO


