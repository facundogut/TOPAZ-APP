EXECUTE('

ALTER   VIEW [dbo].[VW_TABLA_ATM]
AS

SELECT
		DISTINCT a.NRO_ATM,
		a.NOMBRE,
		A.MONEDA,
		m.C6400 AS DESCRIPCION_MONEDA, 
		A.CODIGO_ATM,
		a.DIRECCION,
		a.LOCALIDAD,
		a.SUCURSAL_UBICACION,
		S1.NOMBRESUCURSAL AS NOMBRE_SUCURSAL_UBICACION,
		a.SUCURSAL_CONTABLE,
		S2.NOMBRESUCURSAL AS NOMBRE_SUCURSAL_CONTABLE,
		o3.DESCRIPCION AS UBICACION,
		o1.DESCRIPCION AS ESTADO,
		a.CATEGORIA,
		c.DESCRIPCION AS DESCRIPCION_CATEGORIA,
		o2.DESCRIPCION AS DESCRIPCION_ADMINISTRACION,
		A.TRANSPORTADORA,
		T.NOMBRE_CLI AS NOMBRE_TRANSPORTADORA
  		
		
		
FROM TABLA_ATM A WITH (nolock)
		INNER JOIN MONEDAS M WITH(nolock) ON m.C6399 = a.MONEDA AND M.TZ_LOCK=0 
		INNER JOIN SUCURSALES S1 WITH(nolock) ON S1.SUCURSAL = a.SUCURSAL_UBICACION AND S1.TZ_LOCK=0 
		INNER JOIN SUCURSALES S2 WITH(nolock) ON S2.SUCURSAL = a.SUCURSAL_CONTABLE AND S2.TZ_LOCK=0 
		LEFT JOIN OPCIONES o1 with (nolock)
                  ON (o1.NUMERODECAMPO=49259 AND o1.IDIOMA=''E'' AND a.ESTADO=o1.OPCIONINTERNA)
        INNER JOIN CAJ_ATM_CATEGORIAS C WITH(nolock) ON C.CATEGORIA = a.CATEGORIA AND 
        ((C.tz_lock < 300000000000000 OR C.tz_lock >= 400000000000000) AND (C.tz_lock < 100000000000000 OR C.tz_lock >= 200000000000000))
        LEFT JOIN OPCIONES o2 with (nolock)
                  ON (o2.NUMERODECAMPO=49263 AND o2.IDIOMA=''E'' AND a.ADMINISTRACION=o2.OPCIONINTERNA)
        LEFT JOIN OPCIONES o3 with (nolock)
                  ON (o3.NUMERODECAMPO=49258 AND o3.IDIOMA=''E'' AND a.UBICACION=o3.OPCIONINTERNA)
        LEFT JOIN REM_TRANSPORTADORAS T WITH(nolock) ON T.NRO_CLIENTE=a.TRANSPORTADORA AND T.TZ_LOCK=0
        WHERE (A.tz_lock < 300000000000000 OR A.tz_lock >= 400000000000000) AND (A.tz_lock < 100000000000000 OR A.tz_lock >= 200000000000000)
')