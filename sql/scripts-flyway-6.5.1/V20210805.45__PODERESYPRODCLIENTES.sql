EXECUTE('
CREATE VIEW dbo.VW_PODERESCLIENTE  (

	[Tipo Documento Identificativo],
	[Número Documento Identificativo],
	[Nombre / Razón Social],
	[ID Entidad],
	[Tipo Entidad],
	[Descripción Entidad],
	[Tipo Poder],
	[Descripción Poder],
	[Número de Persona]
	
)
AS
 SELECT 
    DF.TIPODOCUMENTO,
    DF.NUMERODOCUMENTO,
    PF.APELLIDOPATERNO +'' ''+ PF.PRIMERNOMBRE,
    A.ID_ENTIDAD,
    A.TIPO_ENTIDAD,
    TE.DESCRIPCION,
    A.TIPO_PODER,
    TP.DESCRIPCION ,
    PF.NUMEROPERSONAFISICA
         
 FROM  
	  dbo.CLI_PERSONASFISICAS PF 
      JOIN dbo.CLI_DocumentosPFPJ DF ON PF.NUMEROPERSONAFISICA = DF.NUMEROPERSONAFJ
      JOIN dbo.PYF_APODERADOS AS A ON PF.NUMEROPERSONAFISICA = A.ID_PERSONA
      JOIN dbo.PYF_TIPOPODERES AS TP ON A.TIPO_PODER = TP.TIPO_PODER
      JOIN dbo.PYF_TIPOENTIDAD AS TE ON A.TIPO_ENTIDAD = TE.TIPO_ENTIDAD
 WHERE 
      ((A.TZ_LOCK < 300000000000000 OR A.TZ_LOCK >= 400000000000000) AND (A.TZ_LOCK < 100000000000000 OR A.TZ_LOCK >= 200000000000000)) AND 
      ((PF.TZ_LOCK < 300000000000000 OR PF.TZ_LOCK >= 400000000000000) AND (PF.TZ_LOCK < 100000000000000 OR PF.TZ_LOCK >= 200000000000000)) AND 
   	  ((DF.TZ_LOCK < 300000000000000 OR DF.TZ_LOCK >= 400000000000000) AND (DF.TZ_LOCK < 100000000000000 OR DF.TZ_LOCK >= 200000000000000)) AND
   	  ((TP.TZ_LOCK < 300000000000000 OR TP.TZ_LOCK >= 400000000000000) AND (TP.TZ_LOCK < 100000000000000 OR TP.TZ_LOCK >= 200000000000000)) AND 
   	  ((TE.TZ_LOCK < 300000000000000 OR TE.TZ_LOCK >= 400000000000000) AND (TE.TZ_LOCK < 100000000000000 OR TE.TZ_LOCK >= 200000000000000))
UNION ALL 

SELECT   
    DF.TIPODOCUMENTO,
    DF.NUMERODOCUMENTO,
    PJ.RAZONSOCIAL,
    A.ID_ENTIDAD,
    A.TIPO_ENTIDAD,
    TE.DESCRIPCION,
    A.TIPO_PODER ,
    TP.DESCRIPCION,  
    PJ.NUMEROPERSONAJURIDICA
           
 FROM  
      dbo.CLI_PERSONASJURIDICAS PJ 
      JOIN dbo.CLI_DocumentosPFPJ DF ON PJ.NUMEROPERSONAJURIDICA = DF.NUMEROPERSONAFJ
      JOIN dbo.PYF_APODERADOS AS A ON PJ.NUMEROPERSONAJURIDICA = A.ID_PERSONA
      JOIN dbo.PYF_TIPOPODERES AS TP ON A.TIPO_PODER = TP.TIPO_PODER
      JOIN dbo.PYF_TIPOENTIDAD AS TE ON A.TIPO_ENTIDAD = TE.TIPO_ENTIDAD
 WHERE 

      ((A.TZ_LOCK < 300000000000000 OR A.TZ_LOCK >= 400000000000000) AND (A.TZ_LOCK < 100000000000000 OR A.TZ_LOCK >= 200000000000000)) AND 
      ((PJ.TZ_LOCK < 300000000000000 OR PJ.TZ_LOCK >= 400000000000000) AND (PJ.TZ_LOCK < 100000000000000 OR PJ.TZ_LOCK >= 200000000000000)) AND 
   	  ((DF.TZ_LOCK < 300000000000000 OR DF.TZ_LOCK >= 400000000000000) AND (DF.TZ_LOCK < 100000000000000 OR DF.TZ_LOCK >= 200000000000000)) AND
   	  ((TP.TZ_LOCK < 300000000000000 OR TP.TZ_LOCK >= 400000000000000) AND (TP.TZ_LOCK < 100000000000000 OR TP.TZ_LOCK >= 200000000000000)) AND 
   	  ((TE.TZ_LOCK < 300000000000000 OR TE.TZ_LOCK >= 400000000000000) AND (TE.TZ_LOCK < 100000000000000 OR TE.TZ_LOCK >= 200000000000000))
')

EXECUTE('
CREATE VIEW dbo.VW_PRODUCTOSCLIENTE  (
	[Cliente],
	[Nombre Cliente],
	[Producto],
	[Desc. Producto],
	[Cuenta],
	[JTS_OID]
	
)
AS
 SELECT 
    S.C1803,
    C.NOMBRECLIENTE,
    S.PRODUCTO,
    P.C6251,
    S.CUENTA,
    S.JTS_OID
         
   FROM  
      dbo.SALDOS AS S
      JOIN dbo.PRODUCTOS AS P ON S.PRODUCTO = P.C6250
      JOIN dbo.CLI_CLIENTES AS C ON S.C1803 = C.CODIGOCLIENTE
       

   WHERE 
      S.C1785 IN (2,3,4)  AND
      ((S.TZ_LOCK < 300000000000000 OR S.TZ_LOCK >= 400000000000000) AND (S.TZ_LOCK < 100000000000000 OR S.TZ_LOCK >= 200000000000000)) AND 
      ((P.TZ_LOCK < 300000000000000 OR P.TZ_LOCK >= 400000000000000) AND (P.TZ_LOCK < 100000000000000 OR P.TZ_LOCK >= 200000000000000)) AND 
      ((C.TZ_LOCK < 300000000000000 OR C.TZ_LOCK >= 400000000000000) AND (C.TZ_LOCK < 100000000000000 OR C.TZ_LOCK >= 200000000000000))

')



EXECUTE('

INSERT INTO dbo.DICCIONARIO (NUMERODECAMPO, USODELCAMPO, REFERENCIA, DESCRIPCION, PROMPT, LARGO, TIPODECAMPO, DECIMALES, EDICION, CONTABILIZA, CONCEPTO, CALCULO, VALIDACION, TABLADEVALIDACION, TABLADEAYUDA, OPCIONES, TABLA, CAMPO, BASICO, MASCARA)
VALUES (37272, '' '', 0, ''Poderes Clientes'', ''Poderes Clientes'', 12, ''N'', 0, NULL, 0, 0, 0, 0, 0, 3588, 0, 0, ''PODERES_CLIENTE'', 0, NULL)

INSERT INTO dbo.DICCIONARIO (NUMERODECAMPO, USODELCAMPO, REFERENCIA, DESCRIPCION, PROMPT, LARGO, TIPODECAMPO, DECIMALES, EDICION, CONTABILIZA, CONCEPTO, CALCULO, VALIDACION, TABLADEVALIDACION, TABLADEAYUDA, OPCIONES, TABLA, CAMPO, BASICO, MASCARA)
VALUES (37273, '' '', 0, ''Productos Clientes'', ''Productos Clientes'', 12, ''N'', 0, NULL, 0, 0, 0, 0, 0, 3587, 0, 0, ''PRODUCTOS_CLIENTE'', 0, NULL)

INSERT INTO dbo.AYUDAS (NUMERODEARCHIVO, NUMERODEAYUDA, DESCRIPCION, FILTRO, MOSTRARTODOS, CAMPOS, CAMPOSVISTA, BASEVISTA, NOMBREVISTA, AYUDAGRANDE)
VALUES (0, 3587, ''VW_PRODUCTOSCLIENTE'', '''', 0, ''3251;410;66;1901;665;565;'', ''Cliente;Nombre Cliente;Producto;Desc. Producto;Cuenta;JTS_OID;'', ''TOP/CLIENTES'', ''VW_PRODUCTOSCLIENTE'', 0)

INSERT INTO dbo.AYUDAS (NUMERODEARCHIVO, NUMERODEAYUDA, DESCRIPCION, FILTRO, MOSTRARTODOS, CAMPOS, CAMPOSVISTA, BASEVISTA, NOMBREVISTA, AYUDAGRANDE)
VALUES (0, 3588, ''VW_PODERESCLIENTE'', '''', 0, ''1064;1936;1901;114;11942;324;66;910;665;'', ''Tipo Documento Identificativo;Número Documento Identificativo;Nombre / Razón Social;ID Entidad;Tipo Entidad;Descripción Entidad;Tipo Poder;Descripción Poder;Número de Persona;'', ''TOP/CLIENTES'', ''VW_PODERESCLIENTE'', 0)

')






